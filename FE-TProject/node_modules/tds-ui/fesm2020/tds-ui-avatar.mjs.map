{"version":3,"file":"tds-ui-avatar.mjs","sources":["../../../projects/tds-ui/avatar/avatar.component.ts","../../../projects/tds-ui/avatar/avatar-group.component.ts","../../../projects/tds-ui/avatar/avatar-group.component.html","../../../projects/tds-ui/avatar/avatar.module.ts","../../../projects/tds-ui/avatar/tds-ui-avatar.ts"],"sourcesContent":["\r\n\r\nimport { NumberInput } from '@angular/cdk/coercion';\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  Output,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { NgClassInterface, NgStyleInterface, TDSConfigKey, TDSConfigService, WithConfig } from 'tds-ui/core/config';\r\nimport { InputNumber, TDSHelperString } from 'tds-ui/shared/utility';\r\n\r\nconst TDS_CONFIG_MODULE_NAME: TDSConfigKey = 'avatar';\r\n\r\n@Component({\r\n  selector: 'tds-avatar',\r\n  exportAs: 'tdsAvatar',\r\n  template: `\r\n  <i [class]=\"icon\"  *ngIf=\"icon && hasIcon\" ></i>\r\n  <img *ngIf=\"tdsSrc && hasSrc\" [src]=\"tdsSrc\" [attr.srcset]=\"tdsSrcSet\" [attr.alt]=\"alt\" (error)=\"imgError($event)\" />\r\n  <span class=\"tds-avatar-string\" #textEl *ngIf=\"text && hasText\">{{ text }}</span>  \r\n  <svg *ngIf=\"showPlaceholder && !hasTdsSrcPlaceholder && isAvatar\" viewBox=\"0 0 36 36\"  class=\"w-full h-full\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M36 0H0V36H36V0Z\" fill=\"#F2F4F7\"/>\r\n<path d=\"M18 23.03C12.6318 23.0301 7.42685 24.876 3.258 28.258C2.07431 29.241 0.983696 30.3309 0 31.514L0 36H36V31.237C34.9771 30.1771 33.889 29.1822 32.742 28.258C28.5732 24.876 23.3682 23.0301 18 23.03Z\" fill=\"#D0D7DE\"/>\r\n<path d=\"M18 19.8C19.335 19.8 20.6401 19.4041 21.7501 18.6624C22.8601 17.9207 23.7253 16.8665 24.2362 15.6331C24.7471 14.3997 24.8808 13.0425 24.6203 11.7331C24.3598 10.4238 23.717 9.22102 22.773 8.27702C21.829 7.33302 20.6262 6.69014 19.3169 6.42969C18.0075 6.16924 16.6503 6.30291 15.4169 6.8138C14.1835 7.3247 13.1293 8.18986 12.3876 9.29989C11.6459 10.4099 11.25 11.715 11.25 13.05C11.25 14.8402 11.9612 16.5571 13.227 17.823C14.4929 19.0888 16.2098 19.8 18 19.8Z\" fill=\"#D0D7DE\"/>\r\n</svg>  \r\n<svg *ngIf=\"showPlaceholder && !hasTdsSrcPlaceholder && !isAvatar\" class=\"w-full h-full\"   xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 480 480\" fill=\"none\">\r\n<rect class=\"w-full h-full\"  fill=\"#E9EDF2\"/>\r\n<path d=\"M195.249 231.124C205.01 231.124 212.948 223.163 212.948 213.373C212.948 203.584 205.01 195.623 195.249 195.623C185.487 195.623 177.548 203.584 177.548 213.373C177.548 223.163 185.487 231.124 195.249 231.124Z\" fill=\"#A1ACB8\"/>\r\n<path d=\"M305.874 169H173.124C160.93 169 151 178.958 151 191.188V288.812C151 301.042 160.93 311 173.124 311H305.874C318.07 311 328 301.042 328 288.812V191.188C328 178.958 318.07 169 305.874 169ZM173.124 186.75H305.874C308.318 186.75 310.3 188.738 310.3 191.188V254.192L282.343 221.478C279.378 217.99 275.085 216.126 270.475 216.021C265.89 216.047 261.59 218.088 258.652 221.621L225.782 261.184L215.074 250.472C209.021 244.402 199.17 244.402 193.126 250.472L168.7 274.958V191.188C168.7 188.738 170.682 186.75 173.124 186.75Z\" fill=\"#A1ACB8\"/>\r\n</svg>\r\n<img *ngIf=\"showPlaceholder && hasTdsSrcPlaceholder\" [src]=\"tdsSrcPlaceholder\" [attr.srcset]=\"tdsSrcPlaceholder\" [attr.alt]=\"alt\"/>\r\n  `,\r\n  host: {\r\n    '[class.tds-avatar-lg]': `size === 'lg'`,\r\n    '[class.tds-avatar-sm]': `size === 'sm'`,\r\n    '[class.tds-avatar-square]': `shape === 'square'`,\r\n    '[class.tds-avatar-circle]': `shape === 'circle'`,\r\n    '[class.tds-avatar-icon]': `icon`,\r\n    '[class.tds-avatar-image]': `hasSrc `,\r\n    '[style.width]': 'customSize',\r\n    '[style.height]': 'customSize',\r\n    '[style.line-height]': 'customSize',\r\n    // size type is number when customSize is true\r\n    '[style.font-size.px]': '(hasIcon && customSize) ? $any(size) / 2 : null',\r\n    \"[class]\": 'classMap'\r\n  },\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class TDSAvatarComponent implements OnChanges {\r\n  static ngAcceptInputType_gap: NumberInput;\r\n\r\n  readonly _tdsModuleName: TDSConfigKey = TDS_CONFIG_MODULE_NAME;\r\n  @Input() @WithConfig() shape: 'square' | 'circle' = 'circle';\r\n  @Input() @WithConfig() size: 'md' | 'lg' | 'sm' | 'xl' | number = 'md';\r\n  @Input() @WithConfig() @InputNumber() gap = 4;\r\n  @Input() isAvatar: boolean = true;\r\n  @Input() text?: string;\r\n  @Input() tdsSrc?: string;\r\n  @Input() tdsSrcSet?: string;\r\n  @Input() tdsSrcPlaceholder?: string;\r\n  @Input() alt?: string;\r\n  @Input() icon?: string;\r\n  @Output() readonly error = new EventEmitter<Event>();\r\n  showPlaceholder: boolean = false;\r\n  hasText: boolean = false;\r\n  hasSrc: boolean = true;\r\n  hasIcon: boolean = false;\r\n  textStyles: NgStyleInterface = {};\r\n  classMap: NgClassInterface = {};\r\n  customSize: string | null = null;\r\n  @ViewChild('textEl', { static: false }) textEl?: ElementRef;\r\n\r\n  private el: HTMLElement = this.elementRef.nativeElement;\r\n\r\n  constructor(\r\n    public tdsConfigService: TDSConfigService,\r\n    private elementRef: ElementRef,\r\n    private cdr: ChangeDetectorRef,\r\n    private platform: Platform\r\n  ) {\r\n    // TODO: move to host after View Engine deprecation\r\n    this.elementRef.nativeElement.classList.add('tds-avatar');\r\n  }\r\n  get hasTdsSrc() {\r\n    return TDSHelperString.hasValueString(this.tdsSrc);\r\n  }\r\n  imgError($event: Event): void {\r\n    this.error.emit($event);\r\n    if (!$event.defaultPrevented) {\r\n      this.hasSrc = false;\r\n      this.hasIcon = false;\r\n      this.hasText = false;\r\n      this.showPlaceholder = false;\r\n      if (TDSHelperString.hasValueString(this.icon)) {\r\n        this.hasIcon = true;\r\n      } else if (TDSHelperString.hasValueString(this.text)) {\r\n        this.hasText = true;\r\n      } else {\r\n        this.showPlaceholder = true;\r\n      }\r\n      this.cdr.detectChanges();\r\n      this.setSizeStyle();\r\n      this.notifyCalc();\r\n    }\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    this.hasText = !TDSHelperString.hasValueString(this.tdsSrc) && TDSHelperString.hasValueString(this.text);\r\n    this.hasIcon = !TDSHelperString.hasValueString(this.tdsSrc) && TDSHelperString.hasValueString(this.icon);\r\n    this.hasSrc = TDSHelperString.hasValueString(this.tdsSrc);\r\n    this.showPlaceholder = !this.hasIcon && !this.hasSrc && !this.hasText;\r\n    this.setSizeStyle();\r\n    this.notifyCalc();\r\n    this.buildClsCss();\r\n    // this.buildClsIcon();\r\n  }\r\n\r\n  private calcStringSize(): void {\r\n    if (!TDSHelperString.hasValueString(this.text)) {\r\n      return;\r\n    }\r\n\r\n    const childrenWidth = this.textEl!.nativeElement.offsetWidth;\r\n    const avatarWidth = this.el.getBoundingClientRect().width;\r\n    const offset = this.gap * 2 < avatarWidth ? this.gap * 2 : 8;\r\n    const scale = avatarWidth - offset < childrenWidth ? (avatarWidth - offset) / childrenWidth : 1;\r\n\r\n    this.textStyles = {\r\n      'transform-origin': `0 center`,\r\n      transform: `scale(${scale}) translateX(-50%)`\r\n    };\r\n    if (this.customSize) {\r\n      Object.assign(this.textStyles, {\r\n        lineHeight: this.customSize\r\n      });\r\n    }\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  private notifyCalc(): void {\r\n    // If use ngAfterViewChecked, always demands more computations, so......\r\n    if (this.platform.isBrowser) {\r\n      setTimeout(() => {\r\n        this.calcStringSize();\r\n      });\r\n    }\r\n  }\r\n\r\n  private setSizeStyle(): void {\r\n    if (typeof this.size === 'number') {\r\n      this.customSize = `${this.size}px`;\r\n    } else {\r\n      this.customSize = null;\r\n    }\r\n    this.cdr.markForCheck();\r\n  }\r\n  buildClsCss() {\r\n    this.classMap = {};\r\n    let defaulClass = {\r\n      \"h-6\": this.size === 'sm',\r\n      \"w-6\": this.size === 'sm',\r\n      \"h-9\": this.size === 'md',\r\n      \"w-9\": this.size === 'md',\r\n      \"h-12\": this.size === 'lg',\r\n      \"w-12\": this.size === 'lg',\r\n      \"h-16\": this.size === 'xl',\r\n      \"w-16\": this.size === 'xl',\r\n      \"box-border\": true,\r\n      \"m-0\": true,\r\n      \"p-0\": true,\r\n      \"relative\": true,\r\n      \"inline-flex\": true,\r\n      \"items-center\": true,\r\n      \"justify-center\": true,\r\n      \"overflow-hidden\": true,\r\n      \"align-middle\": true,\r\n      \"text-center\": true,\r\n      \"whitespace-nowrap\": true,\r\n      \"text-base\": this.size === 'sm',\r\n      \"text-lg\": this.size === 'md',\r\n      \"text-2xl\": this.size === 'lg',\r\n      \"text-4xl\": this.size === 'xl',\r\n    }\r\n    if (this.shape != \"circle\") {\r\n      if (typeof this.size != \"number\")\r\n        this.classMap = {\r\n          \"rounded-md\": this.size === 'sm',\r\n          \"rounded-lg\": this.size === 'md',\r\n          \"rounded-10\": this.size === 'lg',\r\n          \"rounded-xl\": this.size === 'xl',\r\n          ...defaulClass\r\n          // \r\n        };\r\n      else {\r\n        this.classMap = defaulClass;\r\n      }\r\n    } else {\r\n      this.classMap = {\r\n        \"rounded-full\": true,\r\n        ...defaulClass\r\n      };\r\n    }\r\n  }\r\n  get hasTdsSrcPlaceholder(){\r\n    return TDSHelperString.hasValueString(this.tdsSrcPlaceholder);\r\n  }\r\nget element()\r\n{\r\n  return this.el;\r\n}\r\n}\r\n","\r\n\r\nimport { ChangeDetectionStrategy, Component, ContentChildren, Input, OnChanges, QueryList, SimpleChanges } from '@angular/core';\r\nimport { TDSAvatarComponent } from './avatar.component';\r\n\r\n@Component({\r\n  selector: 'tds-avatar-group',\r\n  exportAs: 'tdsAvatarGroup',\r\n  // template: `<ng-content></ng-content>`,\r\n  templateUrl: './avatar-group.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    class: 'tds-avatar-group inline-flex'\r\n  }\r\n})\r\nexport class TDSAvatarGroupComponent {\r\n  @ContentChildren(TDSAvatarComponent, { descendants: true }) lstAvatar!: QueryList<TDSAvatarComponent>;\r\n  @Input() tdsClass:Array<string> =['-ml-3','border','border-white','rounded-full'];\r\n  ngAfterViewInit(): void {\r\n    if (this.lstAvatar) {\r\n        this.lstAvatar.forEach((avatar:TDSAvatarComponent,index:number) =>{\r\n          if(index != 0)\r\n          {\r\n            this.tdsClass.forEach(cl=>{\r\n              avatar.element.classList.add(cl);\r\n            })\r\n            \r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n","<ng-content></ng-content>","\r\n\r\nimport { BidiModule } from '@angular/cdk/bidi';\r\nimport { PlatformModule } from '@angular/cdk/platform';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { TDSAvatarGroupComponent } from './avatar-group.component';\r\nimport { TDSAvatarComponent } from './avatar.component';\r\n\r\n@NgModule({\r\n  declarations: [TDSAvatarComponent, TDSAvatarGroupComponent],\r\n  exports: [TDSAvatarComponent, TDSAvatarGroupComponent],\r\n  imports: [BidiModule, CommonModule,  PlatformModule]\r\n})\r\nexport class TDSAvatarModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}