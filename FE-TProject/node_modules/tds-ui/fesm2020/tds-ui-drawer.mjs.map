{"version":3,"file":"tds-ui-drawer.mjs","sources":["../../../projects/tds-ui/drawer/drawer-content.directive.ts","../../../projects/tds-ui/drawer/drawer-ref.ts","../../../projects/tds-ui/drawer/drawer.component.ts","../../../projects/tds-ui/drawer/drawer.service.module.ts","../../../projects/tds-ui/drawer/drawer.module.ts","../../../projects/tds-ui/drawer/drawer.service.ts","../../../projects/tds-ui/drawer/tds-ui-drawer.ts"],"sourcesContent":["\r\n\r\nimport { Directive, TemplateRef } from '@angular/core';\r\n\r\n\r\n@Directive({\r\n  selector: '[tdsDrawerContent]',\r\n  exportAs: 'tdsDrawerContent'\r\n})\r\nexport class TDSDrawerContentDirective {\r\n  constructor(public templateRef: TemplateRef<any>) {}\r\n}\r\n","\r\n\r\nimport { TemplateRef } from '@angular/core';\r\n\r\nimport { Observable } from 'rxjs';\r\nimport { TDSSafeAny } from 'tds-ui/shared/utility';\r\nimport { TDSDrawerPlacement } from './drawer-options';\r\n\r\nexport abstract class TDSDrawerRef<T = TDSSafeAny, R = TDSSafeAny> {\r\n  abstract afterClose: Observable<R>;\r\n  abstract afterOpen: Observable<void>;\r\n  abstract close(result?: R): void;\r\n  abstract open(): void;\r\n  abstract getContentComponent(): T | null;\r\n\r\n  abstract closable?: boolean;\r\n  abstract noAnimation?: boolean;\r\n  abstract maskClosable?: boolean;\r\n  abstract keyboard?: boolean;\r\n  abstract mask?: boolean;\r\n  abstract title?: string | TemplateRef<{}>;\r\n  abstract placement?: TDSDrawerPlacement;\r\n  abstract maskStyle?: object;\r\n  abstract bodyStyle?: object;\r\n  abstract wrapClassName?: string;\r\n  abstract width?: number | string | null;\r\n  abstract height?: number | string | null;\r\n  abstract zIndex?: number | string;\r\n  abstract offsetX?: number | string;\r\n  abstract offsetY?: number | string;\r\n}\r\n","\r\n\r\nimport { FocusTrap, FocusTrapFactory } from '@angular/cdk/a11y';\r\nimport { Direction, Directionality } from '@angular/cdk/bidi';\r\nimport { BooleanInput } from '@angular/cdk/coercion';\r\nimport { ESCAPE } from '@angular/cdk/keycodes';\r\nimport { Overlay, OverlayConfig, OverlayKeyboardDispatcher, OverlayRef } from '@angular/cdk/overlay';\r\nimport { CdkPortalOutlet, ComponentPortal, TemplatePortal } from '@angular/cdk/portal';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  EventEmitter,\r\n  Inject,\r\n  Injector,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  Type,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { NgStyleInterface, TDSDrawerSize } from 'tds-ui/core/config';\r\nimport { InputBoolean, TDSHelperObject, TDSSafeAny, toCssPixel } from 'tds-ui/shared/utility';\r\n\r\n\r\nimport { TDSDrawerContentDirective } from './drawer-content.directive';\r\nimport { TDSDrawerOptionsOfComponent, TDSDrawerPlacement } from './drawer-options';\r\nimport { TDSDrawerRef } from './drawer-ref';\r\n\r\nexport const DRAWER_ANIMATE_DURATION = 300;\r\n\r\nconst TDS_CONFIG_MODULE_NAME = 'drawer';\r\n\r\n@Component({\r\n  selector: 'tds-drawer',\r\n  exportAs: 'tdsDrawer',\r\n  template: `\r\n    <ng-template #drawerTemplate>\r\n      <div\r\n        class=\"tds-drawer \"\r\n        [class.tds-drawer-rtl]=\"dir === 'rtl'\"\r\n        [class.no-mask]=\"!mask\"\r\n        [class.tds-drawer-top]=\"placement === 'top'\"\r\n        [class.tds-drawer-bottom]=\"placement === 'bottom'\"\r\n        [class.tds-drawer-right]=\"placement === 'right'\"\r\n        [class.right-0]=\"placement === 'right'\"\r\n        [class.top-0]=\"isLeftOrRight\"\r\n        [class.tds-drawer-left]=\"placement === 'left'\"\r\n        [class.left-0]=\"placement === 'left'\"\r\n        [style.transform]=\"offsetTransform\"\r\n        [style.transition]=\"placementChanging ? 'none' : null\"\r\n        [style.zIndex]=\"zIndex\"\r\n        [ngClass]=\"{'tds-drawer-open delay-[0s] duration-300 transition-transform w-full':isOpen}\"\r\n      >\r\n        <div class=\"tds-drawer-mask absolute top-0 left-0  w-full bg-black bg-opacity-40  \" (click)=\"maskClick()\" *ngIf=\"mask\" [ngStyle]=\"maskStyle\"\r\n        [ngClass]=\"{'pointer-events-auto h-full opacity-100 transition-none   animate-drawer':isOpen,'pointer-events-none h-0 opacity-0 transition-[opacity,height] duration-[0.3s,0s] ease-[linear,ease] delay-[0s,0.3s]':!isOpen}\"\r\n        ></div>\r\n        <div\r\n          class=\"tds-drawer-content-wrapper absolute h-full transition-[transform,box-shadow] duration-[0.3s,0.3s] ease-[cubic-bezier(0.23, 1, 0.32, 1), cubic-bezier(0.23, 1, 0.32, 1)] delay-[0s,0s] {{ wrapClassName }}\"\r\n          [ngClass]=\"{'top-0':isLeftOrRight}\"\r\n          [class.right-0]=\"placement === 'right'\"         \r\n          [class.left-0]=\"placement === 'left'\"\r\n          [class.top-0]=\"placement === 'top'\"\r\n          [class.bottom-0]=\"placement === 'bottom'\"\r\n          [style.width]=\"width\"\r\n          [style.height]=\"height\"\r\n          [style.transform]=\"transform\"\r\n          [style.transition]=\"placementChanging ? 'none' : null\"\r\n        >\r\n          <div class=\"tds-drawer-content  bg-white dark:bg-d-neutral-3-200 h-full w-full relative overflow-auto border-0 z-10 text-neutral-1-900 dark:text-d-neutral-1-900 \">\r\n            <div class=\"tds-drawer-wrapper-body flex flex-col  w-full\" [ngClass]=\"{'h-full':isLeftOrRight}\">\r\n              <div *ngIf=\"title || closable\" \r\n              [class.tds-drawer-header]=\"!!title\"\r\n               [class.tds-drawer-header-no-title]=\"!title\" \r\n               [ngClass]=\"{'flex items-center justify-between px-4 py-3.5':!!title}\"\r\n               >\r\n                <div *ngIf=\"title\" class=\"tds-drawer-title flex-auto\">\r\n                  <ng-container *tdsStringTemplateOutlet=\"title\">\r\n                    <div class=\"break-words text-header-1 font-semibold  \" [innerHTML]=\"title\"></div>\r\n                  </ng-container>\r\n                </div>\r\n                <div *ngIf=\"closable\" (click)=\"closeClick()\" aria-label=\"Close\" class=\"tds-drawer-close text-neutral-1-500 dark:text-d-neutral-1-500 focus:outline-none font-semibold rounded-md box-border\" style=\"--scroll-bar: 0px;\">\r\n                  <ng-container *tdsStringTemplateOutlet=\"closeIcon; let closeIcon\">\r\n                    <button tds-button-close></button>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n              <div class=\"tds-drawer-body flex-auto w-full p-4\" [ngStyle]=\"bodyStyle\">\r\n                <ng-template cdkPortalOutlet></ng-template>\r\n                <ng-container *ngIf=\"content; else contentElseTemp\">\r\n                  <ng-container *ngIf=\"isTemplateRef(content)\">\r\n                    <ng-container *ngTemplateOutlet=\"$any(content); context: templateContext\"></ng-container>\r\n                  </ng-container>\r\n                </ng-container>\r\n                <ng-template #contentElseTemp>\r\n                  <ng-container *ngIf=\"contentFromContentChild && (isOpen || inAnimation)\">\r\n                    <ng-template [ngTemplateOutlet]=\"contentFromContentChild\"></ng-template>\r\n                  </ng-container>\r\n                </ng-template>\r\n                <ng-content *ngIf=\"!(content || contentFromContentChild)\"></ng-content>\r\n              </div>\r\n              <div *ngIf=\"footer\" class=\"tds-drawer-footer w-full \">\r\n                <ng-container *tdsStringTemplateOutlet=\"footer\">\r\n                  <div class=\"w-full p-4\" [innerHTML]=\"footer\"></div>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n  `,\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class TDSDrawerComponent<T = TDSSafeAny, R = TDSSafeAny, D = TDSSafeAny>\r\n  extends TDSDrawerRef<T, R>\r\n  implements OnInit, OnDestroy, AfterViewInit, OnChanges, AfterContentInit, TDSDrawerOptionsOfComponent {\r\n\r\n  static ngAcceptInputType_closable: BooleanInput;\r\n  static ngAcceptInputType_maskClosable: BooleanInput;\r\n  static ngAcceptInputType_mask: BooleanInput;\r\n  static ngAcceptInputType_noAnimation: BooleanInput;\r\n  static ngAcceptInputType_keyboard: BooleanInput;\r\n  static ngAcceptInputType_closeOnNavigation: BooleanInput;\r\n  @Input() size: TDSDrawerSize = null;\r\n  @Input() content!: TemplateRef<{ $implicit: D; drawerRef: TDSDrawerRef<R> }> | Type<T>;\r\n  @Input() closeIcon: string | TemplateRef<void> = 'close';\r\n  @Input() @InputBoolean() closable: boolean = true;\r\n  @Input() @InputBoolean() maskClosable: boolean = true;\r\n  @Input() @InputBoolean() mask: boolean = true;\r\n  @Input() @InputBoolean() closeOnNavigation: boolean = true;\r\n  @Input() @InputBoolean() noAnimation = false;\r\n  @Input() @InputBoolean() keyboard: boolean = true;\r\n  @Input() title?: string | TemplateRef<{}>;\r\n  @Input() footer?: string | TemplateRef<{}>;\r\n  @Input() placement: TDSDrawerPlacement = 'right';\r\n  @Input() maskStyle: NgStyleInterface = {};\r\n  @Input() bodyStyle: NgStyleInterface = {};\r\n  @Input() wrapClassName?: string;\r\n\r\n  @Input() zIndex = 1000;\r\n  @Input() offsetX = 0;\r\n  @Input() offsetY = 0;\r\n  private componentInstance: T | null = null;\r\n  private _width: number | string | null = 400;\r\n  private _height: number | string | null = 400;\r\n  @Input() set width(val: number | string | null) {\r\n    this._width = val;\r\n  }\r\n  @Input()\r\n  set height(val: number | string | null) {\r\n    this._height = val;\r\n  }\r\n  get width(): number | string | null {\r\n    return this.isLeftOrRight ? toCssPixel(this.getWidthBySize()) : null;\r\n  }\r\n\r\n  get height(): number | string | null {\r\n    return !this.isLeftOrRight ? toCssPixel(this.getHeightBySize()) : null;\r\n  }\r\n  getWidthBySize(): number | string | null {\r\n    if (TDSHelperObject.hasValue(this.size)) {\r\n      let result = 400\r\n      switch (this.size) {\r\n        case \"sm\":\r\n          result = 320;\r\n          break;\r\n        case \"lg\":\r\n          result = 640;\r\n          break;\r\n        case \"xl\":\r\n          result = 780;\r\n          break;\r\n        //md\r\n        default:\r\n          result = 400;\r\n          break;\r\n      }\r\n      return result;\r\n    } else {\r\n      return this._width;\r\n    }\r\n  }\r\n  getHeightBySize() {\r\n    if (TDSHelperObject.hasValue(this.size)) {\r\n      let result = 400\r\n      switch (this.size) {\r\n        case \"sm\":\r\n          result = 320;\r\n          break;\r\n        case \"lg\":\r\n          result = 640;\r\n          break;\r\n        //md\r\n        default:\r\n          result = 400;\r\n          break;\r\n      }\r\n      return result;\r\n    } else {\r\n      return this._height;\r\n    }\r\n  }\r\n  @Input()\r\n  set visible(value: boolean) {\r\n    this.isOpen = value;\r\n  }\r\n\r\n  get visible(): boolean {\r\n    return this.isOpen;\r\n  }\r\n\r\n  @Output() readonly onViewInit = new EventEmitter<void>();\r\n  @Output() readonly onClose = new EventEmitter<MouseEvent>();\r\n  @Output() readonly visibleChange = new EventEmitter<boolean>();\r\n\r\n  @ViewChild('drawerTemplate', { static: true }) drawerTemplate!: TemplateRef<void>;\r\n  @ViewChild(CdkPortalOutlet, { static: false }) bodyPortalOutlet?: CdkPortalOutlet;\r\n  @ContentChild(TDSDrawerContentDirective, { static: true, read: TemplateRef }) contentFromContentChild?: TemplateRef<any>;\r\n\r\n  private destroy$ = new Subject<void>();\r\n  previouslyFocusedElement?: HTMLElement;\r\n  placementChanging = false;\r\n  placementChangeTimeoutId: any = -1;\r\n  contentParams?: D; // only service\r\n  overlayRef?: OverlayRef | null;\r\n  portal?: TemplatePortal;\r\n  focusTrap?: FocusTrap;\r\n  isOpen = false;\r\n  inAnimation = false;\r\n  templateContext: { $implicit: D | undefined; drawerRef: TDSDrawerRef<T, R> } = {\r\n    $implicit: undefined,\r\n    drawerRef: this as TDSDrawerRef<T, R>\r\n  };\r\n\r\n  get offsetTransform(): string | null {\r\n    if (!this.isOpen || this.offsetX + this.offsetY === 0) {\r\n      return null;\r\n    }\r\n    switch (this.placement) {\r\n      case 'left':\r\n        return `translateX(${this.offsetX}px)`;\r\n      case 'right':\r\n        return `translateX(-${this.offsetX}px)`;\r\n      case 'top':\r\n        return `translateY(${this.offsetY}px)`;\r\n      case 'bottom':\r\n        return `translateY(-${this.offsetY}px)`;\r\n    }\r\n  }\r\n\r\n  get transform(): string | null {\r\n    if (this.isOpen) {\r\n      return null;\r\n    }\r\n\r\n    switch (this.placement) {\r\n      case 'left':\r\n        return `translateX(-100%)`;\r\n      case 'right':\r\n        return `translateX(100%)`;\r\n      case 'top':\r\n        return `translateY(-100%)`;\r\n      case 'bottom':\r\n        return `translateY(100%)`;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  get isLeftOrRight(): boolean {\r\n    return this.placement === 'left' || this.placement === 'right';\r\n  }\r\n\r\n  onAfterOpen = new Subject<void>();\r\n  onAfterClose = new Subject<R>();\r\n\r\n  get afterOpen(): Observable<void> {\r\n    return this.onAfterOpen.asObservable();\r\n  }\r\n\r\n  get afterClose(): Observable<R> {\r\n    return this.onAfterClose.asObservable();\r\n  }\r\n\r\n  isTemplateRef(value: {}): boolean {\r\n    return value instanceof TemplateRef;\r\n  }\r\n\r\n  // from service config\r\n  direction?: Direction = undefined;\r\n\r\n  dir: Direction = 'ltr';\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    // tslint:disable-next-line:no-any\r\n    @Optional() @Inject(DOCUMENT) private document: any,\r\n\r\n    private renderer: Renderer2,\r\n    private overlay: Overlay,\r\n    private injector: Injector,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n    private focusTrapFactory: FocusTrapFactory,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private overlayKeyboardDispatcher: OverlayKeyboardDispatcher,\r\n    @Optional() private directionality: Directionality\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.directionality.change?.pipe(takeUntil(this.destroy$)).subscribe((direction: Direction) => {\r\n      this.dir = direction;\r\n      this.cdr.detectChanges();\r\n    });\r\n    this.dir = this.direction || this.directionality.value;\r\n\r\n    this.attachOverlay();\r\n    this.updateOverlayStyle();\r\n    this.updateBodyOverflow();\r\n    this.templateContext = { $implicit: this.contentParams, drawerRef: this as TDSDrawerRef<T, R> };\r\n    this.changeDetectorRef.detectChanges();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.attachBodyContent();\r\n    setTimeout(() => {\r\n      this.onViewInit.emit();\r\n    });\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    if (!(this.contentFromContentChild || this.content)) {\r\n      console.warn(\r\n        'Usage `<ng-content></ng-content>` is deprecated, which will be removed in 12.0.0. Please instead use `<ng-template tdsDrawerContent></ng-template>` to declare the content of the drawer.'\r\n      );\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const { placement, visible } = changes;\r\n    if (visible) {\r\n      const value = changes.visible.currentValue;\r\n      if (value) {\r\n        this.open();\r\n      } else {\r\n        this.close();\r\n      }\r\n    }\r\n    if (placement && !placement.isFirstChange()) {\r\n      this.triggerPlacementChangeCycleOnce();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n    clearTimeout(this.placementChangeTimeoutId);\r\n    this.disposeOverlay();\r\n  }\r\n\r\n  private getAnimationDuration(): number {\r\n    return this.noAnimation ? 0 : DRAWER_ANIMATE_DURATION;\r\n  }\r\n\r\n  // Disable the transition animation temporarily when the placement changing\r\n  private triggerPlacementChangeCycleOnce(): void {\r\n    if (!this.noAnimation) {\r\n      this.placementChanging = true;\r\n      this.changeDetectorRef.markForCheck();\r\n      clearTimeout(this.placementChangeTimeoutId);\r\n      this.placementChangeTimeoutId = setTimeout(() => {\r\n        this.placementChanging = false;\r\n        this.changeDetectorRef.markForCheck();\r\n      }, this.getAnimationDuration());\r\n    }\r\n  }\r\n\r\n  close(result?: R): void {\r\n    this.isOpen = false;\r\n    this.inAnimation = true;\r\n    this.visibleChange.emit(false);\r\n    this.updateOverlayStyle();\r\n    this.overlayKeyboardDispatcher.remove(this.overlayRef!);\r\n    this.changeDetectorRef.detectChanges();\r\n    setTimeout(() => {\r\n      this.updateBodyOverflow();\r\n      this.restoreFocus();\r\n      this.inAnimation = false;\r\n      this.onAfterClose.next(result);\r\n      this.onAfterClose.complete();\r\n      this.componentInstance = null;\r\n    }, this.getAnimationDuration());\r\n  }\r\n\r\n  open(): void {\r\n    this.attachOverlay();\r\n    this.isOpen = true;\r\n    this.inAnimation = true;\r\n    this.visibleChange.emit(true);\r\n    this.overlayKeyboardDispatcher.add(this.overlayRef!);\r\n    this.updateOverlayStyle();\r\n    this.updateBodyOverflow();\r\n    this.savePreviouslyFocusedElement();\r\n    this.trapFocus();\r\n    this.changeDetectorRef.detectChanges();\r\n    setTimeout(() => {\r\n      this.inAnimation = false;\r\n      this.changeDetectorRef.detectChanges();\r\n      this.onAfterOpen.next();\r\n    }, this.getAnimationDuration());\r\n  }\r\n\r\n  getContentComponent(): T | null {\r\n    return this.componentInstance;\r\n  }\r\n\r\n  closeClick(): void {\r\n    this.onClose.emit();\r\n  }\r\n\r\n  maskClick(): void {\r\n    if (this.maskClosable && this.mask) {\r\n      this.onClose.emit();\r\n    }\r\n  }\r\n\r\n  private attachBodyContent(): void {\r\n    this.bodyPortalOutlet!.dispose();\r\n\r\n    if (this.content instanceof Type) {\r\n      const childInjector = Injector.create({\r\n        parent: this.injector,\r\n        providers: [{ provide: TDSDrawerRef, useValue: this }]\r\n      });\r\n      const componentPortal = new ComponentPortal<T>(this.content, null, childInjector);\r\n      const componentRef = this.bodyPortalOutlet!.attachComponentPortal(componentPortal);\r\n      this.componentInstance = componentRef.instance;\r\n      Object.assign(componentRef.instance!, this.contentParams);\r\n      componentRef.changeDetectorRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  private attachOverlay(): void {\r\n    if (!this.overlayRef) {\r\n      this.portal = new TemplatePortal(this.drawerTemplate, this.viewContainerRef);\r\n      this.overlayRef = this.overlay.create(this.getOverlayConfig());\r\n    }\r\n\r\n    if (this.overlayRef && !this.overlayRef.hasAttached()) {\r\n      this.overlayRef.attach(this.portal);\r\n      this.overlayRef!.keydownEvents()\r\n        .pipe(takeUntil(this.destroy$))\r\n        .subscribe((event: KeyboardEvent) => {\r\n          if (event.keyCode === ESCAPE && this.isOpen && this.keyboard) {\r\n            this.onClose.emit();\r\n          }\r\n        });\r\n      this.overlayRef\r\n        .detachments()\r\n        .pipe(takeUntil(this.destroy$))\r\n        .subscribe(() => {\r\n          this.disposeOverlay();\r\n        });\r\n    }\r\n  }\r\n\r\n  private disposeOverlay(): void {\r\n    this.overlayRef?.dispose();\r\n    this.overlayRef = null;\r\n  }\r\n\r\n  private getOverlayConfig(): OverlayConfig {\r\n    return new OverlayConfig({\r\n      disposeOnNavigation: this.closeOnNavigation,\r\n      positionStrategy: this.overlay.position().global(),\r\n      scrollStrategy: this.overlay.scrollStrategies.block()\r\n    });\r\n  }\r\n\r\n  private updateOverlayStyle(): void {\r\n    if (this.overlayRef && this.overlayRef.overlayElement) {\r\n      this.renderer.setStyle(this.overlayRef.overlayElement, 'pointer-events', this.isOpen ? 'auto' : 'none');\r\n    }\r\n  }\r\n\r\n  private updateBodyOverflow(): void {\r\n    if (this.overlayRef) {\r\n      if (this.isOpen) {\r\n        this.overlayRef.getConfig().scrollStrategy!.enable();\r\n      } else {\r\n        this.overlayRef.getConfig().scrollStrategy!.disable();\r\n      }\r\n    }\r\n  }\r\n\r\n  savePreviouslyFocusedElement(): void {\r\n    if (this.document && !this.previouslyFocusedElement) {\r\n      this.previouslyFocusedElement = this.document.activeElement as HTMLElement;\r\n      // We need the extra check, because IE's svg element has no blur method.\r\n      if (this.previouslyFocusedElement && typeof this.previouslyFocusedElement.blur === 'function') {\r\n        this.previouslyFocusedElement.blur();\r\n      }\r\n    }\r\n  }\r\n\r\n  private trapFocus(): void {\r\n    if (!this.focusTrap && this.overlayRef && this.overlayRef.overlayElement) {\r\n      this.focusTrap = this.focusTrapFactory.create(this.overlayRef!.overlayElement);\r\n      this.focusTrap.focusInitialElement();\r\n    }\r\n  }\r\n\r\n  private restoreFocus(): void {\r\n    // We need the extra check, because IE can set the `activeElement` to null in some cases.\r\n    if (this.previouslyFocusedElement && typeof this.previouslyFocusedElement.focus === 'function') {\r\n      this.previouslyFocusedElement.focus();\r\n    }\r\n    if (this.focusTrap) {\r\n      this.focusTrap.destroy();\r\n    }\r\n  }\r\n}\r\n","\r\n\r\nimport { NgModule } from '@angular/core';\r\n\r\n@NgModule()\r\nexport class TDSDrawerServiceModule {}\r\n","\r\n\r\nimport { BidiModule } from '@angular/cdk/bidi';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { PortalModule } from '@angular/cdk/portal';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { TDSButtonModule } from 'tds-ui/button';\r\nimport { TDSOutletModule } from 'tds-ui/core/outlet';\r\nimport { TDSDrawerContentDirective } from './drawer-content.directive';\r\nimport { TDSDrawerComponent } from './drawer.component';\r\nimport { TDSDrawerServiceModule } from './drawer.service.module';\r\n\r\n@NgModule({\r\n    imports: [\r\n        BidiModule,\r\n        CommonModule,\r\n        OverlayModule,\r\n        PortalModule,\r\n        TDSOutletModule,\r\n        TDSDrawerServiceModule,\r\n        TDSButtonModule\r\n    ],\r\n    exports: [TDSDrawerComponent, TDSDrawerContentDirective],\r\n    declarations: [TDSDrawerComponent, TDSDrawerContentDirective]\r\n})\r\nexport class TDSDrawerModule {}\r\n","\r\n\r\nimport { Overlay, OverlayRef } from '@angular/cdk/overlay';\r\nimport { ComponentPortal } from '@angular/cdk/portal';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { TDSDrawerOptions, TDSDrawerOptionsOfComponent } from './drawer-options';\r\nimport { TDSDrawerRef } from './drawer-ref';\r\nimport { TDSDrawerComponent } from './drawer.component';\r\nimport { TDSDrawerServiceModule } from './drawer.service.module';\r\n\r\nexport class DrawerBuilderForService<T, R> {\r\n  private drawerRef: TDSDrawerComponent<T, R> | null;\r\n  private overlayRef: OverlayRef;\r\n  private unsubscribe$ = new Subject<void>();\r\n\r\n  constructor(private overlay: Overlay, private options: TDSDrawerOptions) {\r\n    /** pick {@link TDSDrawerOptions.onCancel} and omit this option */\r\n    const { onCancel, ...componentOption } = this.options;\r\n    this.overlayRef = this.overlay.create();\r\n    this.drawerRef = this.overlayRef.attach(new ComponentPortal(TDSDrawerComponent)).instance;\r\n    this.updateOptions(componentOption);\r\n    // Prevent repeatedly open drawer when tap focus element.\r\n    this.drawerRef.savePreviouslyFocusedElement();\r\n    this.drawerRef.onViewInit.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\r\n      this.drawerRef!.open();\r\n    });\r\n    this.drawerRef.onClose.subscribe(() => {\r\n      if (onCancel) {\r\n        onCancel().then(canClose => {\r\n          if (canClose !== false) {\r\n            this.drawerRef!.close();\r\n          }\r\n        });\r\n      } else {\r\n        this.drawerRef!.close();\r\n      }\r\n    });\r\n\r\n    this.drawerRef.afterClose.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\r\n      this.overlayRef.dispose();\r\n      this.drawerRef = null;\r\n      this.unsubscribe$.next();\r\n      this.unsubscribe$.complete();\r\n    });\r\n  }\r\n\r\n  getInstance(): TDSDrawerRef<T, R> {\r\n    return this.drawerRef!;\r\n  }\r\n\r\n  updateOptions(options: TDSDrawerOptionsOfComponent): void {\r\n    Object.assign(this.drawerRef!, options);\r\n  }\r\n}\r\n\r\n@Injectable({ providedIn: TDSDrawerServiceModule })\r\nexport class TDSDrawerService {\r\n  constructor(private overlay: Overlay) {}\r\n\r\n  create<T = any, D = undefined, R = any>(options: TDSDrawerOptions<T, D extends undefined ? {} : D>): TDSDrawerRef<T, R> {\r\n    return new DrawerBuilderForService<T, R>(this.overlay, options).getInstance();\r\n  }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}