{"version":3,"file":"tds-ui-modal.mjs","sources":["../../../projects/tds-ui/modal/modal-types.ts","../../../projects/tds-ui/modal/modal-config.ts","../../../projects/tds-ui/modal/modal-animations.ts","../../../projects/tds-ui/modal/utils.ts","../../../projects/tds-ui/modal/modal-container.ts","../../../projects/tds-ui/modal/modal-confirm-container.component.html","../../../projects/tds-ui/modal/modal-confirm-container.component.ts","../../../projects/tds-ui/modal/modal-container.component.ts","../../../projects/tds-ui/modal/modal-ref.ts","../../../projects/tds-ui/modal/modal.service.ts","../../../projects/tds-ui/modal/modal-content.directive.ts","../../../projects/tds-ui/modal/modal-footer.directive.ts","../../../projects/tds-ui/modal/modal-title.directive.ts","../../../projects/tds-ui/modal/modal.component.ts","../../../projects/tds-ui/modal/modal-close.component.ts","../../../projects/tds-ui/modal/modal-footer.component.ts","../../../projects/tds-ui/modal/modal-title.component.ts","../../../projects/tds-ui/modal/modal.module.ts","../../../projects/tds-ui/modal/modal-legacy-api.ts","../../../projects/tds-ui/modal/tds-ui-modal.ts"],"sourcesContent":["\r\n\r\nimport { Direction } from '@angular/cdk/bidi';\r\nimport { EventEmitter, TemplateRef, Type, ViewContainerRef } from '@angular/core';\r\nimport { ButtonSize } from 'tds-ui/core/config';\r\nimport { TDSButtonColor } from 'tds-ui/shared/common';\r\n\r\nexport type OnClickCallback<T> = (instance: T) => (false | void | {}) | Promise<false | void | {}>;\r\n\r\nexport type ModalTypes = 'default' | 'confirm'; // Different modal styles we have supported\r\n\r\nexport type ConfirmType = 'confirm' | 'info' | 'success' | 'error' | 'warning'; // Subtypes of Confirm Modal\r\nexport type ConfirmViewType= \"default\" | \"compact\";\r\nexport type TDSModalSize = \"sm\" | \"md\" | \"lg\" | 'xl'| null;\r\nexport interface StyleObjectLike {\r\n  [key: string]: string;\r\n}\r\n\r\nexport const noopFun = () => void 0;\r\n\r\nexport class ModalOptions<T = any, R = any> {\r\n  size?: TDSModalSize = null;\r\n  centered?: boolean = false;\r\n  closable?: boolean = true;\r\n  okLoading?: boolean = false;\r\n  okDisabled?: boolean = false;\r\n  cancelDisabled?: boolean = false;\r\n  cancelLoading?: boolean = false;\r\n  noAnimation?: boolean = false;\r\n  autofocus?: 'ok' | 'cancel' | 'auto' | null = null;\r\n  mask?: boolean;\r\n  autoClose?: boolean;\r\n  keyboard?: boolean = true;\r\n  zindex?: number = 60;\r\n  width?: number | string = 500;\r\n  closeIcon?: string | TemplateRef<void> = 'close';\r\n  okType?: \"default\" | \"primary\" | \"dashed\" | \"danger\" | \"link\" | \"text\" | null = 'primary';\r\n  okDanger?: boolean = false;\r\n  modalType?: ModalTypes = 'default';\r\n  onCancel?: EventEmitter<T> | OnClickCallback<T> = noopFun;\r\n  onOk?: EventEmitter<T> | OnClickCallback<T> = noopFun;\r\n  componentParams?: Partial<T>;\r\n  maskStyle?: StyleObjectLike;\r\n  bodyStyle?: StyleObjectLike;\r\n  wrapClassName?: string;\r\n  className?: string;\r\n  style?: object;\r\n  title?: string | TemplateRef<{}>;\r\n  footer?: string | TemplateRef<{}> | Array<ModalButtonOptions<T>> | null; // Default Modal ONLY\r\n  cancelText?: string | null;\r\n  okText?: string | null;\r\n  content?: string | TemplateRef<any> | Type<T>;\r\n  closeOnNavigation?: boolean;\r\n  viewContainerRef?: ViewContainerRef;\r\n  // Template use only\r\n  onAfterOpen?: EventEmitter<void>;\r\n  onAfterClose?: EventEmitter<R>;\r\n \r\n  // Confirm\r\n  iconType?: string = 'question-circle';\r\n  direction?: Direction;\r\n  confirmType?:ConfirmType;\r\n  confirmViewType?:ConfirmViewType = \"default\";\r\n  //custom icon\r\n  confirmIcon?:string\r\n}\r\n\r\nexport interface ModalButtonOptions<T = any> {\r\n  label: string;\r\n  color?: TDSButtonColor;\r\n  // danger?: boolean;\r\n  // shape?: \"circle\" | \"round\" | null;\r\n  // ghost?: boolean;\r\n  size?:ButtonSize;\r\n  autoLoading?: boolean; // Default: true, indicate whether show loading automatically while onClick returned a Promise\r\n\r\n  // [NOTE] \"componentInstance\" will refer to the component's instance when using Component\r\n  show?: boolean | ((this: ModalButtonOptions<T>, contentComponentInstance?: T) => boolean);\r\n  loading?: boolean | ((this: ModalButtonOptions<T>, contentComponentInstance?: T) => boolean); // This prop CAN'T use with autoLoading=true\r\n  disabled?: boolean | ((this: ModalButtonOptions<T>, contentComponentInstance?: T) => boolean);\r\n  onClick?(this: ModalButtonOptions<T>, contentComponentInstance?: T): any | Promise<any>;\r\n  [key: string]: any;\r\n}\r\n","\r\n\r\nexport const ZOOM_CLASS_NAME_MAP = {\r\n  enter: 'tds-zoom-enter',\r\n  enterActive: 'tds-zoom-enter-active',\r\n  leave: 'tds-zoom-leave',\r\n  leaveActive: 'tds-zoom-leave-active'\r\n};\r\n\r\nexport const TDS_FADE_CLASS_NAME_MAP = {\r\n  enter: 'tds-fade-enter',\r\n  enterActive: 'tds-fade-enter-active',\r\n  leave: 'tds-fade-leave',\r\n  leaveActive: 'tds-fade-leave-active'\r\n};\r\n\r\nexport const MODAL_MASK_CLASS_NAME = ['tds-modal-mask', 'fixed','top-0', 'left-0', 'right-0', 'bottom-0', 'h-full','bg-opacity-40','bg-black'];\r\nexport const TDS_CONFIG_MODULE_NAME = 'modal';\r\n","\r\n\r\nimport { animate, AnimationTriggerMetadata, state, style, transition, trigger } from '@angular/animations';\r\n\r\nexport const TDSModalAnimations: {\r\n  readonly modalContainer: AnimationTriggerMetadata;\r\n} = {\r\n  modalContainer: trigger('modalContainer', [\r\n    state('void, exit', style({})),\r\n    state('enter', style({})),\r\n    transition('* => enter', animate('.24s', style({}))),\r\n    transition('* => void, * => exit', animate('.2s', style({})))\r\n  ])\r\n};\r\n","\r\n\r\nimport { ModalOptions } from './modal-types';\r\nimport { TDSModalComponent } from './modal.component';\r\n\r\nexport function applyConfigDefaults(config: ModalOptions, defaultOptions: ModalOptions): ModalOptions {\r\n  return { ...defaultOptions, ...config };\r\n}\r\n\r\nexport function getValueWithConfig<T>(userValue: T | undefined, configValue: T | undefined, defaultValue: T): T | undefined {\r\n  return typeof userValue === 'undefined' ? (typeof configValue === 'undefined' ? defaultValue : configValue) : userValue;\r\n}\r\n\r\n/**\r\n * Assign the params into the content component instance.\r\n * @deprecated Should use dependency injection to get the params for user\r\n * @breaking-change 12.0.0\r\n */\r\nexport function setContentInstanceParams<T>(instance: T, params: Partial<T> | undefined): void {\r\n  Object.assign(instance, params);\r\n}\r\n\r\nexport function getConfigFromComponent(component: TDSModalComponent): ModalOptions {\r\n  const {\r\n    size,\r\n    centered,\r\n    mask,\r\n    autoClose,\r\n    closable,\r\n    okLoading,\r\n    okDisabled,\r\n    cancelDisabled,\r\n    cancelLoading,\r\n    keyboard,\r\n    noAnimation,\r\n    content,\r\n    componentParams,\r\n    footer,\r\n    zindex,\r\n    width,\r\n    wrapClassName,\r\n    className,\r\n    style,\r\n    title,\r\n    closeIcon,\r\n    maskStyle,\r\n    bodyStyle,\r\n    okText,\r\n    cancelText,\r\n    okType,\r\n    okDanger,\r\n    iconType,\r\n    modalType,\r\n    onOk,\r\n    onCancel,\r\n    onAfterOpen,\r\n    onAfterClose,\r\n    closeOnNavigation,\r\n    autofocus\r\n  } = component;\r\n  return {\r\n    size,\r\n    centered,\r\n    mask,\r\n    autoClose,\r\n    closable,\r\n    okLoading,\r\n    okDisabled,\r\n    cancelDisabled,\r\n    cancelLoading,\r\n    keyboard,\r\n    noAnimation,\r\n    content,\r\n    componentParams,\r\n    footer,\r\n    zindex,\r\n    width,\r\n    wrapClassName,\r\n    className,\r\n    style,\r\n    title,\r\n    closeIcon,\r\n    maskStyle,\r\n    bodyStyle,\r\n    okText,\r\n    cancelText,\r\n    okType,\r\n    okDanger,\r\n    iconType,\r\n    modalType,\r\n    onOk,\r\n    onCancel,\r\n    onAfterOpen,\r\n    onAfterClose,\r\n    closeOnNavigation,\r\n    autofocus\r\n  };\r\n}\r\n","\r\nimport { AnimationEvent } from '@angular/animations';\r\nimport { FocusTrap, FocusTrapFactory } from '@angular/cdk/a11y';\r\nimport { Direction } from '@angular/cdk/bidi';\r\nimport { OverlayRef } from '@angular/cdk/overlay';\r\nimport { BasePortalOutlet, CdkPortalOutlet, ComponentPortal, TemplatePortal } from '@angular/cdk/portal';\r\nimport { ChangeDetectorRef, ComponentRef, Directive, ElementRef, EmbeddedViewRef, EventEmitter, OnDestroy, Renderer2 } from '@angular/core';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { TDSConfigKey, TDSConfigService } from 'tds-ui/core/config';\r\nimport { getElementOffset, isNotNil } from 'tds-ui/core/util';\r\nimport { TDSSafeAny } from 'tds-ui/shared/utility';\r\nimport { TDS_FADE_CLASS_NAME_MAP, MODAL_MASK_CLASS_NAME, ZOOM_CLASS_NAME_MAP } from './modal-config';\r\n\r\nimport { TDSModalRef, TDSModalState } from './modal-ref';\r\nimport { ModalOptions } from './modal-types';\r\nimport { getValueWithConfig } from './utils';\r\nconst TDS_CONFIG_MODULE_NAME: TDSConfigKey = 'modal';\r\nexport function throwNzModalContentAlreadyAttachedError(): never {\r\n  throw Error('Attempting to attach modal content after content is already attached');\r\n}\r\n\r\n@Directive()\r\nexport class BaseModalContainerComponent extends BasePortalOutlet implements OnDestroy {\r\n  portalOutlet!: CdkPortalOutlet;\r\n  modalElementRef!: ElementRef<HTMLDivElement>;\r\n\r\n  animationStateChanged = new EventEmitter<AnimationEvent>();\r\n  containerClick = new EventEmitter<void>();\r\n  cancelTriggered = new EventEmitter<void>();\r\n  okTriggered = new EventEmitter<void>();\r\n\r\n  state: 'void' | 'enter' | 'exit' = 'enter';\r\n  document: Document;\r\n  modalRef!: TDSModalRef;\r\n  isStringContent: boolean = false;\r\n  dir: Direction = 'ltr';\r\n  private elementFocusedBeforeModalWasOpened: HTMLElement | null = null;\r\n  private focusTrap!: FocusTrap;\r\n  private mouseDown = false;\r\n  private oldMaskStyle: { [key: string]: string } | null = null;\r\n  protected destroy$ = new Subject<void>();\r\n\r\n  get showMask(): boolean {\r\n    const defaultConfig: TDSSafeAny = this.tdsConfigService.getConfigForComponent(TDS_CONFIG_MODULE_NAME) || {};\r\n    return !!getValueWithConfig<boolean>(this.config.mask, defaultConfig.mask, true);\r\n  }\r\n\r\n  get autoClose(): boolean {\r\n    const defaultConfig: TDSSafeAny = this.tdsConfigService.getConfigForComponent(TDS_CONFIG_MODULE_NAME) || {};\r\n    return !!getValueWithConfig<boolean>(this.config.autoClose, defaultConfig.autoClose, false);\r\n  }\r\n\r\n  constructor(\r\n    protected elementRef: ElementRef,\r\n    protected focusTrapFactory: FocusTrapFactory,\r\n    public cdr: ChangeDetectorRef,\r\n    protected render: Renderer2,\r\n    protected overlayRef: OverlayRef,\r\n    protected tdsConfigService: TDSConfigService,\r\n    public config: ModalOptions,\r\n    document?: any,\r\n    protected animationType?: string,\r\n\r\n  ) {\r\n    super();\r\n    this.document = document;\r\n    this.dir = overlayRef.getDirection();\r\n    this.isStringContent = typeof config.content === 'string';\r\n    this.tdsConfigService\r\n      .getConfigChangeEventForComponent(TDS_CONFIG_MODULE_NAME)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe(() => {\r\n        this.updateMaskClassname();\r\n      });\r\n    this.updateMaskClassname();\r\n  }\r\n\r\n  onContainerClick(e: MouseEvent): void {\r\n    if (e.target === e.currentTarget && !this.mouseDown && this.showMask && this.autoClose) {\r\n      this.containerClick.emit();\r\n    }\r\n  }\r\n\r\n  onMousedown(): void {\r\n    this.mouseDown = true;\r\n  }\r\n\r\n  onMouseup(): void {\r\n    if (this.mouseDown) {\r\n      setTimeout(() => {\r\n        this.mouseDown = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  onCloseClick(): void {\r\n    this.cancelTriggered.emit();\r\n  }\r\n\r\n  onOkClick(): void {\r\n    this.okTriggered.emit();\r\n  }\r\n\r\n  attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\r\n    if (this.portalOutlet.hasAttached()) {\r\n      throwNzModalContentAlreadyAttachedError();\r\n    }\r\n    this.savePreviouslyFocusedElement();\r\n    this.setZIndexForBackdrop();\r\n    return this.portalOutlet.attachComponentPortal(portal);\r\n  }\r\n\r\n  attachTemplatePortal<C>(portal: TemplatePortal<C>): EmbeddedViewRef<C> {\r\n    if (this.portalOutlet.hasAttached()) {\r\n      throwNzModalContentAlreadyAttachedError();\r\n    }\r\n    this.savePreviouslyFocusedElement();\r\n    this.setZIndexForBackdrop();\r\n    return this.portalOutlet.attachTemplatePortal(portal);\r\n  }\r\n\r\n  attachStringContent(): void {\r\n    this.savePreviouslyFocusedElement();\r\n    this.setZIndexForBackdrop();\r\n  }\r\n\r\n  getNativeElement(): HTMLElement {\r\n    return this.elementRef.nativeElement;\r\n  }\r\n\r\n  private animationDisabled(): boolean {\r\n    return this.config.noAnimation || this.animationType === 'NoopAnimations';\r\n  }\r\n\r\n  private setModalTransformOrigin(): void {\r\n    const modalElement = this.modalElementRef.nativeElement;\r\n    if (this.elementFocusedBeforeModalWasOpened as HTMLElement) {\r\n      const previouslyDOMRect = this.elementFocusedBeforeModalWasOpened!.getBoundingClientRect();\r\n      const lastPosition = getElementOffset(this.elementFocusedBeforeModalWasOpened!);\r\n      const x = lastPosition.left + previouslyDOMRect.width / 2;\r\n      const y = lastPosition.top + previouslyDOMRect.height / 2;\r\n      const transformOrigin = `${x - modalElement.offsetLeft}px ${y - modalElement.offsetTop}px 0px`;\r\n      this.render.setStyle(modalElement, 'transform-origin', transformOrigin);\r\n    }\r\n  }\r\n\r\n  private savePreviouslyFocusedElement(): void {\r\n    if (!this.focusTrap) {\r\n      this.focusTrap = this.focusTrapFactory.create(this.elementRef.nativeElement);\r\n    }\r\n\r\n    if (this.document) {\r\n      this.elementFocusedBeforeModalWasOpened = this.document.activeElement as HTMLElement;\r\n      if (this.elementRef.nativeElement.focus) {\r\n        Promise.resolve().then(() => this.elementRef.nativeElement.focus());\r\n      }\r\n    }\r\n  }\r\n\r\n  private trapFocus(): void {\r\n    const element = this.elementRef.nativeElement;\r\n\r\n    if (this.config.autofocus) {\r\n      this.focusTrap.focusInitialElementWhenReady().then();\r\n    } else {\r\n      const activeElement = this.document.activeElement;\r\n      if (activeElement !== element && !element.contains(activeElement)) {\r\n        element.focus();\r\n      }\r\n    }\r\n  }\r\n\r\n  private restoreFocus(): void {\r\n    const toFocus = this.elementFocusedBeforeModalWasOpened as HTMLElement;\r\n\r\n    // We need the extra check, because IE can set the `activeElement` to null in some cases.\r\n    if (toFocus && typeof toFocus.focus === 'function') {\r\n      const activeElement = this.document.activeElement as Element;\r\n      const element = this.elementRef.nativeElement;\r\n\r\n      if (!activeElement || activeElement === this.document.body || activeElement === element || element.contains(activeElement)) {\r\n        toFocus.focus();\r\n      }\r\n    }\r\n\r\n    if (this.focusTrap) {\r\n      this.focusTrap.destroy();\r\n    }\r\n  }\r\n\r\n  private setEnterAnimationClass(): void {\r\n    if (this.animationDisabled()) {\r\n      return;\r\n    }\r\n    // Make sure to set the `TransformOrigin` style before set the modelElement's class names\r\n    this.setModalTransformOrigin();\r\n    const modalElement = this.modalElementRef.nativeElement;\r\n    const backdropElement = this.overlayRef.backdropElement;\r\n    modalElement.classList.add(ZOOM_CLASS_NAME_MAP.enter);\r\n    modalElement.classList.add(ZOOM_CLASS_NAME_MAP.enterActive);\r\n    if (backdropElement) {\r\n      backdropElement.classList.add(TDS_FADE_CLASS_NAME_MAP.enter);\r\n      backdropElement.classList.add(TDS_FADE_CLASS_NAME_MAP.enterActive);\r\n    }\r\n  }\r\n\r\n  private setExitAnimationClass(): void {\r\n    const modalElement = this.modalElementRef.nativeElement;\r\n\r\n    modalElement.classList.add(ZOOM_CLASS_NAME_MAP.leave);\r\n    modalElement.classList.add(ZOOM_CLASS_NAME_MAP.leaveActive);\r\n\r\n    this.setMaskExitAnimationClass();\r\n  }\r\n\r\n  private setMaskExitAnimationClass(force: boolean = false): void {\r\n    const backdropElement = this.overlayRef.backdropElement;\r\n    if (backdropElement) {\r\n      if (this.animationDisabled() || force) {\r\n        // https://github.com/angular/components/issues/18645\r\n        backdropElement.classList.remove(...MODAL_MASK_CLASS_NAME);\r\n        return;\r\n      }\r\n      backdropElement.classList.add(TDS_FADE_CLASS_NAME_MAP.leave);\r\n      backdropElement.classList.add(TDS_FADE_CLASS_NAME_MAP.leaveActive);\r\n    }\r\n  }\r\n\r\n  private cleanAnimationClass(): void {\r\n    if (this.animationDisabled()) {\r\n      return;\r\n    }\r\n    const backdropElement = this.overlayRef.backdropElement;\r\n    const modalElement = this.modalElementRef.nativeElement;\r\n    if (backdropElement) {\r\n      backdropElement.classList.remove(TDS_FADE_CLASS_NAME_MAP.enter);\r\n      backdropElement.classList.remove(TDS_FADE_CLASS_NAME_MAP.enterActive);\r\n    }\r\n    modalElement.classList.remove(ZOOM_CLASS_NAME_MAP.enter);\r\n    modalElement.classList.remove(ZOOM_CLASS_NAME_MAP.enterActive);\r\n    modalElement.classList.remove(ZOOM_CLASS_NAME_MAP.leave);\r\n    modalElement.classList.remove(ZOOM_CLASS_NAME_MAP.leaveActive);\r\n  }\r\n\r\n  private setZIndexForBackdrop(): void {\r\n    const backdropElement = this.overlayRef.backdropElement;\r\n    if (backdropElement) {\r\n      if (isNotNil(this.config.zindex)) {\r\n        this.render.setStyle(backdropElement, 'z-index', this.config.zindex);\r\n      }\r\n    }\r\n  }\r\n\r\n  bindBackdropStyle(): void {\r\n    const backdropElement = this.overlayRef.backdropElement;\r\n    if (backdropElement) {\r\n      if (this.oldMaskStyle) {\r\n        const styles = this.oldMaskStyle as { [key: string]: string };\r\n        Object.keys(styles).forEach(key => {\r\n          this.render.removeStyle(backdropElement, key);\r\n        });\r\n        this.oldMaskStyle = null;\r\n      }\r\n\r\n      this.setZIndexForBackdrop();\r\n\r\n      if (typeof this.config.maskStyle === 'object' && Object.keys(this.config.maskStyle).length) {\r\n        const styles: { [key: string]: string } = { ...this.config.maskStyle };\r\n        Object.keys(styles).forEach(key => {\r\n          this.render.setStyle(backdropElement, key, styles[key]);\r\n        });\r\n        this.oldMaskStyle = styles;\r\n      }\r\n    }\r\n  }\r\n\r\n  updateMaskClassname(): void {\r\n    const backdropElement = this.overlayRef.backdropElement;\r\n    if (backdropElement) {\r\n      if (this.showMask) {\r\n        backdropElement.classList.add(...MODAL_MASK_CLASS_NAME);\r\n      } else {\r\n        backdropElement.classList.remove(...MODAL_MASK_CLASS_NAME);\r\n      }\r\n    }\r\n  }\r\n\r\n  onAnimationDone(event: AnimationEvent): void {\r\n    if (event.toState === 'enter') {\r\n      this.trapFocus();\r\n    } else if (event.toState === 'exit') {\r\n      this.restoreFocus();\r\n    }\r\n    this.cleanAnimationClass();\r\n    this.animationStateChanged.emit(event);\r\n  }\r\n\r\n  onAnimationStart(event: AnimationEvent): void {\r\n    if (event.toState === 'enter') {\r\n      this.setEnterAnimationClass();\r\n      this.bindBackdropStyle();\r\n    } else if (event.toState === 'exit') {\r\n      this.setExitAnimationClass();\r\n    }\r\n    this.animationStateChanged.emit(event);\r\n  }\r\n\r\n  startExitAnimation(): void {\r\n    this.state = 'exit';\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.setMaskExitAnimationClass(true);\r\n    //fix lỗi ko xóa overlayRef khi chuyển router\r\n    if (this.modalRef?.state == TDSModalState.OPEN)\r\n    {\r\n      this.overlayRef.dispose();\r\n    }     \r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div #modalElement role=\"document\"\r\n    class=\"tds-modal bg-white dark:bg-d-neutral-3-200 text-neutral-1-900 dark:text-d-neutral-1-900 top-24  rounded-md border-box pointer-events-none relative my-auto mx-auto\"\r\n    (mousedown)=\"onMousedown()\" [ngClass]=\"config.className!\" [ngStyle]=\"config.style!\"\r\n    [style.width]=\"config.width! | tdsToCssUnit\">\r\n    <div class=\"tds-modal-content  pt-7 pointer-events-auto\"\r\n        [ngClass]=\"{'px-6 pb-4':config.confirmViewType == 'compact','px-4 pb-6': config.confirmViewType != 'compact'}\">\r\n        <div class=\"tds-modal-body\" [ngStyle]=\"config.bodyStyle!\">\r\n            <ng-container *ngIf=\"config.confirmViewType != 'compact'\">\r\n                <ng-container *ngTemplateOutlet=\"defaultTemplate\"></ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"config.confirmViewType == 'compact'\">\r\n                <ng-container *ngTemplateOutlet=\"compactTemplate\"></ng-container>\r\n            </ng-container>\r\n        </div>\r\n    </div>\r\n</div>\r\n<ng-template #defaultTemplate>\r\n    <div class=\"tds-modal-confirm-body-wrapper\">\r\n        <div class=\"tds-modal-confirm-icon w-full flex items-center justify-center pb-6\" *ngIf=\"!config?.confirmIcon\"\r\n            [ngClass]=\"{'text-warning-400 dark:text-d-warning-400':config.confirmType == 'warning',\r\n                    'text-info-400 dark:text-d-info-400':config.confirmType == 'info',\r\n                    'text-success-400 dark:text-d-success-400':config.confirmType == 'success',\r\n                    'text-error-400 dark:text-d-error-400':config.confirmType == 'error'}\">\r\n            <i style=\"font-size:60px\" [ngClass]=\"config.iconType!\"></i>\r\n        </div>\r\n        <div *ngIf=\"!!config?.confirmIcon\" class=\"tds-modal-confirm-icon w-full flex items-center justify-center pb-6\">\r\n            <div class=\"w-[60px] h-[60px] rounded-full text-white p-3\" [ngClass]=\"{'bg-warning-400 dark:bg-d-warning-400':config.confirmType == 'warning',\r\n            'bg-info-400 dark:bg-d-info-400':config.confirmType == 'info',\r\n            'bg-success-400 dark:bg-d-success-400':config.confirmType == 'success',\r\n            'bg-error-400 dark:bg-d-error-400':config.confirmType == 'error'}\">\r\n                <i class=\"text-4xl leading-9\" [ngClass]=\"config.confirmIcon!\"></i>\r\n            </div>\r\n        </div>\r\n        <div class=\"tds-modal-confirm-body pb-4\">\r\n            <div\r\n                class=\"tds-modal-confirm-title text-center break-words text-header-1 text-neutral-1-900 dark:text-d-neutral-1-900 font-semibold\">\r\n                <ng-container *tdsStringTemplateOutlet=\"config.title\">\r\n                    <span [innerHTML]=\"config.title\"></span>\r\n                </ng-container>\r\n            </div>\r\n            <div\r\n                class=\"tds-modal-confirm-content pt-2 text-center break-words text=neutral-1-900 dark:text-d-neutral-1-900 text-body-2 font-regular\">\r\n                <ng-template cdkPortalOutlet></ng-template>\r\n                <div *ngIf=\"isStringContent\" [innerHTML]=\"config.content\"></div>\r\n            </div>\r\n        </div>\r\n        <div class=\"tds-modal-confirm-btns p-4 pb-0 flex justify-center\">\r\n            <button class=\"min-w-[100px]\" *ngIf=\"config.cancelText !== null\"\r\n                [attr.cdkFocusInitial]=\"config.autofocus === 'cancel' || null\" tds-button color=\"secondary\"\r\n                (click)=\"onCancel()\" [disabled]=\"config.cancelDisabled!\">\r\n                {{ config.cancelText || locale.cancelText }}\r\n            </button>\r\n            <button class=\"ml-4 min-w-[100px]\" *ngIf=\"config.okText !== null\"\r\n                [attr.cdkFocusInitial]=\"config.autofocus === 'ok' || null\" tds-button\r\n                [color]=\"config.confirmType === 'confirm' ?'primary' : config.confirmType!\" (click)=\"onOk()\"\r\n                [disabled]=\"config.okDisabled!\">\r\n                {{ config.okText || locale.okText }}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n<ng-template #compactTemplate>\r\n    <div class=\"tds-modal-confirm-body-wrapper\">\r\n        <div class=\"w-full flex\">\r\n            <div class=\"tds-modal-confirm-icon\" *ngIf=\"!config?.confirmIcon\" [ngClass]=\"{'text-warning-400 dark:text-d-warning-400':config.confirmType == 'warning',\r\n'text-info-400 dark:text-d-info-400':config.confirmType == 'info',\r\n'text-success-400 dark:text-d-success-400':config.confirmType == 'success',\r\n'text-error-400 dark:text-d-error-400':config.confirmType == 'error'}\">\r\n                <i class=\"text-[32px] leading-8\" [ngClass]=\"config.iconType!\"></i>\r\n            </div>\r\n            <div class=\"tds-modal-confirm-icon text-white\" *ngIf=\"!!config?.confirmIcon\">\r\n                <div class=\"w-[32px] h-[32px] rounded-full p-1.5\" [ngClass]=\"{'bg-warning-400 dark:bg-d-warning-400':config.confirmType == 'warning',\r\n                'bg-info-400 dark:bg-d-info-400':config.confirmType == 'info',\r\n                'bg-success-400 dark:bg-d-success-400':config.confirmType == 'success',\r\n                'bg-error-400 dark:bg-d-error-400':config.confirmType == 'error'}\">\r\n                    <i class=\"text-xl leading-5\" [ngClass]=\"config.confirmIcon!\"></i>\r\n                </div>\r\n\r\n            </div>\r\n            <div class=\"pl-6 flex-auto\">\r\n                <div class=\"tds-modal-confirm-body w-full pb-8\">\r\n                    <div\r\n                        class=\"tds-modal-confirm-title break-words text-header-1 text-neutral-1-900 dark:text-d-neutral-1-900 font-semibold\">\r\n                        <ng-container *tdsStringTemplateOutlet=\"config.title\">\r\n                            <span [innerHTML]=\"config.title\"></span>\r\n                        </ng-container>\r\n                    </div>\r\n                    <div\r\n                        class=\"tds-modal-confirm-content pt-4 break-words text=neutral-1-900 dark:text-d-neutral-1-900 text-body-2 font-regular\">\r\n                        <ng-template cdkPortalOutlet></ng-template>\r\n                        <div *ngIf=\"isStringContent\" [innerHTML]=\"config.content\"></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"tds-modal-confirm-btns w-full  flex justify-end\">\r\n                    <button *ngIf=\"config.cancelText !== null\" class=\"min-w-[100px\"\r\n                        [attr.cdkFocusInitial]=\"config.autofocus === 'cancel' || null\" tds-button color=\"secondary\"\r\n                        (click)=\"onCancel()\" [disabled]=\"config.cancelDisabled!\">\r\n                        {{ config.cancelText || locale.cancelText }}\r\n                    </button>\r\n                    <button class=\"ml-4 min-w-[100px\" *ngIf=\"config.okText !== null\"\r\n                        [attr.cdkFocusInitial]=\"config.autofocus === 'ok' || null\" tds-button\r\n                        [color]=\"config.confirmType === 'confirm' ?'primary' : config.confirmType!\" (click)=\"onOk()\"\r\n                        [disabled]=\"config.okDisabled!\">\r\n                        {{ config.okText || locale.okText }}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</ng-template>","\r\n\r\nimport { FocusTrapFactory } from '@angular/cdk/a11y';\r\nimport { OverlayRef } from '@angular/cdk/overlay';\r\nimport { CdkPortalOutlet } from '@angular/cdk/portal';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Optional,\r\n  Output,\r\n  Renderer2,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport { ANIMATION_MODULE_TYPE } from '@angular/platform-browser/animations';\r\n\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { TDSConfigService } from 'tds-ui/core/config';\r\n\r\nimport { TDSModalAnimations } from './modal-animations';\r\nimport { BaseModalContainerComponent } from './modal-container';\r\nimport { ModalOptions } from './modal-types';\r\n\r\n@Component({\r\n  selector: 'tds-modal-confirm-container',\r\n  exportAs: 'tdsModalConfirmContainer',\r\n  templateUrl: './modal-confirm-container.component.html',\r\n  // template: `\r\n  //   <div\r\n  //     #modalElement\r\n  //     role=\"document\"\r\n  //     class=\"tds-modal bg-white dark:bg-d-neutral-3-300 text-neutral-1-900 dark:text-d-neutral-1-900 top-24  rounded-md border-box pointer-events-none relative my-auto mx-auto\"\r\n  //     (mousedown)=\"onMousedown()\"\r\n  //     [ngClass]=\"config.className!\"  \r\n  //     [ngStyle]=\"config.style!\"\r\n  //     [style.width]=\"config?.width! | tdsToCssUnit\"\r\n  //   >\r\n  //     <div class=\"tds-modal-content p-4 pt-8 pointer-events-auto\">       \r\n       \r\n  //       <div class=\"tds-modal-body\" [ngStyle]=\"config.bodyStyle!\">\r\n        \r\n  //         <div class=\"tds-modal-confirm-body-wrapper\">\r\n  //           <div class=\"tds-modal-confirm-icon w-full flex items-center justify-center pb-6\"\r\n  //           [ngClass]=\"{'text-warning-400':config.confirmType == 'warning',\r\n  //     'text-info-400':config.confirmType == 'info',\r\n  //     'text-success-400':config.confirmType == 'success',\r\n  //     'text-error-400':config.confirmType == 'error'}\">\r\n  //             <i style=\"font-size:60px\" [ngClass]=\"config.iconType!\"></i>\r\n  //           </div>\r\n  //           <div class=\"tds-modal-confirm-body pb-4\">              \r\n  //             <div class=\"tds-modal-confirm-title text-center break-words text-header-1 text-neutral-1-900 dark:text-d-neutral-1-900 font-semibold\">\r\n  //               <ng-container *tdsStringTemplateOutlet=\"config.title\">\r\n  //                 <span [innerHTML]=\"config.title\"></span>\r\n  //               </ng-container>\r\n  //             </div>\r\n  //             <div class=\"tds-modal-confirm-content pt-2 text-center break-words text=neutral-1-900 dark:text-d-neutral-1-900 text-body-2 font-regular\">\r\n  //               <ng-template cdkPortalOutlet></ng-template>\r\n  //               <div *ngIf=\"isStringContent\" [innerHTML]=\"config.content\"></div>\r\n  //             </div>\r\n  //           </div>\r\n  //           <div class=\"tds-modal-confirm-btns p-4 pb-0 flex justify-center\">\r\n  //             <button\r\n  //               *ngIf=\"config.cancelText !== null\"\r\n  //               [attr.cdkFocusInitial]=\"config.autofocus === 'cancel' || null\"\r\n  //               tds-button\r\n  //               color=\"secondary\"\r\n  //               (click)=\"onCancel()\"               \r\n  //               [disabled]=\"config.cancelDisabled\"\r\n  //             >\r\n  //               {{ config.cancelText || locale.cancelText }}\r\n  //             </button>\r\n  //             <button\r\n  //                class=\"ml-4\"\r\n  //               *ngIf=\"config.okText !== null\"\r\n  //               [attr.cdkFocusInitial]=\"config.autofocus === 'ok' || null\"\r\n  //               tds-button\r\n  //               [color]=\"config.confirmType === 'confirm' ?'primary' : config.confirmType\"\r\n  //               (click)=\"onOk()\"               \r\n  //               [disabled]=\"config.okDisabled\"\r\n  //             >\r\n  //               {{ config.okText || locale.okText }}\r\n  //             </button>\r\n  //           </div>\r\n  //         </div>\r\n  //       </div>\r\n  //     </div>\r\n  //   </div>\r\n  // `,\r\n  animations: [TDSModalAnimations.modalContainer],\r\n  // Using OnPush for modal caused footer can not to detect changes. we can fix it when 8.x.\r\n  changeDetection: ChangeDetectionStrategy.Default,\r\n  host: {\r\n    tabindex: '-1',\r\n    role: 'dialog',\r\n    '[class]': 'config.wrapClassName ? \"tds-modal-wrap fixed top-0 left-0 right-0 bottom-0 overflow-auto outline-none\" + config.wrapClassName : \"tds-modal-wrap fixed top-0 left-0 right-0 bottom-0 overflow-auto outline-none\"',\r\n    '[class.tds-modal-wrap-rtl]': `dir === 'rtl'`,\r\n    '[class.tds-modal-centered]': 'config.centered',\r\n    '[style.zIndex]': 'config.zindex',\r\n    '[@.disabled]': 'config.noAnimation',\r\n    '[@modalContainer]': 'state',\r\n    '(@modalContainer.start)': 'onAnimationStart($event)',\r\n    '(@modalContainer.done)': 'onAnimationDone($event)',\r\n    '(click)': 'onContainerClick($event)',\r\n    '(mouseup)': 'onMouseup()'\r\n  }\r\n})\r\nexport class TDSModalConfirmContainerComponent extends BaseModalContainerComponent {\r\n  @ViewChild(CdkPortalOutlet, { static: true }) portalOutlet!: CdkPortalOutlet;\r\n  @ViewChild('modalElement', { static: true }) modalElementRef!: ElementRef<HTMLDivElement>;\r\n  @Output() readonly cancelTriggered = new EventEmitter<void>();\r\n  @Output() readonly okTriggered = new EventEmitter<void>();\r\n  locale = {\r\n    okText: \"Đồng ý\",\r\n    cancelText: \"Hủy\"\r\n  }\r\n  constructor(\r\n\r\n    elementRef: ElementRef,\r\n    focusTrapFactory: FocusTrapFactory,\r\n    cdr: ChangeDetectorRef,\r\n    render: Renderer2,\r\n    overlayRef: OverlayRef,\r\n    tdsConfigService: TDSConfigService,\r\n    public config: ModalOptions,\r\n    @Optional() @Inject(DOCUMENT) document: any,\r\n    @Optional() @Inject(ANIMATION_MODULE_TYPE) animationType: string\r\n  ) {\r\n    super(elementRef, focusTrapFactory, cdr, render, overlayRef,tdsConfigService, config, document, animationType);\r\n  }\r\n\r\n  onCancel(): void {\r\n    this.cancelTriggered.emit();\r\n  }\r\n\r\n  onOk(): void {\r\n    this.okTriggered.emit();\r\n  }\r\n}\r\n","\r\nimport { FocusTrapFactory } from '@angular/cdk/a11y';\r\nimport { OverlayRef } from '@angular/cdk/overlay';\r\nimport { CdkPortalOutlet } from '@angular/cdk/portal';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Inject, Optional, Renderer2, ViewChild } from '@angular/core';\r\nimport { ANIMATION_MODULE_TYPE } from '@angular/platform-browser/animations';\r\nimport { TDSConfigService } from 'tds-ui/core/config';\r\nimport { TDSHelperObject } from 'tds-ui/shared/utility';\r\n\r\nimport { TDSModalAnimations } from './modal-animations';\r\nimport { BaseModalContainerComponent } from './modal-container';\r\nimport { ModalOptions } from './modal-types';\r\n\r\n@Component({\r\n  selector: 'tds-modal-container',\r\n  exportAs: 'tdsModalContainer',\r\n  template: `\r\n    <div\r\n      #modalElement\r\n      role=\"document\"\r\n      class=\"tds-modal bg-white dark:bg-d-neutral-3-300 text-neutral-1-900 dark:text-d-neutral-1-900 rounded-md border-box pointer-events-none relative my-auto mx-auto {{config.className!}}\"\r\n      (mousedown)=\"onMousedown()\"\r\n      [ngClass]=\"{'top-24':!config.centered}\"\r\n      [ngStyle]=\"config.style!\"\r\n      [style.width]=\"width! | tdsToCssUnit\"\r\n    >  \r\n      <div class=\"tds-modal-content pointer-events-auto\" >\r\n        <div class=\"w-full p-3 pl-4 flex  flex-row-reverse items-center justify-between border-b  border-neutral-2-200 dark:border-d-neutral-2-200\"  *ngIf=\"config.title\">       \r\n        <div class=\"justify-self-end pl-2\" *ngIf=\"config.closable\" tds-modal-close (click)=\"onCloseClick()\"></div>\r\n        <div class=\"flex-auto tds-modal-title\"  tds-modal-title></div>\r\n        \r\n        </div>\r\n        \r\n        <div class=\"tds-modal-body p-4\" [ngStyle]=\"config.bodyStyle!\" [ngClass]=\"{'max-h-[calc(100vh-148px)] overflow-auto tds-custom-scroll':config.centered}\">\r\n          <ng-template cdkPortalOutlet></ng-template>\r\n          <div *ngIf=\"isStringContent\" [innerHTML]=\"config.content\"></div>\r\n         \r\n        </div>\r\n        \r\n        <div\r\n          *ngIf=\"config.footer !== null\"\r\n          tds-modal-footer\r\n          [modalRef]=\"modalRef\"\r\n          (cancelTriggered)=\"onCloseClick()\"\r\n          (okTriggered)=\"onOkClick()\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  animations: [TDSModalAnimations.modalContainer],\r\n  // Using OnPush for modal caused footer can not to detect changes. we can fix it when 8.x.\r\n  changeDetection: ChangeDetectionStrategy.Default,\r\n  host: {\r\n    tabindex: '-1',\r\n    role: 'dialog',\r\n    '[class]': 'config.wrapClassName ? \"tds-modal-wrap fixed top-0 left-0 right-0 bottom-0 overflow-auto outline-none \" + config.wrapClassName : \"tds-modal-wrap fixed top-0 left-0 right-0 bottom-0 overflow-auto outline-none\"',\r\n    '[class.tds-modal-wrap-rtl]': `dir === 'rtl'`,\r\n    '[class.tds-modal-centered]': 'config.centered',\r\n    '[class.flex]': 'config.centered',\r\n    '[style.zIndex]': 'config.zindex',\r\n    '[@.disabled]': 'config.noAnimation',\r\n    '[@modalContainer]': 'state',\r\n    '(@modalContainer.start)': 'onAnimationStart($event)',\r\n    '(@modalContainer.done)': 'onAnimationDone($event)',\r\n    '(click)': 'onContainerClick($event)',\r\n    '(mouseup)': 'onMouseup()'\r\n  }\r\n})\r\nexport class TDSModalContainerComponent extends BaseModalContainerComponent {\r\n  @ViewChild(CdkPortalOutlet, { static: true }) portalOutlet!: CdkPortalOutlet;\r\n  @ViewChild('modalElement', { static: true }) modalElementRef!: ElementRef<HTMLDivElement>;\r\n  constructor(\r\n    elementRef: ElementRef,\r\n    focusTrapFactory: FocusTrapFactory,\r\n    cdr: ChangeDetectorRef,\r\n    render: Renderer2,\r\n    overlayRef: OverlayRef,\r\n    tdsConfigService: TDSConfigService,\r\n    public config: ModalOptions,\r\n    @Optional() @Inject(DOCUMENT) document: any,\r\n    @Optional() @Inject(ANIMATION_MODULE_TYPE) animationType: string\r\n  ) {\r\n    super(elementRef, focusTrapFactory, cdr, render, overlayRef, tdsConfigService, config, document, animationType);\r\n  }\r\n  get width(): string | number | undefined {\r\n    let result = 520;\r\n    if (TDSHelperObject.hasValue(this.config)) {\r\n      if (TDSHelperObject.hasValue(this.config.size)) {\r\n        switch (this.config.size) {\r\n          case \"sm\":\r\n            result = 300;\r\n            break;\r\n          case \"md\":\r\n            result = 500;\r\n            break;\r\n          case \"lg\":\r\n            result = 800;\r\n            break;\r\n          case \"xl\":\r\n            result = 1140;\r\n            break;\r\n          default:\r\n            result = 500;\r\n            break;\r\n        }\r\n        return result;\r\n      }\r\n      else {\r\n        return this.config?.width;\r\n      }\r\n\r\n    }\r\n\r\n    return result;\r\n  }\r\n}\r\n","\r\nimport { ESCAPE, hasModifierKey } from '@angular/cdk/keycodes';\r\nimport { OverlayRef } from '@angular/cdk/overlay';\r\nimport { EventEmitter } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { filter, take } from 'rxjs/operators';\r\nimport { isPromise } from 'tds-ui/core/util';\r\n\r\nimport { BaseModalContainerComponent } from './modal-container';\r\nimport { TDSModalLegacyAPI } from './modal-legacy-api';\r\nimport { ModalOptions } from './modal-types';\r\n\r\nexport const enum TDSModalState {\r\n  OPEN,\r\n  CLOSING,\r\n  CLOSED\r\n}\r\n\r\nexport const enum TDSTriggerAction {\r\n  CANCEL = 'cancel',\r\n  OK = 'ok'\r\n}\r\n\r\nexport class TDSModalRef<T = any, R = any> implements TDSModalLegacyAPI<T, R> {\r\n  componentInstance: T | null = null;\r\n  result?: R;\r\n  state: TDSModalState = TDSModalState.OPEN;\r\n  afterClose: Subject<R> = new Subject();\r\n  afterOpen: Subject<void> = new Subject();\r\n\r\n  private closeTimeout?: any;\r\n\r\n  constructor(private overlayRef: OverlayRef,\r\n     private config: ModalOptions,\r\n      public containerInstance: BaseModalContainerComponent) {\r\n    containerInstance.animationStateChanged\r\n      .pipe(\r\n        filter(event => event.phaseName === 'done' && event.toState === 'enter'),\r\n        take(1)\r\n      )\r\n      .subscribe(() => {\r\n        this.afterOpen.next();\r\n        this.afterOpen.complete();\r\n        if (config.onAfterOpen instanceof EventEmitter) {\r\n          config.onAfterOpen.emit();\r\n        }\r\n      });\r\n\r\n    containerInstance.animationStateChanged\r\n      .pipe(\r\n        filter(event => event.phaseName === 'done' && event.toState === 'exit'),\r\n        take(1)\r\n      )\r\n      .subscribe(() => {\r\n        clearTimeout(this.closeTimeout);\r\n        this._finishDialogClose();\r\n      });\r\n\r\n    containerInstance.containerClick.pipe(take(1)).subscribe(() => {\r\n      const cancelable = !this.config.cancelLoading && !this.config.okLoading;\r\n      if (cancelable) {\r\n        this.trigger(TDSTriggerAction.CANCEL);\r\n      }\r\n    });\r\n\r\n    overlayRef\r\n      .keydownEvents()\r\n      .pipe(\r\n        filter(event => {\r\n          return (\r\n            (this.config.keyboard as boolean) &&\r\n            !this.config.cancelLoading &&\r\n            !this.config.okLoading &&\r\n            event.keyCode === ESCAPE &&\r\n            !hasModifierKey(event)\r\n          );\r\n        })\r\n      )\r\n      .subscribe(event => {\r\n        event.preventDefault();\r\n        this.trigger(TDSTriggerAction.CANCEL);\r\n      });\r\n\r\n    containerInstance.cancelTriggered.subscribe(() => this.trigger(TDSTriggerAction.CANCEL));\r\n\r\n    containerInstance.okTriggered.subscribe(() => this.trigger(TDSTriggerAction.OK));\r\n\r\n    overlayRef.detachments().subscribe(() => {\r\n      this.afterClose.next(this.result);\r\n      this.afterClose.complete();\r\n      if (config.onAfterClose instanceof EventEmitter) {\r\n        config.onAfterClose.emit(this.result);\r\n      }\r\n      this.componentInstance = null;\r\n      this.overlayRef.dispose();\r\n    });\r\n  }\r\n\r\n  getContentComponent(): T {\r\n    return this.componentInstance as T;\r\n  }\r\n\r\n  getElement(): HTMLElement {\r\n    return this.containerInstance.getNativeElement();\r\n  }\r\n\r\n  destroy(result?: R): void {\r\n    this.close(result);\r\n  }\r\n\r\n  triggerOk(): Promise<void> {\r\n    return this.trigger(TDSTriggerAction.OK);\r\n  }\r\n\r\n  triggerCancel(): Promise<void> {\r\n    return this.trigger(TDSTriggerAction.CANCEL);\r\n  }\r\n\r\n  close(result?: R): void {\r\n    if (this.state !== TDSModalState.OPEN) {\r\n      return;\r\n    }\r\n    this.result = result;\r\n    this.containerInstance.animationStateChanged\r\n      .pipe(\r\n        filter(event => event.phaseName === 'start'),\r\n        take(1)\r\n      )\r\n      .subscribe(event => {\r\n        this.overlayRef.detachBackdrop();\r\n        this.closeTimeout = setTimeout(() => {\r\n          this._finishDialogClose();\r\n        }, event.totalTime + 100);\r\n      });\r\n\r\n    this.containerInstance.startExitAnimation();\r\n    this.state = TDSModalState.CLOSING;\r\n  }\r\n\r\n  updateConfig(config: ModalOptions): void {\r\n    Object.assign(this.config, config);\r\n    this.containerInstance.bindBackdropStyle();\r\n    this.containerInstance.cdr.markForCheck();\r\n  }\r\n\r\n  getState(): TDSModalState {\r\n    return this.state;\r\n  }\r\n\r\n  getConfig(): ModalOptions {\r\n    return this.config;\r\n  }\r\n\r\n  getBackdropElement(): HTMLElement | null {\r\n    return this.overlayRef.backdropElement;\r\n  }\r\n\r\n  private async trigger(action: TDSTriggerAction): Promise<void> {\r\n    const trigger = { ok: this.config.onOk, cancel: this.config.onCancel }[action];\r\n    const loadingKey = { ok: 'okLoading', cancel: 'cancelLoading' }[action] as 'okLoading' | 'cancelLoading';\r\n    const loading = this.config[loadingKey];\r\n    if (loading) {\r\n      return;\r\n    }\r\n    if (trigger instanceof EventEmitter) {\r\n      trigger.emit(this.getContentComponent());\r\n    } else if (typeof trigger === 'function') {\r\n      const result = trigger(this.getContentComponent());\r\n      if (isPromise(result)) {\r\n        this.config[loadingKey] = true;\r\n        let doClose: boolean | void | {} = false;\r\n        try {\r\n          doClose = await result;\r\n        } finally {\r\n          this.config[loadingKey] = false;\r\n          this.closeWhitResult(doClose);\r\n        }\r\n      } else {\r\n        this.closeWhitResult(result);\r\n      }\r\n    }\r\n  }\r\n\r\n  private closeWhitResult(result: any): void {\r\n    if (result !== false) {\r\n      this.close(result);\r\n    }\r\n  }\r\n\r\n  _finishDialogClose(): void {\r\n    this.state = TDSModalState.CLOSED;\r\n    this.overlayRef.dispose();\r\n  }\r\n}\r\n","\r\n\r\nimport { Directionality } from '@angular/cdk/bidi';\r\nimport { ComponentType, Overlay, OverlayConfig, OverlayRef } from '@angular/cdk/overlay';\r\nimport { ComponentPortal, TemplatePortal } from '@angular/cdk/portal';\r\nimport { Injectable, Injector, OnDestroy, Optional, SkipSelf, TemplateRef } from '@angular/core';\r\n\r\n\r\nimport { defer, Observable, Subject } from 'rxjs';\r\nimport { startWith } from 'rxjs/operators';\r\nimport { IndexableObject, isNotNil } from 'tds-ui/core/util';\r\n\r\nimport { MODAL_MASK_CLASS_NAME } from './modal-config';\r\nimport { TDSModalConfirmContainerComponent } from './modal-confirm-container.component';\r\nimport { BaseModalContainerComponent } from './modal-container';\r\nimport { TDSModalContainerComponent } from './modal-container.component';\r\nimport { TDSModalRef } from './modal-ref';\r\nimport { ConfirmType, ModalOptions } from './modal-types';\r\nimport { applyConfigDefaults, getValueWithConfig, setContentInstanceParams } from './utils';\r\n\r\ntype ContentType<T> = ComponentType<T> | TemplateRef<T> | string;\r\n\r\n@Injectable()\r\nexport class TDSModalService implements OnDestroy {\r\n  private openModalsAtThisLevel: TDSModalRef[] = [];\r\n  private readonly afterAllClosedAtThisLevel = new Subject<void>();\r\n\r\n  get openModals(): TDSModalRef[] {\r\n    return this.parentModal ? this.parentModal.openModals : this.openModalsAtThisLevel;\r\n  }\r\n\r\n  get _afterAllClosed(): Subject<void> {\r\n    const parent = this.parentModal;\r\n    return parent ? parent._afterAllClosed : this.afterAllClosedAtThisLevel;\r\n  }\r\n\r\n  readonly afterAllClose: Observable<void> = defer(() =>\r\n    this.openModals.length ? this._afterAllClosed : this._afterAllClosed.pipe(startWith(undefined))\r\n  ) as Observable<void>;\r\n\r\n  constructor(\r\n    private overlay: Overlay,\r\n    private injector: Injector,\r\n    @Optional() @SkipSelf() private parentModal: TDSModalService,\r\n    @Optional() private directionality: Directionality\r\n  ) {}\r\n\r\n  create<T, R = any>(config: ModalOptions<T, R>): TDSModalRef<T, R> {\r\n    return this.open<T, R>(config.content as ComponentType<T>, config);\r\n  }\r\n\r\n  closeAll(): void {\r\n    this.closeModals(this.openModals);\r\n  }\r\n\r\n  confirm<T>(options: ModalOptions<T> = {}, confirmType: ConfirmType = 'confirm'): TDSModalRef<T> {\r\n    if ('footer' in options) {\r\n      console.warn(`The Confirm-Modal doesn't support \"footer\", this property will be ignored.`);\r\n    }\r\n    if (!('width' in options)) {\r\n      options.width = 500;\r\n    }\r\n    if (!('autoClose' in options)) {\r\n      options.autoClose = false;\r\n    }\r\n    options.confirmType = confirmType;\r\n    options.modalType = 'confirm';\r\n    options.className = `tds-modal-confirm tds-modal-confirm-${confirmType} ${options.className || ''}`;\r\n    return this.create(options);\r\n  }\r\n\r\n  info<T>(options: ModalOptions<T> = {}): TDSModalRef<T> {\r\n    return this.confirmFactory(options, 'info');\r\n  }\r\n\r\n  success<T>(options: ModalOptions<T> = {}): TDSModalRef<T> {\r\n    return this.confirmFactory(options, 'success');\r\n  }\r\n\r\n  error<T>(options: ModalOptions<T> = {}): TDSModalRef<T> {\r\n    return this.confirmFactory(options, 'error');\r\n  }\r\n\r\n  warning<T>(options: ModalOptions<T> = {}): TDSModalRef<T> {\r\n    return this.confirmFactory(options, 'warning');\r\n  }\r\n\r\n  private open<T, R>(componentOrTemplateRef: ContentType<T>, config?: ModalOptions): TDSModalRef<T, R> {\r\n    const configMerged = applyConfigDefaults(config || {}, new ModalOptions());\r\n    const overlayRef = this.createOverlay(configMerged);\r\n    const modalContainer = this.attachModalContainer(overlayRef, configMerged);\r\n    const modalRef = this.attachModalContent<T, R>(componentOrTemplateRef, modalContainer, overlayRef, configMerged);\r\n    modalContainer.modalRef = modalRef;\r\n\r\n    this.openModals.push(modalRef);\r\n    modalRef.afterClose.subscribe(() => this.removeOpenModal(modalRef));\r\n\r\n    return modalRef;\r\n  }\r\n\r\n  private removeOpenModal(modalRef: TDSModalRef): void {\r\n    const index = this.openModals.indexOf(modalRef);\r\n    if (index > -1) {\r\n      this.openModals.splice(index, 1);\r\n\r\n      if (!this.openModals.length) {\r\n        this._afterAllClosed.next();\r\n      }\r\n    }\r\n  }\r\n\r\n  private closeModals(dialogs: TDSModalRef[]): void {\r\n    let i = dialogs.length;\r\n    while (i--) {\r\n      dialogs[i].close();\r\n      if (!this.openModals.length) {\r\n        this._afterAllClosed.next();\r\n      }\r\n    }\r\n  }\r\n\r\n  private createOverlay(config: ModalOptions): OverlayRef {\r\n    const globalConfig: any =  {};\r\n    const overlayConfig = new OverlayConfig({\r\n      hasBackdrop: true,\r\n      scrollStrategy: this.overlay.scrollStrategies.block(),\r\n      positionStrategy: this.overlay.position().global(),\r\n      disposeOnNavigation: getValueWithConfig(config.closeOnNavigation, globalConfig.closeOnNavigation, true),\r\n      direction: getValueWithConfig(config.direction, globalConfig.direction, this.directionality.value)\r\n    });\r\n    if (getValueWithConfig(config.mask, globalConfig.mask, true)) {\r\n      overlayConfig.backdropClass = MODAL_MASK_CLASS_NAME;\r\n    }\r\n\r\n    return this.overlay.create(overlayConfig);\r\n  }\r\n\r\n  private attachModalContainer(overlayRef: OverlayRef, config: ModalOptions): BaseModalContainerComponent {\r\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\r\n    const injector = Injector.create({\r\n      parent: userInjector || this.injector,\r\n      providers: [\r\n        { provide: OverlayRef, useValue: overlayRef },\r\n        { provide: ModalOptions, useValue: config }\r\n      ]\r\n    });\r\n\r\n    const ContainerComponent =\r\n      config.modalType === 'confirm'\r\n        ? // If the mode is `confirm`, use `TDSModalConfirmContainerComponent`\r\n          TDSModalConfirmContainerComponent\r\n        : // If the mode is not `confirm`, use `TDSModalContainerComponent`\r\n          TDSModalContainerComponent;\r\n\r\n    const containerPortal = new ComponentPortal<BaseModalContainerComponent>(ContainerComponent, config.viewContainerRef, injector);\r\n    const containerRef = overlayRef.attach<BaseModalContainerComponent>(containerPortal);\r\n\r\n    return containerRef.instance;\r\n  }\r\n\r\n  private attachModalContent<T, R>(\r\n    componentOrTemplateRef: ContentType<T>,\r\n    modalContainer: BaseModalContainerComponent,\r\n    overlayRef: OverlayRef,\r\n    config: ModalOptions<T>\r\n  ): TDSModalRef<T, R> {\r\n    const modalRef = new TDSModalRef<T, R>(overlayRef, config, modalContainer);\r\n\r\n    if (componentOrTemplateRef instanceof TemplateRef) {\r\n      modalContainer.attachTemplatePortal(\r\n        new TemplatePortal<T>(componentOrTemplateRef, null!, { $implicit: config.componentParams, modalRef } as any)\r\n      );\r\n    } else if (isNotNil(componentOrTemplateRef) && typeof componentOrTemplateRef !== 'string') {\r\n      const injector = this.createInjector<T, R>(modalRef, config);\r\n      const contentRef = modalContainer.attachComponentPortal<T>(\r\n        new ComponentPortal(componentOrTemplateRef, config.viewContainerRef, injector)\r\n      );\r\n      setContentInstanceParams<T>(contentRef.instance, config.componentParams);\r\n      modalRef.componentInstance = contentRef.instance;\r\n    } else {\r\n      modalContainer.attachStringContent();\r\n    }\r\n    return modalRef;\r\n  }\r\n\r\n  private createInjector<T, R>(modalRef: TDSModalRef<T, R>, config: ModalOptions<T>): Injector {\r\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\r\n\r\n    return Injector.create({\r\n      parent: userInjector || this.injector,\r\n      providers: [{ provide: TDSModalRef, useValue: modalRef }]\r\n    });\r\n  }\r\n\r\n  private confirmFactory<T>(options: ModalOptions<T> = {}, confirmType: ConfirmType): TDSModalRef<T> {\r\n    const iconMap: IndexableObject = {\r\n      info: ' tdsi-information-fill',\r\n      success: 'tdsi-success-fill',\r\n      error: 'tdsi-error-fill',\r\n      warning: ' tdsi-warning-fill'\r\n    };\r\n    if (!('iconType' in options)) {\r\n      options.iconType = iconMap[confirmType];\r\n    }\r\n    if (!('cancelText' in options)) {\r\n      // Remove the Cancel button if the user not specify a Cancel button\r\n      options.cancelText = null;\r\n    }\r\n    \r\n    return this.confirm(options, confirmType);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.closeModals(this.openModalsAtThisLevel);\r\n    this.afterAllClosedAtThisLevel.complete();\r\n  }\r\n}\r\n","\r\n\r\nimport { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[tdsModalContent]',\r\n  exportAs: 'tdsModalContent'\r\n})\r\nexport class TDSModalContentDirective {\r\n  constructor(public templateRef: TemplateRef<{}>) {}\r\n}\r\n","\r\n\r\nimport { Directive, Optional, TemplateRef } from '@angular/core';\r\nimport { TDSModalRef } from './modal-ref';\r\n\r\n@Directive({\r\n  selector: '[tdsModalFooter]',\r\n  exportAs: 'tdsModalFooter'\r\n})\r\nexport class TDSModalFooterDirective {\r\n  constructor(@Optional() private modalRef: TDSModalRef, public templateRef: TemplateRef<{}>) {\r\n    if (this.modalRef) {\r\n      this.modalRef.updateConfig({\r\n        footer: this.templateRef\r\n      });\r\n    }\r\n  }\r\n}\r\n","\r\n\r\nimport { Directive, Optional, TemplateRef } from '@angular/core';\r\nimport { TDSModalRef } from './modal-ref';\r\n\r\n@Directive({\r\n  selector: '[tdsModalTitle]',\r\n  exportAs: 'tdsModalTitle'\r\n})\r\nexport class TDSModalTitleDirective {\r\n  constructor(@Optional() private modalRef: TDSModalRef, public templateRef: TemplateRef<{}>) {\r\n    if (this.modalRef) {\r\n      this.modalRef.updateConfig({\r\n        title: this.templateRef\r\n      });\r\n    }\r\n  }\r\n}\r\n","\r\n\r\nimport { BooleanInput } from '@angular/cdk/coercion';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  Output,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  Type,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { InputBoolean } from 'tds-ui/shared/utility';\r\n\r\nimport { TDSModalContentDirective } from './modal-content.directive';\r\nimport { TDSModalFooterDirective } from './modal-footer.directive';\r\nimport { TDSModalLegacyAPI } from './modal-legacy-api';\r\nimport { TDSModalRef } from './modal-ref';\r\nimport { TDSModalTitleDirective } from './modal-title.directive';\r\nimport { ModalButtonOptions, ModalOptions, ModalTypes, OnClickCallback, StyleObjectLike, TDSModalSize } from './modal-types';\r\nimport { TDSModalService } from './modal.service';\r\nimport { getConfigFromComponent } from './utils';\r\n@Component({\r\n  selector: 'tds-modal',\r\n  exportAs: 'tdsModal',\r\n  template: `\r\n    <ng-template>\r\n      <ng-content></ng-content>\r\n    </ng-template>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class TDSModalComponent<T = any, R = any> implements OnChanges, TDSModalLegacyAPI<T, R>, OnDestroy {\r\n  static ngAcceptInputType_mask: BooleanInput;\r\n  static ngAcceptInputType_maskClosable: BooleanInput;\r\n  static ngAcceptInputType_closeOnNavigation: BooleanInput;\r\n  static ngAcceptInputType_visible: BooleanInput;\r\n  static ngAcceptInputType_closable: BooleanInput;\r\n  static ngAcceptInputType_okLoading: BooleanInput;\r\n  static ngAcceptInputType_okDisabled: BooleanInput;\r\n  static ngAcceptInputType_cancelDisabled: BooleanInput;\r\n  static ngAcceptInputType_cancelLoading: BooleanInput;\r\n  static ngAcceptInputType_keyboard: BooleanInput;\r\n  static ngAcceptInputType_noAnimation: BooleanInput;\r\n  static ngAcceptInputType_okDanger: BooleanInput;\r\n  static ngAcceptInputType_centered: BooleanInput;\r\n\r\n  @Input() @InputBoolean() mask?: boolean;\r\n  @Input() @InputBoolean() autoClose?: boolean;\r\n  @Input() @InputBoolean() closeOnNavigation?: boolean;\r\n  @Input() @InputBoolean() visible: boolean = false;\r\n  @Input() @InputBoolean() closable: boolean = true;\r\n  @Input() @InputBoolean() okLoading: boolean = false;\r\n  @Input() @InputBoolean() okDisabled: boolean = false;\r\n  @Input() @InputBoolean() cancelDisabled: boolean = false;\r\n  @Input() @InputBoolean() cancelLoading: boolean = false;\r\n  @Input() @InputBoolean() keyboard: boolean = true;\r\n  @Input() @InputBoolean() noAnimation = false;\r\n  @Input() @InputBoolean() centered = false;\r\n  @Input() size:TDSModalSize = \"md\";\r\n  @Input() content?: string | TemplateRef<{}> | Type<T>;\r\n  @Input() componentParams?: T;\r\n  @Input() footer?: string | TemplateRef<{}> | Array<ModalButtonOptions<T>> | null;\r\n  @Input() zindex: number = 60;\r\n  @Input() wrapClassName?: string;\r\n  @Input() className?: string;\r\n  @Input() style?: object;\r\n  @Input() title?: string | TemplateRef<{}>;\r\n  @Input() closeIcon: string | TemplateRef<void> = 'close';\r\n  @Input() maskStyle?: StyleObjectLike;\r\n  @Input() bodyStyle?: StyleObjectLike;\r\n  @Input() okText?: string | null;\r\n  @Input() cancelText?: string | null;\r\n  @Input() okType: \"default\" | \"primary\" | \"dashed\" | \"danger\" | \"link\" | \"text\" | null = 'primary';\r\n  @Input() @InputBoolean() okDanger: boolean = false;\r\n  @Input() iconType: string = 'question-circle'; // Confirm Modal ONLY\r\n  @Input() modalType: ModalTypes = 'default';\r\n  @Input() autofocus: 'ok' | 'cancel' | 'auto' | null = 'auto';\r\n\r\n  // TODO(@hsuanxyz) Input will not be supported\r\n  @Input()\r\n  @Output()\r\n  readonly onOk: EventEmitter<T> | OnClickCallback<T> | any = new EventEmitter<T>();\r\n\r\n  // TODO(@hsuanxyz) Input will not be supported\r\n  @Input()\r\n  @Output()\r\n  readonly onCancel: EventEmitter<T> | OnClickCallback<T> | any = new EventEmitter<T>();\r\n\r\n  @Output() readonly onAfterOpen = new EventEmitter<void>();\r\n  @Output() readonly onAfterClose = new EventEmitter<R>();\r\n  @Output() readonly visibleChange = new EventEmitter<boolean>();\r\n\r\n  @ViewChild(TemplateRef, { static: true }) contentTemplateRef!: TemplateRef<{}>;\r\n\r\n  @ContentChild(TDSModalTitleDirective, { static: true, read: TemplateRef })\r\n  set modalTitle(value: TemplateRef<any>) {\r\n    if (value) {\r\n      this.setTitleWithTemplate(value);\r\n    }\r\n  }\r\n\r\n  @ContentChild(TDSModalContentDirective, { static: true, read: TemplateRef })\r\n  contentFromContentChild!: TemplateRef<any>;\r\n\r\n  @ContentChild(TDSModalFooterDirective, { static: true, read: TemplateRef })\r\n  set modalFooter(value: TemplateRef<any>) {\r\n    if (value) {\r\n      this.setFooterWithTemplate(value);\r\n    }\r\n  }\r\n  get width(): number {\r\n    let result = 500;\r\n    switch (this.size) {\r\n      case \"sm\":\r\n        result = 300;\r\n        break;\r\n      case \"md\":\r\n        result = 500;\r\n        break;\r\n      case \"lg\":\r\n        result = 800;\r\n        break;\r\n      case \"xl\":\r\n        result = 1140;\r\n        break;\r\n      default:\r\n        result = 500;\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n  private modalRef: TDSModalRef | null = null;\r\n  private destroy$ = new Subject<void>();\r\n\r\n  get afterOpen(): Observable<void> {\r\n    // Observable alias for afterOpen\r\n    return this.onAfterOpen.asObservable();\r\n  }\r\n\r\n  get afterClose(): Observable<R> {\r\n    // Observable alias for afterClose\r\n    return this.onAfterClose.asObservable();\r\n  }\r\n\r\n  constructor(private cdr: ChangeDetectorRef,\r\n    private modal: TDSModalService,\r\n    private viewContainerRef: ViewContainerRef) { }\r\n\r\n  open(): void {\r\n    if (!this.visible) {\r\n      this.visible = true;\r\n      this.visibleChange.emit(true);\r\n    }\r\n\r\n    if (!this.modalRef) {\r\n\r\n      const config = this.getConfig();\r\n      this.modalRef = this.modal.create(config);\r\n\r\n      // When the modal is implicitly closed (e.g. closeAll) the visible needs to be set to the correct value and emit.\r\n      this.modalRef.afterClose\r\n        .asObservable()\r\n        .pipe(takeUntil(this.destroy$))\r\n        .subscribe(() => {\r\n          this.close();\r\n        });\r\n    }\r\n  }\r\n\r\n  close(result?: R): void {\r\n    if (this.visible) {\r\n      this.visible = false;\r\n      this.visibleChange.emit(false);\r\n    }\r\n\r\n    if (this.modalRef) {\r\n      this.modalRef.close(result);\r\n      this.modalRef = null;\r\n    }\r\n  }\r\n\r\n  destroy(result?: R): void {\r\n    this.close(result);\r\n  }\r\n\r\n  triggerOk(): void {\r\n    this.modalRef?.triggerOk();\r\n  }\r\n\r\n  triggerCancel(): void {\r\n    this.modalRef?.triggerCancel();\r\n  }\r\n\r\n  getContentComponent(): T | void {\r\n    return this.modalRef?.getContentComponent();\r\n  }\r\n\r\n  getElement(): HTMLElement | void {\r\n    return this.modalRef?.getElement();\r\n  }\r\n\r\n  getModalRef(): TDSModalRef | null {\r\n    return this.modalRef;\r\n  }\r\n\r\n  private setTitleWithTemplate(templateRef: TemplateRef<{}>): void {\r\n    this.title = templateRef;\r\n    if (this.modalRef) {\r\n      // If modalRef already created, set the title in next tick\r\n      Promise.resolve().then(() => {\r\n        this.modalRef!.updateConfig({\r\n          title: this.title\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  private setFooterWithTemplate(templateRef: TemplateRef<{}>): void {\r\n    this.footer = templateRef;\r\n    if (this.modalRef) {\r\n      // If modalRef already created, set the footer in next tick\r\n      Promise.resolve().then(() => {\r\n        this.modalRef!.updateConfig({\r\n          footer: this.footer\r\n        });\r\n      });\r\n    }\r\n\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  private getConfig(): ModalOptions {\r\n    const componentConfig = getConfigFromComponent(this);\r\n    componentConfig.viewContainerRef = this.viewContainerRef;\r\n    componentConfig.content = this.content || this.contentFromContentChild;\r\n    return componentConfig;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const { visible, ...otherChanges } = changes;\r\n\r\n    if (Object.keys(otherChanges).length && this.modalRef) {\r\n      this.modalRef.updateConfig(getConfigFromComponent(this));\r\n    }\r\n\r\n    if (visible) {\r\n      if (this.visible) {\r\n        this.open();\r\n      } else {\r\n        this.close();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.modalRef?._finishDialogClose();\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","\r\n\r\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\r\n\r\nimport { ModalOptions } from './modal-types';\r\n\r\n@Component({\r\n  selector: 'div[tds-modal-close]',\r\n  exportAs: 'tdsModalCloseBuiltin',\r\n  template: `\r\n    <span class=\"tds-modal-close-x flex\">\r\n      <ng-container *tdsStringTemplateOutlet=\"config.closeIcon; let closeIcon\">\r\n       <button tds-button-close></button>\r\n      </ng-container>\r\n    </span>\r\n  `,\r\n  host: {\r\n    class: 'tds-modal-close',\r\n    'aria-label': 'Close'\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class TdsModalCloseComponent {\r\n  constructor(public config: ModalOptions) {}\r\n}\r\n","\r\n\r\n\r\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, OnDestroy, Output } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { isPromise } from 'tds-ui/core/util';\r\n\r\nimport { TDSModalRef } from './modal-ref';\r\nimport { ModalButtonOptions, ModalOptions } from './modal-types';\r\n\r\n@Component({\r\n  selector: 'div[tds-modal-footer]',\r\n  exportAs: 'tdsModalFooterBuiltin',\r\n  template: `\r\n    <ng-container *ngIf=\"config.footer; else defaultFooterButtons\">\r\n      <ng-container *tdsStringTemplateOutlet=\"config.footer; context: { $implicit: config.componentParams, modalRef: modalRef }\">\r\n        <div *ngIf=\"!buttonsFooter\" [innerHTML]=\"config.footer\"></div>\r\n        <ng-container *ngIf=\"buttonsFooter\">\r\n        <div class=\"w-full flex justify-end p-4\">\r\n        <button\r\n        class=\"ml-2 min-w-[100px]\"\r\n            *ngFor=\"let button of buttons\"\r\n            tds-button\r\n            (click)=\"onButtonClick(button)\"\r\n            [hidden]=\"!getButtonCallableProp(button, 'show')\"\r\n            [loading]=\"getButtonCallableProp(button, 'loading')\"\r\n            [disabled]=\"getButtonCallableProp(button, 'disabled')\"          \r\n            [size]=\"button.size!\"\r\n          >\r\n            {{ button.label }}\r\n          </button>\r\n        </div>\r\n          \r\n        </ng-container>\r\n      </ng-container>\r\n    </ng-container>\r\n    <ng-template #defaultFooterButtons>\r\n     <div class=\"w-full flex justify-end p-4\">\r\n     <button\r\n     class=\"ml-2\"\r\n     *ngIf=\"config.cancelText !== null\"\r\n     [attr.cdkFocusInitial]=\"config.autofocus === 'cancel' || null\"\r\n     tds-button\r\n     class=\"min-w-[100px]\"\r\n     color=\"secondary\"\r\n     (click)=\"onCancel()\"      \r\n     [disabled]=\"config.cancelDisabled!\"\r\n   >\r\n     {{ config.cancelText || locale.cancelText }}\r\n   </button>\r\n   <button\r\n     *ngIf=\"config.okText !== null\"\r\n     [attr.cdkFocusInitial]=\"config.autofocus === 'ok' || null\"\r\n     tds-button   \r\n     (click)=\"onOk()\"        \r\n     [disabled]=\"config.okDisabled!\"\r\n     class=\"ml-2 min-w-[100px]\"\r\n   >\r\n     {{ config.okText || locale.okText }} \r\n       </button>\r\n     </div>\r\n    </ng-template>\r\n  `,\r\n  host: {\r\n    class: 'tds-modal-footer'\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.Default\r\n})\r\nexport class TDSModalFooterComponent implements OnDestroy {\r\n  buttonsFooter = false;\r\n  buttons: ModalButtonOptions[] = [];\r\n  @Output() readonly cancelTriggered = new EventEmitter<void>();\r\n  @Output() readonly okTriggered = new EventEmitter<void>();\r\n  @Input() modalRef!: TDSModalRef;\r\n  private destroy$ = new Subject<void>();\r\n  locale = {\r\n    okText: \"Lưu\",\r\n    cancelText: \"Hủy\",\r\n  }\r\n  constructor(public config: ModalOptions) {\r\n\r\n    if (Array.isArray(config.footer)) {\r\n      this.buttonsFooter = true;\r\n      this.buttons = (config.footer as ModalButtonOptions[]).map(mergeDefaultOption);\r\n    }\r\n\r\n  }\r\n\r\n  onCancel(): void {\r\n    this.cancelTriggered.emit();\r\n  }\r\n\r\n  onOk(): void {\r\n    this.okTriggered.emit();\r\n  }\r\n\r\n  /**\r\n   * Returns the value of the specified key.\r\n   * If it is a function, run and return the return value of the function.\r\n   */\r\n  getButtonCallableProp(options: ModalButtonOptions, prop: keyof ModalButtonOptions): boolean {\r\n    const value = options[prop];\r\n    const componentInstance = this.modalRef.getContentComponent();\r\n    return typeof value === 'function' ? value.apply(options, componentInstance && [componentInstance]) : value;\r\n  }\r\n\r\n  /**\r\n   * Run function based on the type and set its `loading` prop if needed.\r\n   */\r\n  onButtonClick(options: ModalButtonOptions): void {\r\n    const loading = this.getButtonCallableProp(options, 'loading');\r\n    if (!loading) {\r\n      const result = this.getButtonCallableProp(options, 'onClick');\r\n      if (options.autoLoading && isPromise(result)) {\r\n        options.loading = true;\r\n        result.then(() => (options.loading = false)).catch(() => (options.loading = false));\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n\r\nfunction mergeDefaultOption(options: ModalButtonOptions): ModalButtonOptions {\r\n  return {\r\n    type: null,\r\n    size: 'md',\r\n    autoLoading: true,\r\n    show: true,\r\n    loading: false,\r\n    disabled: false,\r\n    color:'secondary',\r\n    ...options\r\n  };\r\n}\r\n","\r\n\r\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\r\n\r\nimport { ModalOptions } from './modal-types';\r\n\r\n@Component({\r\n  selector: 'div[tds-modal-title]',\r\n  exportAs: 'tdsModalTitleBuiltin',\r\n  template: `\r\n    <ng-container *tdsStringTemplateOutlet=\"config.title\">\r\n        <div [innerHTML]=\"config.title\" class=\"text-title-1 text-neutral-1-900 dark:text-d-neutral-1-900 font-semibold break-words\"></div>\r\n      </ng-container>\r\n  `,\r\n  host: {\r\n    class: 'tds-modal-header'\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class TDSModalTitleComponent {\r\n  constructor(public config: ModalOptions) {}\r\n}\r\n","\r\n\r\nimport { BidiModule } from '@angular/cdk/bidi';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { PortalModule } from '@angular/cdk/portal';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { TDSButtonModule } from 'tds-ui/button';\r\nimport { TDSOutletModule } from 'tds-ui/core/outlet';\r\nimport { TDSPipesModule } from 'tds-ui/core/pipes';\r\n\r\n\r\nimport { TdsModalCloseComponent } from './modal-close.component';\r\nimport { TDSModalConfirmContainerComponent } from './modal-confirm-container.component';\r\nimport { TDSModalContainerComponent } from './modal-container.component';\r\nimport { TDSModalContentDirective } from './modal-content.directive';\r\nimport { TDSModalFooterComponent } from './modal-footer.component';\r\nimport { TDSModalFooterDirective } from './modal-footer.directive';\r\nimport { TDSModalTitleComponent } from './modal-title.component';\r\nimport { TDSModalTitleDirective } from './modal-title.directive';\r\nimport { TDSModalComponent } from './modal.component';\r\nimport { TDSModalService } from './modal.service';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        BidiModule,\r\n        OverlayModule,\r\n        TDSOutletModule,\r\n        PortalModule,\r\n        TDSPipesModule,\r\n        TDSButtonModule\r\n    ],\r\n    exports: [TDSModalComponent, TDSModalFooterDirective, TDSModalContentDirective, TDSModalTitleDirective],\r\n    providers: [TDSModalService],\r\n    declarations: [\r\n        TDSModalComponent,\r\n        TDSModalFooterDirective,\r\n        TDSModalContentDirective,\r\n        TdsModalCloseComponent,\r\n        TDSModalFooterComponent,\r\n        TDSModalTitleComponent,\r\n        TDSModalTitleDirective,\r\n        TDSModalContainerComponent,\r\n        TDSModalConfirmContainerComponent,\r\n        TDSModalComponent\r\n    ]\r\n})\r\nexport class TDSModalModule {}\r\n","\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nexport abstract class TDSModalLegacyAPI<T, R> {\r\n  abstract afterOpen: Observable<void>;\r\n  abstract afterClose: Observable<R>;\r\n\r\n  abstract close(result?: R): void;\r\n  abstract destroy(result?: R): void;\r\n\r\n  /**\r\n   * Trigger the onOk/onCancel by manual\r\n   */\r\n  abstract triggerOk(): void;\r\n  abstract triggerCancel(): void;\r\n  /**\r\n   * Return the component instance of content when specify content as a Component\r\n   */\r\n  abstract getContentComponent(): T | void;\r\n\r\n  /**\r\n   * Get the dom element of this Modal\r\n   */\r\n  abstract getElement(): HTMLElement | void;\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["TDS_CONFIG_MODULE_NAME","_c1","_c2","i4.ModalOptions","i2","i1.TDSModalRef","i1.TDSModalService","i1.ModalOptions","_c0","i3"],"mappings":"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"}