{"version":3,"file":"tds-ui-dropdown.mjs","sources":["../../../projects/tds-ui/dropdown/dropdown.directive.ts","../../../projects/tds-ui/dropdown/context-menu.service.module.ts","../../../projects/tds-ui/dropdown/dropdown-a.directive.ts","../../../projects/tds-ui/dropdown/dropdown-button.directive.ts","../../../projects/tds-ui/dropdown/dropdown-item.directive.ts","../../../projects/tds-ui/dropdown/dropdown-menu.component.ts","../../../projects/tds-ui/dropdown/dropdown.module.ts","../../../projects/tds-ui/dropdown/context-menu.service.ts","../../../projects/tds-ui/dropdown/tds-ui-dropdown.ts"],"sourcesContent":["\r\n\r\nimport { BooleanInput } from '@angular/cdk/coercion';\r\nimport { ESCAPE, hasModifierKey } from '@angular/cdk/keycodes';\r\nimport { Overlay, OverlayRef } from '@angular/cdk/overlay';\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport { TemplatePortal } from '@angular/cdk/portal';\r\nimport {\r\n  AfterViewInit,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { BehaviorSubject, combineLatest, EMPTY, fromEvent, merge, Subject } from 'rxjs';\r\nimport { auditTime, distinctUntilChanged, filter, map, mapTo, switchMap, takeUntil, tap } from 'rxjs/operators';\r\nimport { POSITION_MAP } from 'tds-ui/core/overlay';\r\nimport { IndexableObject } from 'tds-ui/core/util';\r\nimport { InputBoolean } from 'tds-ui/shared/utility';\r\n\r\nimport { TDSDropdownMenuComponent, TDSPlacementType } from './dropdown-menu.component';\r\n\r\nconst listOfPositions = [POSITION_MAP.bottomLeft, POSITION_MAP.bottomRight, POSITION_MAP.topRight, POSITION_MAP.topLeft];\r\n\r\n@Directive({\r\n  selector: '[tds-dropdown]',\r\n  exportAs: 'tdsDropdown'\r\n})\r\nexport class TDSDropDownDirective implements AfterViewInit, OnDestroy, OnChanges, OnInit {\r\n  static ngAcceptInputType_backdrop: BooleanInput;\r\n  static ngAcceptInputType_hasBackdrop: BooleanInput;\r\n  static ngAcceptInputType_clickHide: BooleanInput;\r\n  static ngAcceptInputType_disabled: BooleanInput;\r\n  static ngAcceptInputType_visible: BooleanInput;\r\n\r\n  private portal?: TemplatePortal;\r\n  private overlayRef: OverlayRef | null = null;\r\n  private destroy$ = new Subject<void>();\r\n  private positionStrategy = this.overlay\r\n    .position()\r\n    .flexibleConnectedTo(this.elementRef.nativeElement)\r\n    .withLockedPosition()\r\n    .withTransformOriginOn('.tds-dropdown')\r\n    ;\r\n  private inputVisible$ = new BehaviorSubject<boolean>(false);\r\n  private trigger$ = new BehaviorSubject<'click' | 'hover'>('hover');\r\n  private overlayClose$ = new Subject<boolean>();\r\n  @Input() tdsDropdownMenu: TDSDropdownMenuComponent | null = null;\r\n  @Input() trigger: 'click' | 'hover' = 'hover';\r\n  @Input() matchWidthElement: ElementRef | null = null;\r\n  @Input() @InputBoolean() backdrop = false;\r\n  @Input() @InputBoolean() clickHide = true;\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input() @InputBoolean() visible = false;\r\n  @Input() @InputBoolean() autoClose = true;\r\n  @Input() overlayClassName: string = '';\r\n  @Input() overlayStyle: IndexableObject = {};\r\n  @Input() placement: TDSPlacementType = 'bottomLeft';\r\n  @Output() readonly visibleChange: EventEmitter<boolean> = new EventEmitter();\r\n  @Output() readonly tdsDropdownOutsideClick: EventEmitter<void> = new EventEmitter();\r\n  setDropdownMenuValue<T extends keyof TDSDropdownMenuComponent>(key: T, value: TDSDropdownMenuComponent[T]): void {\r\n    if (this.tdsDropdownMenu) {\r\n      this.tdsDropdownMenu.setValue(key, value);\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    public elementRef: ElementRef,\r\n    private overlay: Overlay,\r\n    private renderer: Renderer2,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private platform: Platform\r\n  ) {\r\n    // TODO: move to host after View Engine deprecation\r\n    this.elementRef.nativeElement.classList.add('tds-dropdown-trigger');\r\n  }\r\n\r\n  ngOnInit(): void { }\r\n\r\n  ngAfterViewInit(): void {\r\n\r\n    if (this.tdsDropdownMenu) {\r\n      const nativeElement: HTMLElement = this.elementRef.nativeElement;\r\n      /** host mouse state **/\r\n      const hostMouseState$ = merge(\r\n        fromEvent(nativeElement, 'mouseenter').pipe(mapTo(true)),\r\n        fromEvent(nativeElement, 'mouseleave').pipe(mapTo(false))\r\n      );\r\n      /** menu mouse state **/\r\n      const menuMouseState$ = this.tdsDropdownMenu.mouseState$;\r\n      /** merged mouse state **/\r\n      const mergedMouseState$ = merge(menuMouseState$, hostMouseState$);\r\n      /** host click state **/\r\n      const hostClickState$ = fromEvent(nativeElement, 'click').pipe(map(() => !this.visible));\r\n      /** visible state switch by trigger **/\r\n      const visibleStateByTrigger$ = this.trigger$.pipe(\r\n        switchMap(trigger => {\r\n          if (trigger === 'hover') {\r\n            return mergedMouseState$;\r\n          } else if (trigger === 'click') {\r\n            return hostClickState$;\r\n          } else {\r\n            return EMPTY;\r\n          }\r\n        })\r\n      );\r\n      const descendantMenuItemClick$ = this.tdsDropdownMenu.descendantMenuItemClick$.pipe(\r\n        filter(() => this.clickHide),\r\n        mapTo(false)\r\n      );\r\n      const domTriggerVisible$ = merge(visibleStateByTrigger$, descendantMenuItemClick$, this.overlayClose$).pipe(\r\n        filter(() => !this.disabled)\r\n      );\r\n      const visible$ = merge(this.inputVisible$, domTriggerVisible$);\r\n      combineLatest([visible$, this.tdsDropdownMenu.isChildSubMenuOpen$])\r\n        .pipe(\r\n          map(([visible, sub]) => visible || sub),\r\n          auditTime(150),\r\n          distinctUntilChanged(),\r\n          filter(() => this.platform.isBrowser),\r\n          takeUntil(this.destroy$)\r\n        )\r\n        .subscribe((visible: boolean) => {\r\n          const element = this.matchWidthElement ? this.matchWidthElement.nativeElement : nativeElement;\r\n          const triggerWidth = element.getBoundingClientRect().width;\r\n          if (this.visible !== visible) {\r\n            this.visibleChange.emit(visible);\r\n          }\r\n          this.visible = visible;\r\n          if (visible) {\r\n            /** set up overlayRef **/\r\n            if (!this.overlayRef) {\r\n              /** new overlay **/\r\n              this.overlayRef = this.overlay.create({\r\n                positionStrategy: this.positionStrategy,\r\n                minWidth: triggerWidth,\r\n                disposeOnNavigation: true,\r\n                hasBackdrop: (this.backdrop) && this.trigger === 'click',\r\n                scrollStrategy: this.autoClose ? this.overlay.scrollStrategies.close() : this.overlay.scrollStrategies.reposition()\r\n              });\r\n              merge(\r\n                this.overlayRef.backdropClick(),\r\n                this.overlayRef.detachments(),\r\n                this.overlayRef.outsidePointerEvents().pipe(filter((e: MouseEvent) => !this.elementRef.nativeElement.contains(e.target))),\r\n                this.overlayRef.keydownEvents().pipe(filter(e => e.keyCode === ESCAPE && !hasModifierKey(e)))\r\n              )\r\n                .pipe(\r\n                  filter(() => this.autoClose),\r\n                  takeUntil(this.destroy$))\r\n                .subscribe(() => {\r\n                  this.overlayClose$.next(false);\r\n                });\r\n              merge(\r\n                this.overlayRef.backdropClick(),\r\n                this.overlayRef.outsidePointerEvents().pipe(filter((e: MouseEvent) => !this.elementRef.nativeElement.contains(e.target))),\r\n              )\r\n                .pipe(\r\n                  takeUntil(this.destroy$))\r\n                .subscribe(() => {\r\n                  this.tdsDropdownOutsideClick.next();\r\n                });\r\n            } else {\r\n              /** update overlay config **/\r\n              const overlayConfig = this.overlayRef.getConfig();\r\n              overlayConfig.minWidth = triggerWidth;\r\n            }\r\n            /** open dropdown with animation **/\r\n            this.positionStrategy.withPositions([POSITION_MAP[this.placement], ...listOfPositions]);\r\n            /** reset portal if needed **/\r\n            if (!this.portal || this.portal.templateRef !== this.tdsDropdownMenu!.templateRef) {\r\n              this.portal = new TemplatePortal(this.tdsDropdownMenu!.templateRef, this.viewContainerRef);\r\n            }\r\n            this.overlayRef.attach(this.portal);\r\n          } else {\r\n            /** detach overlayRef if needed **/\r\n            if (this.overlayRef) {\r\n              this.overlayRef.detach();\r\n            }\r\n          }\r\n        });\r\n\r\n      this.tdsDropdownMenu!.animationStateChange$.pipe(takeUntil(this.destroy$)).subscribe(event => {\r\n        if (event.toState === 'void') {\r\n          if (this.overlayRef) {\r\n            this.overlayRef.dispose();\r\n          }\r\n          this.overlayRef = null;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n    if (this.overlayRef) {\r\n      this.overlayRef.dispose();\r\n      this.overlayRef = null;\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const { visible, disabled, overlayClassName, overlayStyle, trigger, backdrop } = changes;\r\n    if (trigger) {\r\n      this.trigger$.next(this.trigger);\r\n    }\r\n    if (visible) {\r\n      this.inputVisible$.next(this.visible);\r\n    }\r\n    if (disabled) {\r\n      const nativeElement = this.elementRef.nativeElement;\r\n      if (this.disabled) {\r\n        this.renderer.setAttribute(nativeElement, 'disabled', '');\r\n        this.inputVisible$.next(false);\r\n      } else {\r\n        this.renderer.removeAttribute(nativeElement, 'disabled');\r\n      }\r\n    }\r\n    if (overlayClassName) {\r\n      this.setDropdownMenuValue('overlayClassName', this.overlayClassName);\r\n    }\r\n    if (overlayStyle) {\r\n      this.setDropdownMenuValue('overlayStyle', this.overlayStyle);\r\n    }\r\n    if (backdrop) {\r\n      // console.warn('`backdrop` in dropdown component will be removed in 12.0.0, please use `hasBackdrop` instead.');\r\n    }\r\n  }\r\n}\r\n","\r\n\r\nimport { NgModule } from '@angular/core';\r\n\r\n@NgModule()\r\nexport class TDSContextMenuServiceModule {}\r\n","\r\n\r\nimport { Directive, ElementRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: 'a[tds-dropdown]'\r\n})\r\nexport class TDSDropDownADirective {\r\n  constructor(private elementRef: ElementRef) {\r\n    // TODO: move to host after View Engine deprecation\r\n    this.elementRef.nativeElement.classList.add('tds-dropdown-link');\r\n  }\r\n}\r\n","\r\n\r\nimport { AfterViewInit, Directive, ElementRef, Host, Optional, Renderer2 } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[tds-button][tds-dropdown]'\r\n})\r\nexport class TDSDropdownButtonDirective implements AfterViewInit {\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    // @Host() @Optional() private nzButtonGroupComponent: NzButtonGroupComponent,\r\n    private elementRef: ElementRef\r\n  ) {}\r\n  ngAfterViewInit(): void {\r\n    const parentElement = this.renderer.parentNode(this.elementRef.nativeElement);\r\n    // if (this.nzButtonGroupComponent && parentElement) {\r\n    //   this.renderer.addClass(parentElement, 'tds-dropdown-button');\r\n    // }\r\n  }\r\n}\r\n","\r\n\r\nimport { Direction, Directionality } from '@angular/cdk/bidi';\r\nimport { BooleanInput } from '@angular/cdk/coercion';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectorRef,\r\n  ContentChildren,\r\n  Directive,\r\n  Inject,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  QueryList,\r\n  SimpleChanges\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { InputBoolean } from 'tds-ui/shared/utility';\r\n\r\nimport { TDSMenuService } from 'tds-ui/menu';\r\n\r\n@Directive({\r\n  selector: '[tds-dropdown-item]',\r\n  exportAs: 'tdsDropdownItem',\r\n  host: {\r\n    class:\"tds-dropdown-item text-neutral-1-900  dark:text-d-neutral-1-900  text-body-2 px-3 py-1.5 font-regular dark:hover:bg-d-neutral-3-400 hover:bg-neutral-3-50  w-full\",\r\n    '[class.cursor-pointer]':\"!disabled\",\r\n    '(click)': 'clickMenuItem($event)'\r\n  }\r\n})\r\nexport class TDSDropDownItemDirective implements OnInit, OnChanges, OnDestroy, AfterContentInit {\r\n  static ngAcceptInputType_disabled: BooleanInput;\r\n  static ngAcceptInputType_selected: BooleanInput;\r\n\r\n  private destroy$ = new Subject<void>();\r\n  selected$ = new Subject<boolean>();\r\n\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input() @InputBoolean() selected = false;\r\n\r\n  /** clear all item selected status except this */\r\n  clickMenuItem(e: MouseEvent): void {\r\n    \r\n    if (this.disabled) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    } else {\r\n      this.TDSMenuService.onDescendantMenuItemClick(this);    \r\n    }\r\n  }\r\n\r\n \r\n\r\n\r\n\r\n\r\n  constructor(\r\n    private TDSMenuService: TDSMenuService,\r\n    private cdr: ChangeDetectorRef,    \r\n  ) {\r\n    \r\n  }\r\n\r\n  ngOnInit(): void {\r\n \r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n   \r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.disabled) {\r\n      this.cdr.markForCheck();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","\r\n\r\nimport { AnimationEvent } from '@angular/animations';\r\nimport { Direction, Directionality } from '@angular/cdk/bidi';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Host,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewContainerRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { TDSSafeAny } from 'tds-ui/shared/utility';\r\nimport { slideMotion } from 'tds-ui/core/animation';\r\nimport { IndexableObject } from 'tds-ui/core/util';\r\nimport { TDSNoAnimationDirective } from 'tds-ui/core/no-animation';\r\nimport { TDSMenuService } from 'tds-ui/menu';\r\nexport type TDSPlacementType = 'bottomLeft' | 'bottomCenter' | 'bottomRight' | 'topLeft' | 'topCenter' | 'topRight';\r\n\r\n@Component({\r\n  selector: `tds-dropdown-menu`,\r\n  exportAs: `tdsDropdownMenu`,\r\n  animations: [slideMotion],\r\n  providers: [\r\n    TDSMenuService,\r\n    // /** menu is inside dropdown-menu component **/\r\n    // {\r\n    //   provide: TDSIsMenuInsideDropDownToken,\r\n    //   useValue: true\r\n    // }\r\n  ],\r\n  template: `\r\n    <ng-template>\r\n      <div \r\n        class=\"tds-dropdown   min-w-full relative\"\r\n        [class.tds-dropdown-rtl]=\"dir === 'rtl'\"\r\n        [ngClass]=\"overlayClassName\"\r\n        [ngStyle]=\"overlayStyle\"\r\n        @slideMotion\r\n        (@slideMotion.done)=\"onAnimationEvent($event)\"       \r\n        (mouseenter)=\"setMouseState(true)\"\r\n        (mouseleave)=\"setMouseState(false)\"\r\n      >\r\n      <div class=\"py-1 w-full\" >\r\n        <div class='w-full bg-white dark:bg-d-neutral-3-300  shadow-1-lg rounded py-1'>\r\n          <ng-content></ng-content>\r\n        </div>        \r\n      </div>\r\n        \r\n      </div>\r\n    </ng-template>\r\n  `,\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n \r\n})\r\nexport class TDSDropdownMenuComponent implements AfterContentInit, OnDestroy, OnInit {\r\n  mouseState$ = new BehaviorSubject<boolean>(false);\r\n  isChildSubMenuOpen$ = this.tdsMenuService.isChildSubMenuOpen$;\r\n  descendantMenuItemClick$ = this.tdsMenuService.descendantMenuItemClick$;\r\n  animationStateChange$ = new EventEmitter<AnimationEvent>();\r\n  overlayClassName: string = '';\r\n  overlayStyle: IndexableObject = {};\r\n  @ViewChild(TemplateRef, { static: true }) templateRef!: TemplateRef<TDSSafeAny>;\r\n\r\n  dir: Direction = 'ltr';\r\n  private destroy$ = new Subject<void>();\r\n\r\n  onAnimationEvent(event: AnimationEvent): void {\r\n    this.animationStateChange$.emit(event);\r\n  }\r\n\r\n  setMouseState(visible: boolean): void {\r\n    this.mouseState$.next(visible);\r\n  }\r\n\r\n  setValue<T extends keyof TDSDropdownMenuComponent>(key: T, value: this[T]): void {\r\n    this[key] = value;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    private elementRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    public viewContainerRef: ViewContainerRef,\r\n    public tdsMenuService: TDSMenuService,\r\n    @Optional() private directionality: Directionality,\r\n    @Host() @Optional() public noAnimation?: TDSNoAnimationDirective\r\n  ) {}\r\n  ngOnInit(): void {\r\n    this.directionality.change?.pipe(takeUntil(this.destroy$)).subscribe((direction: Direction) => {\r\n      this.dir = direction;\r\n      this.cdr.detectChanges();\r\n    });\r\n    this.dir = this.directionality.value;\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement), this.elementRef.nativeElement);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","\r\n\r\nimport { BidiModule } from '@angular/cdk/bidi';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { PlatformModule } from '@angular/cdk/platform';\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TDSButtonModule } from 'tds-ui/button';\r\nimport { TDSNoAnimationModule } from 'tds-ui/core/no-animation';\r\nimport { TDSOutletModule } from 'tds-ui/core/outlet';\r\nimport { TDSOverlayModule } from 'tds-ui/core/overlay';\r\nimport { TDSMenuModule } from 'tds-ui/menu';\r\n\r\n\r\nimport { TDSContextMenuServiceModule } from './context-menu.service.module';\r\nimport { TDSDropDownADirective } from './dropdown-a.directive';\r\nimport { TDSDropdownButtonDirective } from './dropdown-button.directive';\r\nimport { TDSDropDownItemDirective } from './dropdown-item.directive';\r\nimport { TDSDropdownMenuComponent } from './dropdown-menu.component';\r\nimport { TDSDropDownDirective } from './dropdown.directive';\r\n\r\n@NgModule({\r\n    imports: [\r\n        BidiModule,\r\n        CommonModule,\r\n        OverlayModule,\r\n        FormsModule,\r\n        TDSButtonModule,\r\n        TDSMenuModule,\r\n        TDSNoAnimationModule,\r\n        PlatformModule,\r\n        TDSOverlayModule,\r\n        TDSContextMenuServiceModule,\r\n        TDSOutletModule\r\n    ],\r\n    declarations: [TDSDropDownDirective,\r\n        TDSDropDownADirective,\r\n        TDSDropdownMenuComponent,\r\n        TDSDropdownButtonDirective,\r\n        TDSDropDownItemDirective\r\n    ],\r\n    exports: [TDSMenuModule,\r\n        TDSDropDownDirective,\r\n        TDSDropDownADirective,\r\n        TDSDropdownMenuComponent,\r\n        TDSDropdownButtonDirective,\r\n        TDSDropDownItemDirective]\r\n})\r\nexport class TDSDropDownModule { }\r\n","\r\n\r\nimport { ConnectionPositionPair, Overlay, OverlayRef } from '@angular/cdk/overlay';\r\nimport { TemplatePortal } from '@angular/cdk/portal';\r\nimport { Injectable } from '@angular/core';\r\nimport { fromEvent, merge, Subscription } from 'rxjs';\r\nimport { filter, take } from 'rxjs/operators';\r\nimport { TDSContextMenuServiceModule } from './context-menu.service.module';\r\nimport { TDSDropdownMenuComponent } from './dropdown-menu.component';\r\n\r\nconst listOfPositions = [\r\n  new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'start', overlayY: 'top' }),\r\n  new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'start', overlayY: 'bottom' }),\r\n  new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'end', overlayY: 'bottom' }),\r\n  new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'end', overlayY: 'top' })\r\n];\r\n\r\n@Injectable({\r\n  providedIn: TDSContextMenuServiceModule\r\n})\r\nexport class TDSContextMenuService {\r\n  private overlayRef: OverlayRef | null = null;\r\n  private closeSubscription = Subscription.EMPTY;\r\n\r\n  constructor(private overlay: Overlay) {}\r\n\r\n  create($event: MouseEvent | { x: number; y: number }, tdsDropdownMenuComponent: TDSDropdownMenuComponent): void {\r\n    this.close(true);\r\n    const { x, y } = $event;\r\n    if ($event instanceof MouseEvent) {\r\n      $event.preventDefault();\r\n    }\r\n    const positionStrategy = this.overlay\r\n      .position()\r\n      .flexibleConnectedTo({ x, y })\r\n      .withPositions(listOfPositions)\r\n      .withTransformOriginOn('.tds-dropdown');\r\n    this.overlayRef = this.overlay.create({\r\n      positionStrategy,\r\n      disposeOnNavigation: true,\r\n      scrollStrategy: this.overlay.scrollStrategies.close()\r\n    });\r\n    this.closeSubscription = merge(\r\n      tdsDropdownMenuComponent.descendantMenuItemClick$,\r\n      fromEvent<MouseEvent>(document, 'click').pipe(\r\n        filter(event => !!this.overlayRef && !this.overlayRef.overlayElement.contains(event.target as HTMLElement)),\r\n        /** handle firefox contextmenu event **/\r\n        filter(event => event.button !== 2),\r\n        take(1)\r\n      )\r\n    ).subscribe(() => {\r\n      this.close();\r\n    });\r\n    this.overlayRef.attach(new TemplatePortal(tdsDropdownMenuComponent.templateRef, tdsDropdownMenuComponent.viewContainerRef));\r\n  }\r\n\r\n  close(clear: boolean = false): void {\r\n    if (this.overlayRef) {\r\n      this.overlayRef.detach();\r\n      if (clear) {\r\n        this.overlayRef.dispose();\r\n      }\r\n      this.overlayRef = null;\r\n      this.closeSubscription.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["listOfPositions","i1","i2"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,MAAMA,iBAAe,GAAG,CAAC,YAAY,CAAC,UAAU,EAAE,YAAY,CAAC,WAAW,EAAE,YAAY,CAAC,QAAQ,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;MAM5G,oBAAoB,CAAA;IAsC/B,WACS,CAAA,UAAsB,EACrB,OAAgB,EAChB,QAAmB,EACnB,gBAAkC,EAClC,QAAkB,EAAA;QAJnB,IAAU,CAAA,UAAA,GAAV,UAAU,CAAY;QACrB,IAAO,CAAA,OAAA,GAAP,OAAO,CAAS;QAChB,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAW;QACnB,IAAgB,CAAA,gBAAA,GAAhB,gBAAgB,CAAkB;QAClC,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAU;QAnCpB,IAAU,CAAA,UAAA,GAAsB,IAAI,CAAC;AACrC,QAAA,IAAA,CAAA,QAAQ,GAAG,IAAI,OAAO,EAAQ,CAAC;QAC/B,IAAgB,CAAA,gBAAA,GAAG,IAAI,CAAC,OAAO;AACpC,aAAA,QAAQ,EAAE;AACV,aAAA,mBAAmB,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;AAClD,aAAA,kBAAkB,EAAE;aACpB,qBAAqB,CAAC,eAAe,CAAC,CACtC;AACK,QAAA,IAAA,CAAA,aAAa,GAAG,IAAI,eAAe,CAAU,KAAK,CAAC,CAAC;AACpD,QAAA,IAAA,CAAA,QAAQ,GAAG,IAAI,eAAe,CAAoB,OAAO,CAAC,CAAC;AAC3D,QAAA,IAAA,CAAA,aAAa,GAAG,IAAI,OAAO,EAAW,CAAC;QACtC,IAAe,CAAA,eAAA,GAAoC,IAAI,CAAC;QACxD,IAAO,CAAA,OAAA,GAAsB,OAAO,CAAC;QACrC,IAAiB,CAAA,iBAAA,GAAsB,IAAI,CAAC;QAC5B,IAAQ,CAAA,QAAA,GAAG,KAAK,CAAC;QACjB,IAAS,CAAA,SAAA,GAAG,IAAI,CAAC;QACjB,IAAQ,CAAA,QAAA,GAAG,KAAK,CAAC;QACjB,IAAO,CAAA,OAAA,GAAG,KAAK,CAAC;QAChB,IAAS,CAAA,SAAA,GAAG,IAAI,CAAC;QACjC,IAAgB,CAAA,gBAAA,GAAW,EAAE,CAAC;QAC9B,IAAY,CAAA,YAAA,GAAoB,EAAE,CAAC;QACnC,IAAS,CAAA,SAAA,GAAqB,YAAY,CAAC;AACjC,QAAA,IAAA,CAAA,aAAa,GAA0B,IAAI,YAAY,EAAE,CAAC;AAC1D,QAAA,IAAA,CAAA,uBAAuB,GAAuB,IAAI,YAAY,EAAE,CAAC;;QAelF,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;KACrE;IAfD,oBAAoB,CAA2C,GAAM,EAAE,KAAkC,EAAA;QACvG,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;AAC3C,SAAA;KACF;AAaD,IAAA,QAAQ,MAAY;IAEpB,eAAe,GAAA;QAEb,IAAI,IAAI,CAAC,eAAe,EAAE;AACxB,YAAA,MAAM,aAAa,GAAgB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;;AAEjE,YAAA,MAAM,eAAe,GAAG,KAAK,CAC3B,SAAS,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EACxD,SAAS,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAC1D,CAAC;;AAEF,YAAA,MAAM,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC;;YAEzD,MAAM,iBAAiB,GAAG,KAAK,CAAC,eAAe,EAAE,eAAe,CAAC,CAAC;;YAElE,MAAM,eAAe,GAAG,SAAS,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;;AAEzF,YAAA,MAAM,sBAAsB,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAC/C,SAAS,CAAC,OAAO,IAAG;gBAClB,IAAI,OAAO,KAAK,OAAO,EAAE;AACvB,oBAAA,OAAO,iBAAiB,CAAC;AAC1B,iBAAA;qBAAM,IAAI,OAAO,KAAK,OAAO,EAAE;AAC9B,oBAAA,OAAO,eAAe,CAAC;AACxB,iBAAA;AAAM,qBAAA;AACL,oBAAA,OAAO,KAAK,CAAC;AACd,iBAAA;aACF,CAAC,CACH,CAAC;YACF,MAAM,wBAAwB,GAAG,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,IAAI,CACjF,MAAM,CAAC,MAAM,IAAI,CAAC,SAAS,CAAC,EAC5B,KAAK,CAAC,KAAK,CAAC,CACb,CAAC;YACF,MAAM,kBAAkB,GAAG,KAAK,CAAC,sBAAsB,EAAE,wBAAwB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CACzG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAC7B,CAAC;YACF,MAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,kBAAkB,CAAC,CAAC;YAC/D,aAAa,CAAC,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC;AAChE,iBAAA,IAAI,CACH,GAAG,CAAC,CAAC,CAAC,OAAO,EAAE,GAAG,CAAC,KAAK,OAAO,IAAI,GAAG,CAAC,EACvC,SAAS,CAAC,GAAG,CAAC,EACd,oBAAoB,EAAE,EACtB,MAAM,CAAC,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EACrC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CACzB;AACA,iBAAA,SAAS,CAAC,CAAC,OAAgB,KAAI;AAC9B,gBAAA,MAAM,OAAO,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC,aAAa,GAAG,aAAa,CAAC;gBAC9F,MAAM,YAAY,GAAG,OAAO,CAAC,qBAAqB,EAAE,CAAC,KAAK,CAAC;AAC3D,gBAAA,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,EAAE;AAC5B,oBAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAClC,iBAAA;AACD,gBAAA,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,gBAAA,IAAI,OAAO,EAAE;;AAEX,oBAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;;wBAEpB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;4BACpC,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;AACvC,4BAAA,QAAQ,EAAE,YAAY;AACtB,4BAAA,mBAAmB,EAAE,IAAI;4BACzB,WAAW,EAAE,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,OAAO,KAAK,OAAO;4BACxD,cAAc,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,EAAE;AACpH,yBAAA,CAAC,CAAC;AACH,wBAAA,KAAK,CACH,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,EAC/B,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,EAC7B,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAa,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EACzH,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,KAAK,MAAM,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAC9F;AACE,6BAAA,IAAI,CACH,MAAM,CAAC,MAAM,IAAI,CAAC,SAAS,CAAC,EAC5B,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;6BAC1B,SAAS,CAAC,MAAK;AACd,4BAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACjC,yBAAC,CAAC,CAAC;AACL,wBAAA,KAAK,CACH,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,EAC/B,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAa,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAC1H;AACE,6BAAA,IAAI,CACH,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;6BAC1B,SAAS,CAAC,MAAK;AACd,4BAAA,IAAI,CAAC,uBAAuB,CAAC,IAAI,EAAE,CAAC;AACtC,yBAAC,CAAC,CAAC;AACN,qBAAA;AAAM,yBAAA;;wBAEL,MAAM,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAClD,wBAAA,aAAa,CAAC,QAAQ,GAAG,YAAY,CAAC;AACvC,qBAAA;;AAED,oBAAA,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,GAAGA,iBAAe,CAAC,CAAC,CAAC;;AAExF,oBAAA,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,KAAK,IAAI,CAAC,eAAgB,CAAC,WAAW,EAAE;AACjF,wBAAA,IAAI,CAAC,MAAM,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,eAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;AAC5F,qBAAA;oBACD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACrC,iBAAA;AAAM,qBAAA;;oBAEL,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,wBAAA,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;AAC1B,qBAAA;AACF,iBAAA;AACH,aAAC,CAAC,CAAC;AAEL,YAAA,IAAI,CAAC,eAAgB,CAAC,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,IAAG;AAC3F,gBAAA,IAAI,KAAK,CAAC,OAAO,KAAK,MAAM,EAAE;oBAC5B,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,wBAAA,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;AAC3B,qBAAA;AACD,oBAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACxB,iBAAA;AACH,aAAC,CAAC,CAAC;AACJ,SAAA;KACF;IAED,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;AACrB,QAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACzB,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,YAAA,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;AAC1B,YAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACxB,SAAA;KACF;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;AAChC,QAAA,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,gBAAgB,EAAE,YAAY,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,OAAO,CAAC;AACzF,QAAA,IAAI,OAAO,EAAE;YACX,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAClC,SAAA;AACD,QAAA,IAAI,OAAO,EAAE;YACX,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACvC,SAAA;AACD,QAAA,IAAI,QAAQ,EAAE;AACZ,YAAA,MAAM,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;YACpD,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;AAC1D,gBAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAChC,aAAA;AAAM,iBAAA;gBACL,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;AAC1D,aAAA;AACF,SAAA;AACD,QAAA,IAAI,gBAAgB,EAAE;YACpB,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;AACtE,SAAA;AACD,QAAA,IAAI,YAAY,EAAE;YAChB,IAAI,CAAC,oBAAoB,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;AAC9D,SAAA;AACD,QAAA,IAAI,QAAQ,EAAE;;AAEb,SAAA;KACF;;wFAvMU,oBAAoB,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,OAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,gBAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,QAAA,CAAA,CAAA,CAAA,EAAA,CAAA;uEAApB,oBAAoB,EAAA,SAAA,EAAA,CAAA,CAAA,EAAA,EAAA,cAAA,EAAA,EAAA,CAAA,CAAA,EAAA,MAAA,EAAA,EAAA,eAAA,EAAA,iBAAA,EAAA,OAAA,EAAA,SAAA,EAAA,iBAAA,EAAA,mBAAA,EAAA,QAAA,EAAA,UAAA,EAAA,SAAA,EAAA,WAAA,EAAA,QAAA,EAAA,UAAA,EAAA,OAAA,EAAA,SAAA,EAAA,SAAA,EAAA,WAAA,EAAA,gBAAA,EAAA,kBAAA,EAAA,YAAA,EAAA,cAAA,EAAA,SAAA,EAAA,WAAA,EAAA,EAAA,OAAA,EAAA,EAAA,aAAA,EAAA,eAAA,EAAA,uBAAA,EAAA,yBAAA,EAAA,EAAA,QAAA,EAAA,CAAA,aAAA,CAAA,EAAA,QAAA,EAAA,CAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,CAAA,CAAA;AAsBN,UAAA,CAAA;AAAf,IAAA,YAAY,EAAE;AAAkB,CAAA,EAAA,oBAAA,CAAA,SAAA,EAAA,UAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACjB,UAAA,CAAA;AAAf,IAAA,YAAY,EAAE;AAAkB,CAAA,EAAA,oBAAA,CAAA,SAAA,EAAA,WAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACjB,UAAA,CAAA;AAAf,IAAA,YAAY,EAAE;AAAkB,CAAA,EAAA,oBAAA,CAAA,SAAA,EAAA,UAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACjB,UAAA,CAAA;AAAf,IAAA,YAAY,EAAE;AAAiB,CAAA,EAAA,oBAAA,CAAA,SAAA,EAAA,SAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAChB,UAAA,CAAA;AAAf,IAAA,YAAY,EAAE;AAAkB,CAAA,EAAA,oBAAA,CAAA,SAAA,EAAA,WAAA,EAAA,KAAA,CAAA,CAAA,CAAA;uFA1B/B,oBAAoB,EAAA,CAAA;cAJhC,SAAS;AAAC,QAAA,IAAA,EAAA,CAAA;AACT,gBAAA,QAAQ,EAAE,gBAAgB;AAC1B,gBAAA,QAAQ,EAAE,aAAa;AACxB,aAAA,CAAA;iKAoBU,eAAe,EAAA,CAAA;kBAAvB,KAAK;YACG,OAAO,EAAA,CAAA;kBAAf,KAAK;YACG,iBAAiB,EAAA,CAAA;kBAAzB,KAAK;YACmB,QAAQ,EAAA,CAAA;kBAAhC,KAAK;YACmB,SAAS,EAAA,CAAA;kBAAjC,KAAK;YACmB,QAAQ,EAAA,CAAA;kBAAhC,KAAK;YACmB,OAAO,EAAA,CAAA;kBAA/B,KAAK;YACmB,SAAS,EAAA,CAAA;kBAAjC,KAAK;YACG,gBAAgB,EAAA,CAAA;kBAAxB,KAAK;YACG,YAAY,EAAA,CAAA;kBAApB,KAAK;YACG,SAAS,EAAA,CAAA;kBAAjB,KAAK;YACa,aAAa,EAAA,CAAA;kBAA/B,MAAM;YACY,uBAAuB,EAAA,CAAA;kBAAzC,MAAM;;;MC9DI,2BAA2B,CAAA;;sGAA3B,2BAA2B,GAAA,CAAA,EAAA,CAAA;6EAA3B,2BAA2B,EAAA,CAAA,CAAA;;uFAA3B,2BAA2B,EAAA,CAAA;cADvC,QAAQ;;;MCGI,qBAAqB,CAAA;AAChC,IAAA,WAAA,CAAoB,UAAsB,EAAA;QAAtB,IAAU,CAAA,UAAA,GAAV,UAAU,CAAY;;QAExC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;KAClE;;0FAJU,qBAAqB,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,UAAA,CAAA,CAAA,CAAA,EAAA,CAAA;wEAArB,qBAAqB,EAAA,SAAA,EAAA,CAAA,CAAA,GAAA,EAAA,cAAA,EAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA;uFAArB,qBAAqB,EAAA,CAAA;cAHjC,SAAS;AAAC,QAAA,IAAA,EAAA,CAAA;AACT,gBAAA,QAAQ,EAAE,iBAAiB;AAC5B,aAAA,CAAA;;;MCCY,0BAA0B,CAAA;AACrC,IAAA,WAAA,CACU,QAAmB;;IAEnB,UAAsB,EAAA;QAFtB,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAW;QAEnB,IAAU,CAAA,UAAA,GAAV,UAAU,CAAY;KAC5B;IACJ,eAAe,GAAA;AACb,QAAA,MAAM,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;;;;KAI/E;;oGAXU,0BAA0B,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,UAAA,CAAA,CAAA,CAAA,EAAA,CAAA;6EAA1B,0BAA0B,EAAA,SAAA,EAAA,CAAA,CAAA,EAAA,EAAA,YAAA,EAAA,EAAA,EAAA,cAAA,EAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA;uFAA1B,0BAA0B,EAAA,CAAA;cAHtC,SAAS;AAAC,QAAA,IAAA,EAAA,CAAA;AACT,gBAAA,QAAQ,EAAE,4BAA4B;AACvC,aAAA,CAAA;;;MC0BY,wBAAwB,CAAA;IA0BnC,WACU,CAAA,cAA8B,EAC9B,GAAsB,EAAA;QADtB,IAAc,CAAA,cAAA,GAAd,cAAc,CAAgB;QAC9B,IAAG,CAAA,GAAA,GAAH,GAAG,CAAmB;AAxBxB,QAAA,IAAA,CAAA,QAAQ,GAAG,IAAI,OAAO,EAAQ,CAAC;AACvC,QAAA,IAAA,CAAA,SAAS,GAAG,IAAI,OAAO,EAAW,CAAC;QAEV,IAAQ,CAAA,QAAA,GAAG,KAAK,CAAC;QACjB,IAAQ,CAAA,QAAA,GAAG,KAAK,CAAC;KAuBzC;;AApBD,IAAA,aAAa,CAAC,CAAa,EAAA;QAEzB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;AACrB,SAAA;AAAM,aAAA;AACL,YAAA,IAAI,CAAC,cAAc,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;AACrD,SAAA;KACF;IAcD,QAAQ,GAAA;KAEP;IAED,kBAAkB,GAAA;KAEjB;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,QAAQ,EAAE;AACpB,YAAA,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;AACzB,SAAA;KACF;IAED,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;AACrB,QAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;KAC1B;;gGAlDU,wBAAwB,EAAA,EAAA,CAAA,iBAAA,CAAAC,IAAA,CAAA,cAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,iBAAA,CAAA,CAAA,CAAA,EAAA,CAAA;2EAAxB,wBAAwB,EAAA,SAAA,EAAA,CAAA,CAAA,EAAA,EAAA,mBAAA,EAAA,EAAA,CAAA,CAAA,EAAA,SAAA,EAAA,CAAA,CAAA,EAAA,mBAAA,EAAA,oBAAA,EAAA,2BAAA,EAAA,aAAA,EAAA,MAAA,EAAA,QAAA,EAAA,cAAA,EAAA,+BAAA,EAAA,uBAAA,EAAA,QAAA,CAAA,EAAA,QAAA,EAAA,CAAA,EAAA,YAAA,EAAA,SAAA,qCAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,CAAA,EAAA;2GAAxB,GAAqB,CAAA,aAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;;;;AAOP,UAAA,CAAA;AAAf,IAAA,YAAY,EAAE;AAAkB,CAAA,EAAA,wBAAA,CAAA,SAAA,EAAA,UAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACjB,UAAA,CAAA;AAAf,IAAA,YAAY,EAAE;AAAkB,CAAA,EAAA,wBAAA,CAAA,SAAA,EAAA,UAAA,EAAA,KAAA,CAAA,CAAA,CAAA;uFAR/B,wBAAwB,EAAA,CAAA;cATpC,SAAS;AAAC,QAAA,IAAA,EAAA,CAAA;AACT,gBAAA,QAAQ,EAAE,qBAAqB;AAC/B,gBAAA,QAAQ,EAAE,iBAAiB;AAC3B,gBAAA,IAAI,EAAE;AACJ,oBAAA,KAAK,EAAC,mKAAmK;AACzK,oBAAA,wBAAwB,EAAC,WAAW;AACpC,oBAAA,SAAS,EAAE,uBAAuB;AACnC,iBAAA;AACF,aAAA,CAAA;mGAQ0B,QAAQ,EAAA,CAAA;kBAAhC,KAAK;YACmB,QAAQ,EAAA,CAAA;kBAAhC,KAAK;;;;;ICIF,EASC,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAA,CAAA;IAHC,EAAqB,CAAA,UAAA,CAAA,mBAAA,EAAA,SAAA,yFAAA,CAAA,MAAA,EAAA,EAAA,EAAA,CAAA,aAAA,CAAA,GAAA,CAAA,CAAA,CAAA,MAAA,MAAA,GAAA,EAAA,CAAA,aAAA,EAAA,CAAA,CAAA,OAAA,MAAA,CAAA,gBAAA,CAAA,MAAA,CAAwB,CAAC,EAAA,CAAA,CAAA,YAAA,EAAA,SAAA,yEAAA,GAAA,EAAA,EAAA,CAAA,aAAA,CAAA,GAAA,CAAA,CAAA,CAAA,MAAA,MAAA,GAAA,EAAA,CAAA,aAAA,EAAA,CAAA,CAAA,OAChC,MAAc,CAAA,aAAA,CAAA,IAAI,CAAC,CAAA,EAAA,CADa,CAEhC,YAAA,EAAA,SAAA,yEAAA,GAAA,EAAA,EAAA,CAAA,aAAA,CAAA,GAAA,CAAA,CAAA,CAAA,MAAA,MAAA,GAAA,EAAA,CAAA,aAAA,EAAA,CAAA,CAAA,OAAA,MAAA,CAAA,aAAA,CAAc,KAAK,CAAC,CAFY,EAAA,CAAA,CAAA;AAIhD,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAA0B,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAA,CAAA;IAEtB,EAAyB,CAAA,YAAA,CAAA,CAAA,CAAA,CAAA;AAC3B,IAAA,EAAA,CAAA,YAAA,EAAM,EAAA,EAAA,CAAA;;;IAXN,EAAwC,CAAA,WAAA,CAAA,kBAAA,EAAA,MAAA,CAAA,GAAA,KAAA,KAAA,CAAA,CAAA;AACxC,IAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,MAAA,CAAA,gBAAA,CAA4B,gCAAA,CAAA,cAAA,EAAA,SAAA,CAAA,CAAA;;;MAqBvB,wBAAwB,CAAA;AAyBnC,IAAA,WAAA,CACU,GAAsB,EACtB,UAAsB,EACtB,QAAmB,EACpB,gBAAkC,EAClC,cAA8B,EACjB,cAA8B,EACvB,WAAqC,EAAA;QANxD,IAAG,CAAA,GAAA,GAAH,GAAG,CAAmB;QACtB,IAAU,CAAA,UAAA,GAAV,UAAU,CAAY;QACtB,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAW;QACpB,IAAgB,CAAA,gBAAA,GAAhB,gBAAgB,CAAkB;QAClC,IAAc,CAAA,cAAA,GAAd,cAAc,CAAgB;QACjB,IAAc,CAAA,cAAA,GAAd,cAAc,CAAgB;QACvB,IAAW,CAAA,WAAA,GAAX,WAAW,CAA0B;AA/BlE,QAAA,IAAA,CAAA,WAAW,GAAG,IAAI,eAAe,CAAU,KAAK,CAAC,CAAC;AAClD,QAAA,IAAA,CAAA,mBAAmB,GAAG,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC;AAC9D,QAAA,IAAA,CAAA,wBAAwB,GAAG,IAAI,CAAC,cAAc,CAAC,wBAAwB,CAAC;AACxE,QAAA,IAAA,CAAA,qBAAqB,GAAG,IAAI,YAAY,EAAkB,CAAC;QAC3D,IAAgB,CAAA,gBAAA,GAAW,EAAE,CAAC;QAC9B,IAAY,CAAA,YAAA,GAAoB,EAAE,CAAC;QAGnC,IAAG,CAAA,GAAA,GAAc,KAAK,CAAC;AACf,QAAA,IAAA,CAAA,QAAQ,GAAG,IAAI,OAAO,EAAQ,CAAC;KAuBnC;AArBJ,IAAA,gBAAgB,CAAC,KAAqB,EAAA;AACpC,QAAA,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACxC;AAED,IAAA,aAAa,CAAC,OAAgB,EAAA;AAC5B,QAAA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KAChC;IAED,QAAQ,CAA2C,GAAM,EAAE,KAAc,EAAA;AACvE,QAAA,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AAClB,QAAA,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;KACzB;IAWD,QAAQ,GAAA;QACN,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,SAAoB,KAAI;AAC5F,YAAA,IAAI,CAAC,GAAG,GAAG,SAAS,CAAC;AACrB,YAAA,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;AAC3B,SAAC,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC;KACtC;IAED,kBAAkB,GAAA;QAChB,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;KACnH;IAED,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;AACrB,QAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;KAC1B;;gGAjDU,wBAAwB,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,gBAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAAA,IAAA,CAAA,cAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAAC,IAAA,CAAA,cAAA,EAAA,CAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,uBAAA,EAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA;2EAAxB,wBAAwB,EAAA,SAAA,EAAA,CAAA,CAAA,mBAAA,CAAA,CAAA,EAAA,SAAA,EAAA,SAAA,8BAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,CAAA,EAAA;uBAOxB,WAAW,EAAA,CAAA,CAAA,CAAA;;;;AAzCX,KAAA,EAAA,EAAA,QAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,QAAA,EAAA,CAAA,EAAA,CAAA,kBAAA,CAAA;YACT,cAAc;;;;;;AAMf,SAAA,CAAA,CAAA,EAAA,kBAAA,EAAA,GAAA,EAAA,KAAA,EAAA,CAAA,EAAA,IAAA,EAAA,CAAA,EAAA,MAAA,EAAA,CAAA,CAAA,CAAA,EAAA,cAAA,EAAA,YAAA,EAAA,UAAA,EAAA,CAAA,EAAA,SAAA,EAAA,SAAA,EAAA,YAAA,EAAA,YAAA,CAAA,EAAA,CAAA,CAAA,EAAA,MAAA,EAAA,QAAA,CAAA,EAAA,CAAA,CAAA,EAAA,QAAA,EAAA,UAAA,EAAA,yBAAA,EAAA,aAAA,EAAA,SAAA,EAAA,MAAA,CAAA,CAAA,EAAA,QAAA,EAAA,SAAA,iCAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,CAAA,EAAA;;QAEC,EAkBc,CAAA,UAAA,CAAA,CAAA,EAAA,+CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,aAAA,CAAA,CAAA;AA5BJ,KAAA,EAAA,EAAA,UAAA,EAAA,CAAA,EAAA,CAAA,OAAA,EAAA,EAAA,CAAA,OAAA,CAAA,EAAA,aAAA,EAAA,CAAA,EAAA,IAAA,EAAA,EAAA,SAAA,EAAA,CAAC,WAAW,CAAC,EAAA,EAAA,eAAA,EAAA,CAAA,EAAA,CAAA,CAAA;uFAmCd,wBAAwB,EAAA,CAAA;cAtCpC,SAAS;AAAC,QAAA,IAAA,EAAA,CAAA;AACT,gBAAA,QAAQ,EAAE,CAAmB,iBAAA,CAAA;AAC7B,gBAAA,QAAQ,EAAE,CAAiB,eAAA,CAAA;gBAC3B,UAAU,EAAE,CAAC,WAAW,CAAC;AACzB,gBAAA,SAAS,EAAE;oBACT,cAAc;;;;;;AAMf,iBAAA;AACD,gBAAA,QAAQ,EAAE,CAAA;;;;;;;;;;;;;;;;;;;;AAoBT,EAAA,CAAA;AACD,gBAAA,mBAAmB,EAAE,KAAK;gBAC1B,aAAa,EAAE,iBAAiB,CAAC,IAAI;gBACrC,eAAe,EAAE,uBAAuB,CAAC,MAAM;AAEhD,aAAA,CAAA;;sBAgCI,QAAQ;;sBACR,IAAI;;sBAAI,QAAQ;wBAzBuB,WAAW,EAAA,CAAA;kBAApD,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA,WAAW,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAA;;;MCzB7B,iBAAiB,CAAA;;kFAAjB,iBAAiB,GAAA,CAAA,EAAA,CAAA;mEAAjB,iBAAiB,EAAA,CAAA,CAAA;AA1BjB,iBAAA,CAAA,IAAA,iBAAA,EAAA,CAAA,gBAAA,CAAA,EAAA,OAAA,EAAA,CAAA;YACL,UAAU;YACV,YAAY;YACZ,aAAa;YACb,WAAW;YACX,eAAe;YACf,aAAa;YACb,oBAAoB;YACpB,cAAc;YACd,gBAAgB;YAChB,2BAA2B;YAC3B,eAAe;AAClB,SAAA,EAOS,aAAa,CAAA,EAAA,CAAA,CAAA;uFAOd,iBAAiB,EAAA,CAAA;cA3B7B,QAAQ;AAAC,QAAA,IAAA,EAAA,CAAA;AACN,gBAAA,OAAO,EAAE;oBACL,UAAU;oBACV,YAAY;oBACZ,aAAa;oBACb,WAAW;oBACX,eAAe;oBACf,aAAa;oBACb,oBAAoB;oBACpB,cAAc;oBACd,gBAAgB;oBAChB,2BAA2B;oBAC3B,eAAe;AAClB,iBAAA;gBACD,YAAY,EAAE,CAAC,oBAAoB;oBAC/B,qBAAqB;oBACrB,wBAAwB;oBACxB,0BAA0B;oBAC1B,wBAAwB;AAC3B,iBAAA;gBACD,OAAO,EAAE,CAAC,aAAa;oBACnB,oBAAoB;oBACpB,qBAAqB;oBACrB,wBAAwB;oBACxB,0BAA0B;AAC1B,oBAAA,wBAAwB,CAAC;AAChC,aAAA,CAAA;;AACY,CAAA,YAAA,EAAA,CAAA,OAAA,SAAA,KAAA,WAAA,IAAA,SAAA,KAAA,EAAA,CAAA,kBAAA,CAAA,iBAAiB,mBAbX,oBAAoB;QAC/B,qBAAqB;QACrB,wBAAwB;QACxB,0BAA0B;AAC1B,QAAA,wBAAwB,aAhBxB,UAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW;QACX,eAAe;QACf,aAAa;QACb,oBAAoB;QACpB,cAAc;QACd,gBAAgB;QAChB,2BAA2B;AAC3B,QAAA,eAAe,aAQT,aAAa;QACnB,oBAAoB;QACpB,qBAAqB;QACrB,wBAAwB;QACxB,0BAA0B;QAC1B,wBAAwB,CAAA,EAAA,CAAA,CAAA,EAAA,GAAA;;ACtChC,MAAM,eAAe,GAAG;IACtB,IAAI,sBAAsB,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACxG,IAAI,sBAAsB,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;IAC3G,IAAI,sBAAsB,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;IACzG,IAAI,sBAAsB,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;CACvG,CAAC;MAKW,qBAAqB,CAAA;AAIhC,IAAA,WAAA,CAAoB,OAAgB,EAAA;QAAhB,IAAO,CAAA,OAAA,GAAP,OAAO,CAAS;QAH5B,IAAU,CAAA,UAAA,GAAsB,IAAI,CAAC;AACrC,QAAA,IAAA,CAAA,iBAAiB,GAAG,YAAY,CAAC,KAAK,CAAC;KAEP;IAExC,MAAM,CAAC,MAA6C,EAAE,wBAAkD,EAAA;AACtG,QAAA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AACjB,QAAA,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,MAAM,CAAC;QACxB,IAAI,MAAM,YAAY,UAAU,EAAE;YAChC,MAAM,CAAC,cAAc,EAAE,CAAC;AACzB,SAAA;AACD,QAAA,MAAM,gBAAgB,GAAG,IAAI,CAAC,OAAO;AAClC,aAAA,QAAQ,EAAE;AACV,aAAA,mBAAmB,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;aAC7B,aAAa,CAAC,eAAe,CAAC;aAC9B,qBAAqB,CAAC,eAAe,CAAC,CAAC;QAC1C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;YACpC,gBAAgB;AAChB,YAAA,mBAAmB,EAAE,IAAI;YACzB,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,EAAE;AACtD,SAAA,CAAC,CAAC;AACH,QAAA,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAC5B,wBAAwB,CAAC,wBAAwB,EACjD,SAAS,CAAa,QAAQ,EAAE,OAAO,CAAC,CAAC,IAAI,CAC3C,MAAM,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAqB,CAAC,CAAC;;QAE3G,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC,EACnC,IAAI,CAAC,CAAC,CAAC,CACR,CACF,CAAC,SAAS,CAAC,MAAK;YACf,IAAI,CAAC,KAAK,EAAE,CAAC;AACf,SAAC,CAAC,CAAC;AACH,QAAA,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,cAAc,CAAC,wBAAwB,CAAC,WAAW,EAAE,wBAAwB,CAAC,gBAAgB,CAAC,CAAC,CAAC;KAC7H;IAED,KAAK,CAAC,QAAiB,KAAK,EAAA;QAC1B,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,YAAA,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;AACzB,YAAA,IAAI,KAAK,EAAE;AACT,gBAAA,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;AAC3B,aAAA;AACD,YAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACvB,YAAA,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,CAAC;AACtC,SAAA;KACF;;0FA7CU,qBAAqB,EAAA,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,CAAA;2EAArB,qBAAqB,EAAA,OAAA,EAArB,qBAAqB,CAAA,IAAA,EAAA,UAAA,EAFpB,2BAA2B,EAAA,CAAA,CAAA;uFAE5B,qBAAqB,EAAA,CAAA;cAHjC,UAAU;AAAC,QAAA,IAAA,EAAA,CAAA;AACV,gBAAA,UAAU,EAAE,2BAA2B;AACxC,aAAA,CAAA;;;ACnBD;;AAEG;;;;"}