import { __decorate } from "tslib";
import { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';
import { ChangeDetectionStrategy, Component, ContentChild, EventEmitter, forwardRef, Host, Input, Optional, Output, SkipSelf, ViewChild } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { Subject } from 'rxjs';
import { takeUntil } from 'rxjs/operators';
import { treeCollapseMotion } from 'tds-ui/core/animation';
import { WithConfig } from 'tds-ui/core/config';
import { TDSTreeBase, TDSTreeBaseService, TDSTreeHigherOrderServiceToken } from 'tds-ui/core/tree';
import { flattenTreeData } from 'tds-ui/core/tree';
import { InputBoolean } from 'tds-ui/shared/utility';
import { TDSTreeService } from './tree.service';
import * as i0 from "@angular/core";
import * as i1 from "tds-ui/core/tree";
import * as i2 from "tds-ui/core/config";
import * as i3 from "@angular/cdk/bidi";
import * as i4 from "tds-ui/core/no-animation";
import * as i5 from "@angular/common";
import * as i6 from "@angular/cdk/scrolling";
import * as i7 from "./tree-node.component";
const _c0 = ["treeTemplate"];
function TDSTreeComponent_cdk_virtual_scroll_viewport_4_ng_container_1_ng_template_1_Template(rf, ctx) { }
const _c1 = function (a0) { return { $implicit: a0 }; };
function TDSTreeComponent_cdk_virtual_scroll_viewport_4_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, TDSTreeComponent_cdk_virtual_scroll_viewport_4_ng_container_1_ng_template_1_Template, 0, 0, "ng-template", 8);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const node_r5 = ctx.$implicit;
    i0.ɵɵnextContext(2);
    const _r2 = i0.ɵɵreference(7);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", _r2)("ngTemplateOutletContext", i0.ɵɵpureFunction1(2, _c1, node_r5));
} }
function TDSTreeComponent_cdk_virtual_scroll_viewport_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "cdk-virtual-scroll-viewport", 6);
    i0.ɵɵtemplate(1, TDSTreeComponent_cdk_virtual_scroll_viewport_4_ng_container_1_Template, 2, 4, "ng-container", 7);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵstyleProp("height", ctx_r0.virtualHeight);
    i0.ɵɵclassProp("tds-select-tree-list-holder-inner", ctx_r0.selectMode)("tds-tree-list-holder-inner", !ctx_r0.selectMode);
    i0.ɵɵproperty("itemSize", ctx_r0.virtualItemSize)("minBufferPx", ctx_r0.virtualMinBufferPx)("maxBufferPx", ctx_r0.virtualMaxBufferPx);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("cdkVirtualForOf", ctx_r0.flattenNodes)("cdkVirtualForTrackBy", ctx_r0.trackByFlattenNode);
} }
function TDSTreeComponent_div_5_ng_container_1_ng_template_1_Template(rf, ctx) { }
function TDSTreeComponent_div_5_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, TDSTreeComponent_div_5_ng_container_1_ng_template_1_Template, 0, 0, "ng-template", 8);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const node_r8 = ctx.$implicit;
    i0.ɵɵnextContext(2);
    const _r2 = i0.ɵɵreference(7);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", _r2)("ngTemplateOutletContext", i0.ɵɵpureFunction1(2, _c1, node_r8));
} }
function TDSTreeComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 9);
    i0.ɵɵtemplate(1, TDSTreeComponent_div_5_ng_container_1_Template, 2, 4, "ng-container", 10);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r1 = i0.ɵɵnextContext();
    i0.ɵɵclassProp("tds-select-tree-list-holder-inner", ctx_r1.selectMode)("tds-tree-list-holder-inner", !ctx_r1.selectMode);
    i0.ɵɵproperty("@.disabled", ctx_r1.beforeInit || (ctx_r1.noAnimation == null ? null : ctx_r1.noAnimation.noAnimation))("noAnimation", ctx_r1.noAnimation == null ? null : ctx_r1.noAnimation.noAnimation)("@treeCollapseMotion", ctx_r1.flattenNodes.length);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngForOf", ctx_r1.flattenNodes)("ngForTrackBy", ctx_r1.trackByFlattenNode);
} }
function TDSTreeComponent_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    const _r12 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "tds-tree-node", 11);
    i0.ɵɵlistener("onExpandChange", function TDSTreeComponent_ng_template_6_Template_tds_tree_node_onExpandChange_0_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r11 = i0.ɵɵnextContext(); return ctx_r11.eventTriggerChanged($event); })("onClick", function TDSTreeComponent_ng_template_6_Template_tds_tree_node_onClick_0_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r13 = i0.ɵɵnextContext(); return ctx_r13.eventTriggerChanged($event); })("onDblClick", function TDSTreeComponent_ng_template_6_Template_tds_tree_node_onDblClick_0_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r14 = i0.ɵɵnextContext(); return ctx_r14.eventTriggerChanged($event); })("onContextMenu", function TDSTreeComponent_ng_template_6_Template_tds_tree_node_onContextMenu_0_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r15 = i0.ɵɵnextContext(); return ctx_r15.eventTriggerChanged($event); })("onCheckBoxChange", function TDSTreeComponent_ng_template_6_Template_tds_tree_node_onCheckBoxChange_0_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r16 = i0.ɵɵnextContext(); return ctx_r16.eventTriggerChanged($event); })("onDragStart", function TDSTreeComponent_ng_template_6_Template_tds_tree_node_onDragStart_0_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r17 = i0.ɵɵnextContext(); return ctx_r17.eventTriggerChanged($event); })("onDragEnter", function TDSTreeComponent_ng_template_6_Template_tds_tree_node_onDragEnter_0_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r18 = i0.ɵɵnextContext(); return ctx_r18.eventTriggerChanged($event); })("onDragOver", function TDSTreeComponent_ng_template_6_Template_tds_tree_node_onDragOver_0_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r19 = i0.ɵɵnextContext(); return ctx_r19.eventTriggerChanged($event); })("onDragLeave", function TDSTreeComponent_ng_template_6_Template_tds_tree_node_onDragLeave_0_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r20 = i0.ɵɵnextContext(); return ctx_r20.eventTriggerChanged($event); })("onDragEnd", function TDSTreeComponent_ng_template_6_Template_tds_tree_node_onDragEnd_0_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r21 = i0.ɵɵnextContext(); return ctx_r21.eventTriggerChanged($event); })("onDrop", function TDSTreeComponent_ng_template_6_Template_tds_tree_node_onDrop_0_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r22 = i0.ɵɵnextContext(); return ctx_r22.eventTriggerChanged($event); });
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const treeNode_r10 = ctx.$implicit;
    const ctx_r3 = i0.ɵɵnextContext();
    i0.ɵɵproperty("icon", treeNode_r10.icon)("title", treeNode_r10.title)("isLoading", treeNode_r10.isLoading)("isSelected", treeNode_r10.isSelected)("isDisabled", treeNode_r10.isDisabled)("isMatched", treeNode_r10.isMatched)("isExpanded", treeNode_r10.isExpanded)("isLeaf", treeNode_r10.isLeaf)("isStart", treeNode_r10.isStart)("isEnd", treeNode_r10.isEnd)("isChecked", treeNode_r10.isChecked)("isHalfChecked", treeNode_r10.isHalfChecked)("isDisableCheckbox", treeNode_r10.isDisableCheckbox)("isSelectable", treeNode_r10.isSelectable)("canHide", treeNode_r10.canHide)("treeNode", treeNode_r10)("selectMode", ctx_r3.selectMode)("showLine", ctx_r3.showLine)("expandedIcon", ctx_r3.expandedIcon)("draggable", ctx_r3.draggable)("checkable", ctx_r3.checkable)("showExpand", ctx_r3.showExpand)("asyncData", ctx_r3.asyncData)("searchValue", ctx_r3.searchValue)("hideUnMatched", ctx_r3.hideUnMatched)("beforeDrop", ctx_r3.beforeDrop)("showIcon", ctx_r3.showIcon)("treeTemplate", ctx_r3.treeTemplate || ctx_r3.tdsTreeTemplateChild);
} }
export function TDSTreeServiceFactory(higherOrderService, treeService) {
    return higherOrderService ? higherOrderService : treeService;
}
const TDS_CONFIG_MODULE_NAME = 'tree';
export class TDSTreeComponent extends TDSTreeBase {
    // Handle emit event end
    constructor(tdsTreeService, tdsConfigService, cdr, directionality, noAnimation) {
        super(tdsTreeService);
        this.tdsConfigService = tdsConfigService;
        this.cdr = cdr;
        this.directionality = directionality;
        this.noAnimation = noAnimation;
        this._tdsModuleName = TDS_CONFIG_MODULE_NAME;
        this.showIcon = false;
        this.hideUnMatched = false;
        this.blockNode = false;
        this.expandAll = false;
        this.selectMode = false;
        this.checkStrictly = false;
        this.showExpand = true;
        this.showLine = false;
        this.checkable = false;
        this.asyncData = false;
        this.draggable = false;
        this.multiple = false;
        this.virtualItemSize = 28;
        this.virtualMaxBufferPx = 500;
        this.virtualMinBufferPx = 28;
        this.virtualHeight = null;
        this.data = [];
        this.expandedKeys = [];
        this.selectedKeys = [];
        this.checkedKeys = [];
        this.searchValue = '';
        this.flattenNodes = [];
        this.beforeInit = true;
        this.dir = 'ltr';
        this.onExpandedKeysChange = new EventEmitter();
        this.onSelectedKeysChange = new EventEmitter();
        this.onCheckedKeysChange = new EventEmitter();
        this.onSearchValueChange = new EventEmitter();
        this.onClick = new EventEmitter();
        this.onDblClick = new EventEmitter();
        this.onContextMenu = new EventEmitter();
        this.onCheckBoxChange = new EventEmitter();
        this.onExpandChange = new EventEmitter();
        this.onDragStart = new EventEmitter();
        this.onDragEnter = new EventEmitter();
        this.onDragOver = new EventEmitter();
        this.onDragLeave = new EventEmitter();
        this.onDrop = new EventEmitter();
        this.onDragEnd = new EventEmitter();
        this.HIDDEN_STYLE = {
            width: 0,
            height: 0,
            display: 'flex',
            overflow: 'hidden',
            opacity: 0,
            border: 0,
            padding: 0,
            margin: 0
        };
        this.destroy$ = new Subject();
        this.onChange = () => null;
        this.onTouched = () => null;
    }
    writeValue(value) {
        this.handleNzData(value);
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
    /**
     * Render all properties of nzTree
     *
     * @param changes: all changes from @Input
     */
    renderTreeProperties(changes) {
        let useDefaultExpandedKeys = false;
        let _expandAll = false;
        const { data, expandedKeys, selectedKeys, checkedKeys, checkStrictly, expandAll, multiple, searchValue } = changes;
        if (expandAll) {
            useDefaultExpandedKeys = true;
            _expandAll = this.expandAll;
        }
        if (multiple) {
            this.tdsTreeService.isMultiple = this.multiple;
        }
        if (checkStrictly) {
            this.tdsTreeService.isCheckStrictly = this.checkStrictly;
        }
        if (data) {
            this.handleNzData(this.data);
        }
        if (checkedKeys) {
            this.handleCheckedKeys(this.checkedKeys);
        }
        if (checkStrictly) {
            this.handleCheckedKeys(null);
        }
        if (expandedKeys || expandAll) {
            useDefaultExpandedKeys = true;
            this.handleExpandedKeys(_expandAll || this.expandedKeys);
        }
        if (selectedKeys) {
            this.handleSelectedKeys(this.selectedKeys, this.multiple);
        }
        if (searchValue) {
            if (!(searchValue.firstChange && !this.searchValue)) {
                useDefaultExpandedKeys = false;
                this.handleSearchValue(searchValue.currentValue, this.searchFunc);
                this.onSearchValueChange.emit(this.tdsTreeService.formatEvent('search', null, null));
            }
        }
        // flatten data
        const currentExpandedKeys = this.getExpandedNodeList().map(v => v.key);
        const newExpandedKeys = useDefaultExpandedKeys ? _expandAll || this.expandedKeys : currentExpandedKeys;
        this.handleFlattenNodes(this.tdsTreeService.rootNodes, newExpandedKeys);
    }
    trackByFlattenNode(_, node) {
        return node.key;
    }
    // Deal with properties
    /**
     * data
     *
     * @param value
     */
    handleNzData(value) {
        if (Array.isArray(value)) {
            const data = this.coerceTreeNodes(value);
            this.tdsTreeService.initTree(data);
        }
    }
    handleFlattenNodes(data, expandKeys = []) {
        this.tdsTreeService.flattenTreeData(data, expandKeys);
    }
    handleCheckedKeys(keys) {
        this.tdsTreeService.conductCheck(keys, this.checkStrictly);
    }
    handleExpandedKeys(keys = []) {
        this.tdsTreeService.conductExpandedKeys(keys);
    }
    handleSelectedKeys(keys, isMulti) {
        this.tdsTreeService.conductSelectedKeys(keys, isMulti);
    }
    handleSearchValue(value, searchFunc) {
        const dataList = flattenTreeData(this.tdsTreeService.rootNodes, true).map(v => v.data);
        const checkIfMatched = (node) => {
            if (searchFunc) {
                return searchFunc(node.origin);
            }
            return !value || !node.title.toLowerCase().includes(value.toLowerCase()) ? false : true;
        };
        dataList.forEach(v => {
            v.isMatched = checkIfMatched(v);
            v.canHide = !v.isMatched;
            if (!v.isMatched) {
                v.setExpanded(false);
                this.tdsTreeService.setExpandedNodeList(v);
            }
            else {
                // expand
                this.tdsTreeService.expandNodeAllParentBySearch(v);
            }
            this.tdsTreeService.setMatchedNodeList(v);
        });
    }
    /**
     * Handle emit event
     *
     * @param event
     * handle each event
     */
    eventTriggerChanged(event) {
        const node = event.node;
        switch (event.eventName) {
            case 'expand':
                this.renderTree();
                this.onExpandChange.emit(event);
                break;
            case 'click':
                this.onClick.emit(event);
                break;
            case 'dblclick':
                this.onDblClick.emit(event);
                break;
            case 'contextmenu':
                this.onContextMenu.emit(event);
                break;
            case 'check':
                // Render checked state with nodes' property `isChecked`
                this.tdsTreeService.setCheckedNodeList(node);
                if (!this.checkStrictly) {
                    this.tdsTreeService.conduct(node);
                }
                // Cause check method will rerender list, so we need recover it and next the new event to user
                const eventNext = this.tdsTreeService.formatEvent('check', node, event.event);
                this.onCheckBoxChange.emit(eventNext);
                break;
            case 'dragstart':
                // if node is expanded
                if (node.isExpanded) {
                    node.setExpanded(!node.isExpanded);
                    this.renderTree();
                }
                this.onDragStart.emit(event);
                break;
            case 'dragenter':
                const selectedNode = this.tdsTreeService.getSelectedNode();
                if (selectedNode && selectedNode.key !== node.key && !node.isExpanded && !node.isLeaf) {
                    node.setExpanded(true);
                    this.renderTree();
                }
                this.onDragEnter.emit(event);
                break;
            case 'dragover':
                this.onDragOver.emit(event);
                break;
            case 'dragleave':
                this.onDragLeave.emit(event);
                break;
            case 'dragend':
                this.onDragEnd.emit(event);
                break;
            case 'drop':
                this.renderTree();
                this.onDrop.emit(event);
                break;
        }
    }
    /**
     * Click expand icon
     */
    renderTree() {
        this.handleFlattenNodes(this.tdsTreeService.rootNodes, this.getExpandedNodeList().map(v => v.key));
        this.cdr.markForCheck();
    }
    ngOnInit() {
        this.tdsTreeService.flattenNodes$.pipe(takeUntil(this.destroy$)).subscribe(data => {
            this.flattenNodes = data;
            this.cdr.markForCheck();
        });
        this.dir = this.directionality.value;
        this.directionality.change?.pipe(takeUntil(this.destroy$)).subscribe((direction) => {
            this.dir = direction;
            this.cdr.detectChanges();
        });
    }
    ngOnChanges(changes) {
        this.renderTreeProperties(changes);
    }
    ngAfterViewInit() {
        this.beforeInit = false;
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
}
TDSTreeComponent.ɵfac = function TDSTreeComponent_Factory(t) { return new (t || TDSTreeComponent)(i0.ɵɵdirectiveInject(i1.TDSTreeBaseService), i0.ɵɵdirectiveInject(i2.TDSConfigService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i3.Directionality, 8), i0.ɵɵdirectiveInject(i4.TDSNoAnimationDirective, 9)); };
TDSTreeComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TDSTreeComponent, selectors: [["tds-tree"]], contentQueries: function TDSTreeComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        i0.ɵɵcontentQuery(dirIndex, _c0, 7);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tdsTreeTemplateChild = _t.first);
    } }, viewQuery: function TDSTreeComponent_Query(rf, ctx) { if (rf & 1) {
        i0.ɵɵviewQuery(CdkVirtualScrollViewport, 5, CdkVirtualScrollViewport);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.cdkVirtualScrollViewport = _t.first);
    } }, hostAttrs: [1, "box-border", "m-0", "p-0", "border-0"], hostVars: 20, hostBindings: function TDSTreeComponent_HostBindings(rf, ctx) { if (rf & 2) {
        i0.ɵɵclassProp("tds-select-tree", ctx.selectMode)("tds-select-tree-show-line", ctx.selectMode && ctx.showLine)("tds-select-tree-icon-hide", ctx.selectMode && !ctx.showIcon)("tds-select-tree-block-node", ctx.selectMode && ctx.blockNode)("tds-tree", !ctx.selectMode)("tds-tree-rtl", ctx.dir === "rtl")("tds-tree-show-line", !ctx.selectMode && ctx.showLine)("tds-tree-icon-hide", !ctx.selectMode && !ctx.showIcon)("tds-tree-block-node", !ctx.selectMode && ctx.blockNode)("draggable-tree", ctx.draggable);
    } }, inputs: { showIcon: "showIcon", hideUnMatched: "hideUnMatched", blockNode: "blockNode", expandAll: "expandAll", selectMode: "selectMode", checkStrictly: "checkStrictly", showExpand: "showExpand", showLine: "showLine", checkable: "checkable", asyncData: "asyncData", draggable: "draggable", multiple: "multiple", expandedIcon: "expandedIcon", virtualItemSize: "virtualItemSize", virtualMaxBufferPx: "virtualMaxBufferPx", virtualMinBufferPx: "virtualMinBufferPx", virtualHeight: "virtualHeight", treeTemplate: "treeTemplate", beforeDrop: "beforeDrop", data: "data", expandedKeys: "expandedKeys", selectedKeys: "selectedKeys", checkedKeys: "checkedKeys", searchValue: "searchValue", searchFunc: "searchFunc" }, outputs: { onExpandedKeysChange: "onExpandedKeysChange", onSelectedKeysChange: "onSelectedKeysChange", onCheckedKeysChange: "onCheckedKeysChange", onSearchValueChange: "onSearchValueChange", onClick: "onClick", onDblClick: "onDblClick", onContextMenu: "onContextMenu", onCheckBoxChange: "onCheckBoxChange", onExpandChange: "onExpandChange", onDragStart: "onDragStart", onDragEnter: "onDragEnter", onDragOver: "onDragOver", onDragLeave: "onDragLeave", onDrop: "onDrop", onDragEnd: "onDragEnd" }, exportAs: ["tdsTree"], features: [i0.ɵɵProvidersFeature([
            TDSTreeService,
            {
                provide: TDSTreeBaseService,
                useFactory: TDSTreeServiceFactory,
                deps: [[new SkipSelf(), new Optional(), TDSTreeHigherOrderServiceToken], TDSTreeService]
            },
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => TDSTreeComponent),
                multi: true
            }
        ]), i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature], decls: 8, vars: 5, consts: [["role", "tree"], [3, "ngStyle"], [1, "tds-tree-list"], [3, "tds-select-tree-list-holder-inner", "tds-tree-list-holder-inner", "itemSize", "minBufferPx", "maxBufferPx", "height", 4, "ngIf"], [3, "tds-select-tree-list-holder-inner", "tds-tree-list-holder-inner", "noAnimation", 4, "ngIf"], ["nodeTemplate", ""], [3, "itemSize", "minBufferPx", "maxBufferPx"], [4, "cdkVirtualFor", "cdkVirtualForOf", "cdkVirtualForTrackBy"], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], [3, "noAnimation"], [4, "ngFor", "ngForOf", "ngForTrackBy"], ["builtin", "", 3, "icon", "title", "isLoading", "isSelected", "isDisabled", "isMatched", "isExpanded", "isLeaf", "isStart", "isEnd", "isChecked", "isHalfChecked", "isDisableCheckbox", "isSelectable", "canHide", "treeNode", "selectMode", "showLine", "expandedIcon", "draggable", "checkable", "showExpand", "asyncData", "searchValue", "hideUnMatched", "beforeDrop", "showIcon", "treeTemplate", "onExpandChange", "onClick", "onDblClick", "onContextMenu", "onCheckBoxChange", "onDragStart", "onDragEnter", "onDragOver", "onDragLeave", "onDragEnd", "onDrop"]], template: function TDSTreeComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵelementStart(0, "div", 0);
        i0.ɵɵelement(1, "input", 1);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(2, "div", 2)(3, "div");
        i0.ɵɵtemplate(4, TDSTreeComponent_cdk_virtual_scroll_viewport_4_Template, 2, 11, "cdk-virtual-scroll-viewport", 3);
        i0.ɵɵtemplate(5, TDSTreeComponent_div_5_Template, 2, 9, "div", 4);
        i0.ɵɵelementEnd()();
        i0.ɵɵtemplate(6, TDSTreeComponent_ng_template_6_Template, 1, 28, "ng-template", null, 5, i0.ɵɵtemplateRefExtractor);
    } if (rf & 2) {
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngStyle", ctx.HIDDEN_STYLE);
        i0.ɵɵadvance(1);
        i0.ɵɵclassProp("tds-select-tree-list", ctx.selectMode);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.virtualHeight);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", !ctx.virtualHeight);
    } }, directives: [i5.NgStyle, i5.NgIf, i6.CdkVirtualScrollViewport, i6.CdkFixedSizeVirtualScroll, i6.CdkVirtualForOf, i5.NgTemplateOutlet, i4.TDSNoAnimationDirective, i5.NgForOf, i7.TDSTreeNodeBuiltinComponent], encapsulation: 2, data: { animation: [treeCollapseMotion] }, changeDetection: 0 });
__decorate([
    InputBoolean(),
    WithConfig()
], TDSTreeComponent.prototype, "showIcon", void 0);
__decorate([
    InputBoolean(),
    WithConfig()
], TDSTreeComponent.prototype, "hideUnMatched", void 0);
__decorate([
    InputBoolean(),
    WithConfig()
], TDSTreeComponent.prototype, "blockNode", void 0);
__decorate([
    InputBoolean()
], TDSTreeComponent.prototype, "expandAll", void 0);
__decorate([
    InputBoolean()
], TDSTreeComponent.prototype, "selectMode", void 0);
__decorate([
    InputBoolean()
], TDSTreeComponent.prototype, "checkStrictly", void 0);
__decorate([
    InputBoolean()
], TDSTreeComponent.prototype, "showExpand", void 0);
__decorate([
    InputBoolean()
], TDSTreeComponent.prototype, "showLine", void 0);
__decorate([
    InputBoolean()
], TDSTreeComponent.prototype, "checkable", void 0);
__decorate([
    InputBoolean()
], TDSTreeComponent.prototype, "asyncData", void 0);
__decorate([
    InputBoolean()
], TDSTreeComponent.prototype, "draggable", void 0);
__decorate([
    InputBoolean()
], TDSTreeComponent.prototype, "multiple", void 0);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(TDSTreeComponent, [{
        type: Component,
        args: [{ selector: 'tds-tree', exportAs: 'tdsTree', animations: [treeCollapseMotion], changeDetection: ChangeDetectionStrategy.OnPush, providers: [
                    TDSTreeService,
                    {
                        provide: TDSTreeBaseService,
                        useFactory: TDSTreeServiceFactory,
                        deps: [[new SkipSelf(), new Optional(), TDSTreeHigherOrderServiceToken], TDSTreeService]
                    },
                    {
                        provide: NG_VALUE_ACCESSOR,
                        useExisting: forwardRef(() => TDSTreeComponent),
                        multi: true
                    }
                ], host: {
                    '[class.tds-select-tree]': `selectMode`,
                    '[class.tds-select-tree-show-line]': `selectMode && showLine`,
                    '[class.tds-select-tree-icon-hide]': `selectMode && !showIcon`,
                    '[class.tds-select-tree-block-node]': `selectMode && blockNode`,
                    '[class.tds-tree]': `!selectMode`,
                    '[class.tds-tree-rtl]': `dir === 'rtl'`,
                    '[class.tds-tree-show-line]': `!selectMode && showLine`,
                    '[class.tds-tree-icon-hide]': `!selectMode && !showIcon`,
                    '[class.tds-tree-block-node]': `!selectMode && blockNode`,
                    '[class.draggable-tree]': `draggable`,
                    'class': "box-border m-0 p-0 border-0"
                }, template: "<div role=\"tree\">\r\n    <input [ngStyle]=\"HIDDEN_STYLE\" />\r\n  </div>\r\n  <div class=\"tds-tree-list\" [class.tds-select-tree-list]=\"selectMode\">\r\n    <div>     \r\n      <cdk-virtual-scroll-viewport\r\n        *ngIf=\"virtualHeight\"\r\n        [class.tds-select-tree-list-holder-inner]=\"selectMode\"\r\n        [class.tds-tree-list-holder-inner]=\"!selectMode\"\r\n        [itemSize]=\"virtualItemSize\"\r\n        [minBufferPx]=\"virtualMinBufferPx\"\r\n        [maxBufferPx]=\"virtualMaxBufferPx\"\r\n        [style.height]=\"virtualHeight\"\r\n      >\r\n        <ng-container *cdkVirtualFor=\"let node of flattenNodes; trackBy: trackByFlattenNode\">\r\n          <ng-template\r\n            [ngTemplateOutlet]=\"nodeTemplate\"\r\n            [ngTemplateOutletContext]=\"{ $implicit: node }\"\r\n          ></ng-template>\r\n        </ng-container>\r\n      </cdk-virtual-scroll-viewport>\r\n\r\n      <div\r\n        *ngIf=\"!virtualHeight\"\r\n        [class.tds-select-tree-list-holder-inner]=\"selectMode\"\r\n        [class.tds-tree-list-holder-inner]=\"!selectMode\"\r\n        [@.disabled]=\"beforeInit || noAnimation?.noAnimation\"\r\n        [noAnimation]=\"noAnimation?.noAnimation\"\r\n        [@treeCollapseMotion]=\"flattenNodes.length\"\r\n      >\r\n        <ng-container *ngFor=\"let node of flattenNodes; trackBy: trackByFlattenNode\">\r\n          <ng-template\r\n            [ngTemplateOutlet]=\"nodeTemplate\"\r\n            [ngTemplateOutletContext]=\"{ $implicit: node }\"\r\n          ></ng-template>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <ng-template #nodeTemplate let-treeNode>    \r\n    <tds-tree-node\r\n      builtin\r\n      [icon]=\"treeNode.icon\"\r\n      [title]=\"treeNode.title\"\r\n      [isLoading]=\"treeNode.isLoading\"\r\n      [isSelected]=\"treeNode.isSelected\"\r\n      [isDisabled]=\"treeNode.isDisabled\"\r\n      [isMatched]=\"treeNode.isMatched\"\r\n      [isExpanded]=\"treeNode.isExpanded\"\r\n      [isLeaf]=\"treeNode.isLeaf\"\r\n      [isStart]=\"treeNode.isStart\"\r\n      [isEnd]=\"treeNode.isEnd\"\r\n      [isChecked]=\"treeNode.isChecked\"\r\n      [isHalfChecked]=\"treeNode.isHalfChecked\"\r\n      [isDisableCheckbox]=\"treeNode.isDisableCheckbox\"\r\n      [isSelectable]=\"treeNode.isSelectable\"\r\n      [canHide]=\"treeNode.canHide\"\r\n      [treeNode]=\"treeNode\"\r\n      [selectMode]=\"selectMode\"\r\n      [showLine]=\"showLine\"\r\n      [expandedIcon]=\"expandedIcon\"\r\n      [draggable]=\"draggable\"\r\n      [checkable]=\"checkable\"\r\n      [showExpand]=\"showExpand\"\r\n      [asyncData]=\"asyncData\"\r\n      [searchValue]=\"searchValue\"\r\n      [hideUnMatched]=\"hideUnMatched\"\r\n      [beforeDrop]=\"beforeDrop\"\r\n      [showIcon]=\"showIcon\"\r\n      [treeTemplate]=\"treeTemplate || tdsTreeTemplateChild\"\r\n      (onExpandChange)=\"eventTriggerChanged($event)\"\r\n      (onClick)=\"eventTriggerChanged($event)\"\r\n      (onDblClick)=\"eventTriggerChanged($event)\"\r\n      (onContextMenu)=\"eventTriggerChanged($event)\"\r\n      (onCheckBoxChange)=\"eventTriggerChanged($event)\"\r\n      (onDragStart)=\"eventTriggerChanged($event)\"\r\n      (onDragEnter)=\"eventTriggerChanged($event)\"\r\n      (onDragOver)=\"eventTriggerChanged($event)\"\r\n      (onDragLeave)=\"eventTriggerChanged($event)\"\r\n      (onDragEnd)=\"eventTriggerChanged($any($event))\"\r\n      (onDrop)=\"eventTriggerChanged($event)\"\r\n    ></tds-tree-node>\r\n  </ng-template>" }]
    }], function () { return [{ type: i1.TDSTreeBaseService }, { type: i2.TDSConfigService }, { type: i0.ChangeDetectorRef }, { type: i3.Directionality, decorators: [{
                type: Optional
            }] }, { type: i4.TDSNoAnimationDirective, decorators: [{
                type: Host
            }, {
                type: Optional
            }] }]; }, { showIcon: [{
            type: Input
        }], hideUnMatched: [{
            type: Input
        }], blockNode: [{
            type: Input
        }], expandAll: [{
            type: Input
        }], selectMode: [{
            type: Input
        }], checkStrictly: [{
            type: Input
        }], showExpand: [{
            type: Input
        }], showLine: [{
            type: Input
        }], checkable: [{
            type: Input
        }], asyncData: [{
            type: Input
        }], draggable: [{
            type: Input
        }], multiple: [{
            type: Input
        }], expandedIcon: [{
            type: Input
        }], virtualItemSize: [{
            type: Input
        }], virtualMaxBufferPx: [{
            type: Input
        }], virtualMinBufferPx: [{
            type: Input
        }], virtualHeight: [{
            type: Input
        }], treeTemplate: [{
            type: Input
        }], beforeDrop: [{
            type: Input
        }], data: [{
            type: Input
        }], expandedKeys: [{
            type: Input
        }], selectedKeys: [{
            type: Input
        }], checkedKeys: [{
            type: Input
        }], searchValue: [{
            type: Input
        }], searchFunc: [{
            type: Input
        }], tdsTreeTemplateChild: [{
            type: ContentChild,
            args: ['treeTemplate', { static: true }]
        }], cdkVirtualScrollViewport: [{
            type: ViewChild,
            args: [CdkVirtualScrollViewport, { read: CdkVirtualScrollViewport }]
        }], onExpandedKeysChange: [{
            type: Output
        }], onSelectedKeysChange: [{
            type: Output
        }], onCheckedKeysChange: [{
            type: Output
        }], onSearchValueChange: [{
            type: Output
        }], onClick: [{
            type: Output
        }], onDblClick: [{
            type: Output
        }], onContextMenu: [{
            type: Output
        }], onCheckBoxChange: [{
            type: Output
        }], onExpandChange: [{
            type: Output
        }], onDragStart: [{
            type: Output
        }], onDragEnter: [{
            type: Output
        }], onDragOver: [{
            type: Output
        }], onDragLeave: [{
            type: Output
        }], onDrop: [{
            type: Output
        }], onDragEnd: [{
            type: Output
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJlZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy90ZHMtdWkvdHJlZS90cmVlLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uL3Byb2plY3RzL3Rkcy11aS90cmVlL3RyZWUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUlBLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2xFLE9BQU8sRUFFTCx1QkFBdUIsRUFFdkIsU0FBUyxFQUNULFlBQVksRUFDWixZQUFZLEVBQ1osVUFBVSxFQUNWLElBQUksRUFDSixLQUFLLEVBSUwsUUFBUSxFQUNSLE1BQU0sRUFFTixRQUFRLEVBRVIsU0FBUyxFQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBd0IsaUJBQWlCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6RSxPQUFPLEVBQWMsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMzQyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUMzRCxPQUFPLEVBQWtDLFVBQVUsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRWhGLE9BQU8sRUFBZ0QsV0FBVyxFQUFFLGtCQUFrQixFQUFFLDhCQUE4QixFQUFtRCxNQUFNLGtCQUFrQixDQUFDO0FBQ2xNLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsWUFBWSxFQUFjLE1BQU0sdUJBQXVCLENBQUM7QUFJakUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGdCQUFnQixDQUFDOzs7Ozs7Ozs7Ozs7O0lDdkJ4Qyw2QkFBcUY7SUFDbkYsOEhBR2U7SUFDakIsMEJBQWU7Ozs7O0lBSFgsZUFBaUM7SUFBakMsc0NBQWlDLGdFQUFBOzs7SUFYdkMsc0RB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S0FBSztZQUNHLFlBQVk7a0JBQXBCLEtBQUs7WUFDRyxZQUFZO2tCQUFwQixLQUFLO1lBQ0csV0FBVztrQkFBbkIsS0FBSztZQUNHLFdBQVc7a0JBQW5CLEtBQUs7WUFDRyxVQUFVO2tCQUFsQixLQUFLO1lBQzBDLG9CQUFvQjtrQkFBbkUsWUFBWTttQkFBQyxjQUFjLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO1lBSzlDLHdCQUF3QjtrQkFEdkIsU0FBUzttQkFBQyx3QkFBd0IsRUFBRSxFQUFFLElBQUksRUFBRSx3QkFBd0IsRUFBRTtZQU1wRCxvQkFBb0I7a0JBQXRDLE1BQU07WUFDWSxvQkFBb0I7a0JBQXRDLE1BQU07WUFDWSxtQkFBbUI7a0JBQXJDLE1BQU07WUFDWSxtQkFBbUI7a0JBQXJDLE1BQU07WUFDWSxPQUFPO2tCQUF6QixNQUFNO1lBQ1ksVUFBVTtrQkFBNUIsTUFBTTtZQUNZLGFBQWE7a0JBQS9CLE1BQU07WUFDWSxnQkFBZ0I7a0JBQWxDLE1BQU07WUFDWSxjQUFjO2tCQUFoQyxNQUFNO1lBQ1ksV0FBVztrQkFBN0IsTUFBTTtZQUNZLFdBQVc7a0JBQTdCLE1BQU07WUFDWSxVQUFVO2tCQUE1QixNQUFNO1lBQ1ksV0FBVztrQkFBN0IsTUFBTTtZQUNZLE1BQU07a0JBQXhCLE1BQU07WUFDWSxTQUFTO2tCQUEzQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5pbXBvcnQgeyBEaXJlY3Rpb24sIERpcmVjdGlvbmFsaXR5IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2JpZGknO1xyXG5pbXBvcnQgeyBCb29sZWFuSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jZGsvY29lcmNpb24nO1xyXG5pbXBvcnQgeyBDZGtWaXJ0dWFsU2Nyb2xsVmlld3BvcnQgfSBmcm9tICdAYW5ndWxhci9jZGsvc2Nyb2xsaW5nJztcclxuaW1wb3J0IHtcclxuICBBZnRlclZpZXdJbml0LFxyXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxyXG4gIENoYW5nZURldGVjdG9yUmVmLFxyXG4gIENvbXBvbmVudCxcclxuICBDb250ZW50Q2hpbGQsXHJcbiAgRXZlbnRFbWl0dGVyLFxyXG4gIGZvcndhcmRSZWYsXHJcbiAgSG9zdCxcclxuICBJbnB1dCxcclxuICBPbkNoYW5nZXMsXHJcbiAgT25EZXN0cm95LFxyXG4gIE9uSW5pdCxcclxuICBPcHRpb25hbCxcclxuICBPdXRwdXQsXHJcbiAgU2ltcGxlQ2hhbmdlLFxyXG4gIFNraXBTZWxmLFxyXG4gIFRlbXBsYXRlUmVmLFxyXG4gIFZpZXdDaGlsZFxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgdGFrZVVudGlsIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5pbXBvcnQgeyB0cmVlQ29sbGFwc2VNb3Rpb24gfSBmcm9tICd0ZHMtdWkvY29yZS9hbmltYXRpb24nO1xyXG5pbXBvcnQgeyBURFNDb25maWdLZXksIFREU0NvbmZpZ1NlcnZpY2UsIFdpdGhDb25maWcgfSBmcm9tICd0ZHMtdWkvY29yZS9jb25maWcnO1xyXG5pbXBvcnQgeyBURFNOb0FuaW1hdGlvbkRpcmVjdGl2ZSB9IGZyb20gJ3Rkcy11aS9jb3JlL25vLWFuaW1hdGlvbic7XHJcbmltcG9ydCB7IFREU0Zvcm1hdEJlZm9yZURyb3BFdmVudCwgVERTRm9ybWF0RW1pdEV2ZW50LCBURFNUcmVlQmFzZSwgVERTVHJlZUJhc2VTZXJ2aWNlLCBURFNUcmVlSGlnaGVyT3JkZXJTZXJ2aWNlVG9rZW4sIFREU1RyZWVOb2RlLCBURFNUcmVlTm9kZUtleSwgVERTVHJlZU5vZGVPcHRpb25zIH0gZnJvbSAndGRzLXVpL2NvcmUvdHJlZSc7XHJcbmltcG9ydCB7IGZsYXR0ZW5UcmVlRGF0YSB9IGZyb20gJ3Rkcy11aS9jb3JlL3RyZWUnO1xyXG5pbXBvcnQgeyBJbnB1dEJvb2xlYW4sIFREU1NhZmVBbnkgfSBmcm9tICd0ZHMtdWkvc2hhcmVkL3V0aWxpdHknO1xyXG5cclxuXHJcblxyXG5pbXBvcnQgeyBURFNUcmVlU2VydmljZSB9IGZyb20gJy4vdHJlZS5zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBURFNUcmVlU2VydmljZUZhY3RvcnkoXHJcbiAgaGlnaGVyT3JkZXJTZXJ2aWNlOiBURFNUcmVlQmFzZVNlcnZpY2UsXHJcbiAgdHJlZVNlcnZpY2U6IFREU1RyZWVTZXJ2aWNlXHJcbik6IFREU1RyZWVCYXNlU2VydmljZSB7XHJcbiAgcmV0dXJuIGhpZ2hlck9yZGVyU2VydmljZSA/IGhpZ2hlck9yZGVyU2VydmljZSA6IHRyZWVTZXJ2aWNlO1xyXG59XHJcblxyXG5jb25zdCBURFNfQ09ORklHX01PRFVMRV9OQU1FOiBURFNDb25maWdLZXkgPSAndHJlZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3Rkcy10cmVlJyxcclxuICBleHBvcnRBczogJ3Rkc1RyZWUnLFxyXG4gIGFuaW1hdGlvbnM6IFt0cmVlQ29sbGFwc2VNb3Rpb25dLFxyXG4gIHRlbXBsYXRlVXJsOicuL3RyZWUuY29tcG9uZW50Lmh0bWwnLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgVERTVHJlZVNlcnZpY2UsXHJcbiAgICB7XHJcbiAgICAgIHByb3ZpZGU6IFREU1RyZWVCYXNlU2VydmljZSxcclxuICAgICAgdXNlRmFjdG9yeTogVERTVHJlZVNlcnZpY2VGYWN0b3J5LFxyXG4gICAgICBkZXBzOiBbW25ldyBTa2lwU2VsZigpLCBuZXcgT3B0aW9uYWwoKSwgVERTVHJlZUhpZ2hlck9yZGVyU2VydmljZVRva2VuXSwgVERTVHJlZVNlcnZpY2VdXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcclxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gVERTVHJlZUNvbXBvbmVudCksXHJcbiAgICAgIG11bHRpOiB0cnVlXHJcbiAgICB9XHJcbiAgXSxcclxuICBob3N0OiB7XHJcbiAgICAnW2NsYXNzLnRkcy1zZWxlY3QtdHJlZV0nOiBgc2VsZWN0TW9kZWAsXHJcbiAgICAnW2NsYXNzLnRkcy1zZWxlY3QtdHJlZS1zaG93LWxpbmVdJzogYHNlbGVjdE1vZGUgJiYgc2hvd0xpbmVgLFxyXG4gICAgJ1tjbGFzcy50ZHMtc2VsZWN0LXRyZWUtaWNvbi1oaWRlXSc6IGBzZWxlY3RNb2RlICYmICFzaG93SWNvbmAsXHJcbiAgICAnW2NsYXNzLnRkcy1zZWxlY3QtdHJlZS1ibG9jay1ub2RlXSc6IGBzZWxlY3RNb2RlICYmIGJsb2NrTm9kZWAsXHJcbiAgICAnW2NsYXNzLnRkcy10cmVlXSc6IGAhc2VsZWN0TW9kZWAsXHJcbiAgICAnW2NsYXNzLnRkcy10cmVlLXJ0bF0nOiBgZGlyID09PSAncnRsJ2AsXHJcbiAgICAnW2NsYXNzLnRkcy10cmVlLXNob3ctbGluZV0nOiBgIXNlbGVjdE1vZGUgJiYgc2hvd0xpbmVgLFxyXG4gICAgJ1tjbGFzcy50ZHMtdHJlZS1pY29uLWhpZGVdJzogYCFzZWxlY3RNb2RlICYmICFzaG93SWNvbmAsXHJcbiAgICAnW2NsYXNzLnRkcy10cmVlLWJsb2NrLW5vZGVdJzogYCFzZWxlY3RNb2RlICYmIGJsb2NrTm9kZWAsXHJcbiAgICAnW2NsYXNzLmRyYWdnYWJsZS10cmVlXSc6IGBkcmFnZ2FibGVgLFxyXG4gICAgJ2NsYXNzJzpcImJveC1ib3JkZXIgbS0wIHAtMCBib3JkZXItMFwiXHJcbiAgfVxyXG59KVxyXG5leHBvcnQgY2xhc3MgVERTVHJlZUNvbXBvbmVudFxyXG4gIGV4dGVuZHMgVERTVHJlZUJhc2VcclxuICBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95LCBDb250cm9sVmFsdWVBY2Nlc3NvciwgT25DaGFuZ2VzLCBBZnRlclZpZXdJbml0XHJcbntcclxuICByZWFkb25seSBfdGRzTW9kdWxlTmFtZTogVERTQ29uZmlnS2V5ID0gVERTX0NPTkZJR19NT0RVTEVfTkFNRTtcclxuXHJcbiAgc3RhdGljIG5nQWNjZXB0SW5wdXRUeXBlX3Nob3dJY29uOiBCb29sZWFuSW5wdXQ7XHJcbiAgc3RhdGljIG5nQWNjZXB0SW5wdXRUeXBlX2hpZGVVbk1hdGNoZWQ6IEJvb2xlYW5JbnB1dDtcclxuICBzdGF0aWMgbmdBY2NlcHRJbnB1dFR5cGVfYmxvY2tOb2RlOiBCb29sZWFuSW5wdXQ7XHJcbiAgc3RhdGljIG5nQWNjZXB0SW5wdXRUeXBlX2V4cGFuZEFsbDogQm9vbGVhbklucHV0O1xyXG4gIHN0YXRpYyBuZ0FjY2VwdElucHV0VHlwZV9zZWxlY3RNb2RlOiBCb29sZWFuSW5wdXQ7XHJcbiAgc3RhdGljIG5nQWNjZXB0SW5wdXRUeXBlX2NoZWNrU3RyaWN0bHk6IEJvb2xlYW5JbnB1dDtcclxuICBzdGF0aWMgbmdBY2NlcHRJbnB1dFR5cGVfc2hvd0V4cGFuZDogQm9vbGVhbklucHV0O1xyXG4gIHN0YXRpYyBuZ0FjY2VwdElucHV0VHlwZV9zaG93TGluZTogQm9vbGVhbklucHV0O1xyXG4gIHN0YXRpYyBuZ0FjY2VwdElucHV0VHlwZV9jaGVja2FibGU6IEJvb2xlYW5JbnB1dDtcclxuICBzdGF0aWMgbmdBY2NlcHRJbnB1dFR5cGVfYXN5bmNEYXRhOiBCb29sZWFuSW5wdXQ7XHJcbiAgc3RhdGljIG5nQWNjZXB0SW5wdXRUeXBlX2RyYWdnYWJsZTogQm9vbGVhbklucHV0O1xyXG4gIHN0YXRpYyBuZ0FjY2VwdElucHV0VHlwZV9tdWx0aXBsZTogQm9vbGVhbklucHV0O1xyXG5cclxuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgQFdpdGhDb25maWcoKSBzaG93SWNvbjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIEBJbnB1dEJvb2xlYW4oKSBAV2l0aENvbmZpZygpIGhpZGVVbk1hdGNoZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgQFdpdGhDb25maWcoKSBibG9ja05vZGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgZXhwYW5kQWxsID0gZmFsc2U7XHJcbiAgQElucHV0KCkgQElucHV0Qm9vbGVhbigpIHNlbGVjdE1vZGUgPSBmYWxzZTtcclxuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgY2hlY2tTdHJpY3RseSA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIEBJbnB1dEJvb2xlYW4oKSBzaG93RXhwYW5kOiBib29sZWFuID0gdHJ1ZTtcclxuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgc2hvd0xpbmUgPSBmYWxzZTtcclxuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgY2hlY2thYmxlID0gZmFsc2U7XHJcbiAgQElucHV0KCkgQElucHV0Qm9vbGVhbigpIGFzeW5jRGF0YSA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIEBJbnB1dEJvb2xlYW4oKSBkcmFnZ2FibGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgbXVsdGlwbGUgPSBmYWxzZTtcclxuICBASW5wdXQoKSBleHBhbmRlZEljb24/OiBUZW1wbGF0ZVJlZjx7ICRpbXBsaWNpdDogVERTVHJlZU5vZGU7IG9yaWdpbjogVERTVHJlZU5vZGVPcHRpb25zIH0+O1xyXG4gIEBJbnB1dCgpIHZpcnR1YWxJdGVtU2l6ZSA9IDI4O1xyXG4gIEBJbnB1dCgpIHZpcnR1YWxNYXhCdWZmZXJQeCA9IDUwMDtcclxuICBASW5wdXQoKSB2aXJ0dWFsTWluQnVmZmVyUHggPSAyODtcclxuICBASW5wdXQoKSB2aXJ0dWFsSGVpZ2h0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICBASW5wdXQoKSB0cmVlVGVtcGxhdGU/OiBUZW1wbGF0ZVJlZjx7ICRpbXBsaWNpdDogVERTVHJlZU5vZGU7IG9yaWdpbjogVERTVHJlZU5vZGVPcHRpb25zIH0+O1xyXG4gIEBJbnB1dCgpIGJlZm9yZURyb3A/OiAoY29uZmlybTogVERTRm9ybWF0QmVmb3JlRHJvcEV2ZW50KSA9PiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xyXG4gIEBJbnB1dCgpIGRhdGE6IFREU1RyZWVOb2RlT3B0aW9uc1tdIHwgVERTVHJlZU5vZGVbXSA9IFtdO1xyXG4gIEBJbnB1dCgpIGV4cGFuZGVkS2V5czogVERTVHJlZU5vZGVLZXlbXSA9IFtdO1xyXG4gIEBJbnB1dCgpIHNlbGVjdGVkS2V5czogVERTVHJlZU5vZGVLZXlbXSA9IFtdO1xyXG4gIEBJbnB1dCgpIGNoZWNrZWRLZXlzOiBURFNUcmVlTm9kZUtleVtdID0gW107XHJcbiAgQElucHV0KCkgc2VhcmNoVmFsdWU6IHN0cmluZyA9ICcnO1xyXG4gIEBJbnB1dCgpIHNlYXJjaEZ1bmM/OiAobm9kZTogVERTVHJlZU5vZGVPcHRpb25zKSA9PiBib29sZWFuO1xyXG4gIEBDb250ZW50Q2hpbGQoJ3RyZWVUZW1wbGF0ZScsIHsgc3RhdGljOiB0cnVlIH0pIHRkc1RyZWVUZW1wbGF0ZUNoaWxkITogVGVtcGxhdGVSZWY8e1xyXG4gICAgJGltcGxpY2l0OiBURFNUcmVlTm9kZTtcclxuICAgIG9yaWdpbjogVERTVHJlZU5vZGVPcHRpb25zO1xyXG4gIH0+O1xyXG4gIEBWaWV3Q2hpbGQoQ2RrVmlydHVhbFNjcm9sbFZpZXdwb3J0LCB7IHJlYWQ6IENka1ZpcnR1YWxTY3JvbGxWaWV3cG9ydCB9KVxyXG4gIGNka1ZpcnR1YWxTY3JvbGxWaWV3cG9ydCE6IENka1ZpcnR1YWxTY3JvbGxWaWV3cG9ydDtcclxuICBmbGF0dGVuTm9kZXM6IFREU1RyZWVOb2RlW10gPSBbXTtcclxuICBiZWZvcmVJbml0ID0gdHJ1ZTtcclxuICBkaXI6IERpcmVjdGlvbiA9ICdsdHInO1xyXG5cclxuICBAT3V0cHV0KCkgcmVhZG9ubHkgb25FeHBhbmRlZEtleXNDaGFuZ2U6IEV2ZW50RW1pdHRlcjxzdHJpbmdbXT4gPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZ1tdPigpO1xyXG4gIEBPdXRwdXQoKSByZWFkb25seSBvblNlbGVjdGVkS2V5c0NoYW5nZTogRXZlbnRFbWl0dGVyPHN0cmluZ1tdPiA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nW10+KCk7XHJcbiAgQE91dHB1dCgpIHJlYWRvbmx5IG9uQ2hlY2tlZEtleXNDaGFuZ2U6IEV2ZW50RW1pdHRlcjxzdHJpbmdbXT4gPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZ1tdPigpO1xyXG4gIEBPdXRwdXQoKSByZWFkb25seSBvblNlYXJjaFZhbHVlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxURFNGb3JtYXRFbWl0RXZlbnQ+KCk7XHJcbiAgQE91dHB1dCgpIHJlYWRvbmx5IG9uQ2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyPFREU0Zvcm1hdEVtaXRFdmVudD4oKTtcclxuICBAT3V0cHV0KCkgcmVhZG9ubHkgb25EYmxDbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8VERTRm9ybWF0RW1pdEV2ZW50PigpO1xyXG4gIEBPdXRwdXQoKSByZWFkb25seSBvbkNvbnRleHRNZW51ID0gbmV3IEV2ZW50RW1pdHRlcjxURFNGb3JtYXRFbWl0RXZlbnQ+KCk7XHJcbiAgQE91dHB1dCgpIHJlYWRvbmx5IG9uQ2hlY2tCb3hDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPFREU0Zvcm1hdEVtaXRFdmVudD4oKTtcclxuICBAT3V0cHV0KCkgcmVhZG9ubHkgb25FeHBhbmRDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPFREU0Zvcm1hdEVtaXRFdmVudD4oKTtcclxuICBAT3V0cHV0KCkgcmVhZG9ubHkgb25EcmFnU3RhcnQgPSBuZXcgRXZlbnRFbWl0dGVyPFREU0Zvcm1hdEVtaXRFdmVudD4oKTtcclxuICBAT3V0cHV0KCkgcmVhZG9ubHkgb25EcmFnRW50ZXIgPSBuZXcgRXZlbnRFbWl0dGVyPFREU0Zvcm1hdEVtaXRFdmVudD4oKTtcclxuICBAT3V0cHV0KCkgcmVhZG9ubHkgb25EcmFnT3ZlciA9IG5ldyBFdmVudEVtaXR0ZXI8VERTRm9ybWF0RW1pdEV2ZW50PigpO1xyXG4gIEBPdXRwdXQoKSByZWFkb25seSBvbkRyYWdMZWF2ZSA9IG5ldyBFdmVudEVtaXR0ZXI8VERTRm9ybWF0RW1pdEV2ZW50PigpO1xyXG4gIEBPdXRwdXQoKSByZWFkb25seSBvbkRyb3AgPSBuZXcgRXZlbnRFbWl0dGVyPFREU0Zvcm1hdEVtaXRFdmVudD4oKTtcclxuICBAT3V0cHV0KCkgcmVhZG9ubHkgb25EcmFnRW5kID0gbmV3IEV2ZW50RW1pdHRlcjxURFNGb3JtYXRFbWl0RXZlbnQ+KCk7XHJcblxyXG4gIEhJRERFTl9TVFlMRSA9IHtcclxuICAgIHdpZHRoOiAwLFxyXG4gICAgaGVpZ2h0OiAwLFxyXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxyXG4gICAgb3BhY2l0eTogMCxcclxuICAgIGJvcmRlcjogMCxcclxuICAgIHBhZGRpbmc6IDAsXHJcbiAgICBtYXJnaW46IDBcclxuICB9O1xyXG5cclxuICBwcml2YXRlIGRlc3Ryb3kkID0gbmV3IFN1YmplY3Q8dm9pZD4oKTtcclxuXHJcbiAgb25DaGFuZ2U6ICh2YWx1ZTogVERTVHJlZU5vZGVbXSkgPT4gdm9pZCA9ICgpID0+IG51bGw7XHJcbiAgb25Ub3VjaGVkOiAoKSA9PiB2b2lkID0gKCkgPT4gbnVsbDtcclxuXHJcbiAgd3JpdGVWYWx1ZSh2YWx1ZTogVERTVHJlZU5vZGVbXSk6IHZvaWQge1xyXG4gICAgdGhpcy5oYW5kbGVOekRhdGEodmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJPbkNoYW5nZShmbjogKF86IFREU1RyZWVOb2RlW10pID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIHRoaXMub25DaGFuZ2UgPSBmbjtcclxuICB9XHJcblxyXG4gIHJlZ2lzdGVyT25Ub3VjaGVkKGZuOiAoKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICB0aGlzLm9uVG91Y2hlZCA9IGZuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVuZGVyIGFsbCBwcm9wZXJ0aWVzIG9mIG56VHJlZVxyXG4gICAqXHJcbiAgICogQHBhcmFtIGNoYW5nZXM6IGFsbCBjaGFuZ2VzIGZyb20gQElucHV0XHJcbiAgICovXHJcbiAgcmVuZGVyVHJlZVByb3BlcnRpZXMoY2hhbmdlczogeyBbcHJvcGVydHlOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2UgfSk6IHZvaWQge1xyXG4gICAgbGV0IHVzZURlZmF1bHRFeHBhbmRlZEtleXMgPSBmYWxzZTtcclxuICAgIGxldCBfZXhwYW5kQWxsID0gZmFsc2U7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGRhdGEsXHJcbiAgICAgIGV4cGFuZGVkS2V5cyxcclxuICAgICAgc2VsZWN0ZWRLZXlzLFxyXG4gICAgICBjaGVja2VkS2V5cyxcclxuICAgICAgY2hlY2tTdHJpY3RseSxcclxuICAgICAgZXhwYW5kQWxsLFxyXG4gICAgICBtdWx0aXBsZSxcclxuICAgICAgc2VhcmNoVmFsdWVcclxuICAgIH0gPSBjaGFuZ2VzO1xyXG5cclxuICAgIGlmIChleHBhbmRBbGwpIHtcclxuICAgICAgdXNlRGVmYXVsdEV4cGFuZGVkS2V5cyA9IHRydWU7XHJcbiAgICAgIF9leHBhbmRBbGwgPSB0aGlzLmV4cGFuZEFsbDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobXVsdGlwbGUpIHtcclxuICAgICAgdGhpcy50ZHNUcmVlU2VydmljZS5pc011bHRpcGxlID0gdGhpcy5tdWx0aXBsZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2hlY2tTdHJpY3RseSkge1xyXG4gICAgICB0aGlzLnRkc1RyZWVTZXJ2aWNlLmlzQ2hlY2tTdHJpY3RseSA9IHRoaXMuY2hlY2tTdHJpY3RseTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZGF0YSkge1xyXG4gICAgICB0aGlzLmhhbmRsZU56RGF0YSh0aGlzLmRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGVja2VkS2V5cykge1xyXG4gICAgICB0aGlzLmhhbmRsZUNoZWNrZWRLZXlzKHRoaXMuY2hlY2tlZEtleXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGVja1N0cmljdGx5KSB7XHJcbiAgICAgIHRoaXMuaGFuZGxlQ2hlY2tlZEtleXMobnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV4cGFuZGVkS2V5cyB8fCBleHBhbmRBbGwpIHtcclxuICAgICAgdXNlRGVmYXVsdEV4cGFuZGVkS2V5cyA9IHRydWU7XHJcbiAgICAgIHRoaXMuaGFuZGxlRXhwYW5kZWRLZXlzKF9leHBhbmRBbGwgfHwgdGhpcy5leHBhbmRlZEtleXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZWxlY3RlZEtleXMpIHtcclxuICAgICAgdGhpcy5oYW5kbGVTZWxlY3RlZEtleXModGhpcy5zZWxlY3RlZEtleXMsIHRoaXMubXVsdGlwbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZWFyY2hWYWx1ZSkge1xyXG4gICAgICBpZiAoIShzZWFyY2hWYWx1ZS5maXJzdENoYW5nZSAmJiAhdGhpcy5zZWFyY2hWYWx1ZSkpIHtcclxuICAgICAgICB1c2VEZWZhdWx0RXhwYW5kZWRLZXlzID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVTZWFyY2hWYWx1ZShzZWFyY2hWYWx1ZS5jdXJyZW50VmFsdWUsIHRoaXMuc2VhcmNoRnVuYyk7XHJcbiAgICAgICAgdGhpcy5vblNlYXJjaFZhbHVlQ2hhbmdlLmVtaXQodGhpcy50ZHNUcmVlU2VydmljZS5mb3JtYXRFdmVudCgnc2VhcmNoJywgbnVsbCwgbnVsbCkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmxhdHRlbiBkYXRhXHJcbiAgICBjb25zdCBjdXJyZW50RXhwYW5kZWRLZXlzID0gdGhpcy5nZXRFeHBhbmRlZE5vZGVMaXN0KCkubWFwKHYgPT4gdi5rZXkpO1xyXG4gICAgY29uc3QgbmV3RXhwYW5kZWRLZXlzID0gdXNlRGVmYXVsdEV4cGFuZGVkS2V5cyA/IF9leHBhbmRBbGwgfHwgdGhpcy5leHBhbmRlZEtleXMgOiBjdXJyZW50RXhwYW5kZWRLZXlzO1xyXG4gICAgdGhpcy5oYW5kbGVGbGF0dGVuTm9kZXModGhpcy50ZHNUcmVlU2VydmljZS5yb290Tm9kZXMsIG5ld0V4cGFuZGVkS2V5cyk7XHJcbiAgfVxyXG5cclxuICB0cmFja0J5RmxhdHRlbk5vZGUoXzogbnVtYmVyLCBub2RlOiBURFNUcmVlTm9kZSk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gbm9kZS5rZXk7XHJcbiAgfVxyXG4gIC8vIERlYWwgd2l0aCBwcm9wZXJ0aWVzXHJcbiAgLyoqXHJcbiAgICogZGF0YVxyXG4gICAqXHJcbiAgICogQHBhcmFtIHZhbHVlXHJcbiAgICovXHJcbiAgaGFuZGxlTnpEYXRhKHZhbHVlOiBURFNTYWZlQW55W10pOiB2b2lkIHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICBjb25zdCBkYXRhID0gdGhpcy5jb2VyY2VUcmVlTm9kZXModmFsdWUpO1xyXG4gICAgICB0aGlzLnRkc1RyZWVTZXJ2aWNlLmluaXRUcmVlKGRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlRmxhdHRlbk5vZGVzKGRhdGE6IFREU1RyZWVOb2RlW10sIGV4cGFuZEtleXM6IFREU1RyZWVOb2RlS2V5W10gfCB0cnVlID0gW10pOiB2b2lkIHtcclxuICAgIHRoaXMudGRzVHJlZVNlcnZpY2UuZmxhdHRlblRyZWVEYXRhKGRhdGEsIGV4cGFuZEtleXMpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2hlY2tlZEtleXMoa2V5czogVERTVHJlZU5vZGVLZXlbXSB8IG51bGwpOiB2b2lkIHtcclxuICAgIHRoaXMudGRzVHJlZVNlcnZpY2UuY29uZHVjdENoZWNrKGtleXMsIHRoaXMuY2hlY2tTdHJpY3RseSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVFeHBhbmRlZEtleXMoa2V5czogVERTVHJlZU5vZGVLZXlbXSB8IHRydWUgPSBbXSk6IHZvaWQge1xyXG4gICAgdGhpcy50ZHNUcmVlU2VydmljZS5jb25kdWN0RXhwYW5kZWRLZXlzKGtleXMpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU2VsZWN0ZWRLZXlzKGtleXM6IFREU1RyZWVOb2RlS2V5W10sIGlzTXVsdGk6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMudGRzVHJlZVNlcnZpY2UuY29uZHVjdFNlbGVjdGVkS2V5cyhrZXlzLCBpc011bHRpKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVNlYXJjaFZhbHVlKHZhbHVlOiBzdHJpbmcsIHNlYXJjaEZ1bmM/OiAobm9kZTogVERTVHJlZU5vZGVPcHRpb25zKSA9PiBib29sZWFuKTogdm9pZCB7XHJcbiAgICBjb25zdCBkYXRhTGlzdCA9IGZsYXR0ZW5UcmVlRGF0YSh0aGlzLnRkc1RyZWVTZXJ2aWNlLnJvb3ROb2RlcywgdHJ1ZSkubWFwKHYgPT4gdi5kYXRhKTtcclxuICAgIGNvbnN0IGNoZWNrSWZNYXRjaGVkID0gKG5vZGU6IFREU1RyZWVOb2RlKTogYm9vbGVhbiA9PiB7XHJcbiAgICAgIGlmIChzZWFyY2hGdW5jKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlYXJjaEZ1bmMobm9kZS5vcmlnaW4pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAhdmFsdWUgfHwgIW5vZGUudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWx1ZS50b0xvd2VyQ2FzZSgpKSA/IGZhbHNlIDogdHJ1ZTtcclxuICAgIH07XHJcbiAgICBkYXRhTGlzdC5mb3JFYWNoKHYgPT4ge1xyXG4gICAgICB2LmlzTWF0Y2hlZCA9IGNoZWNrSWZNYXRjaGVkKHYpO1xyXG4gICAgICB2LmNhbkhpZGUgPSAhdi5pc01hdGNoZWQ7XHJcbiAgICAgIGlmICghdi5pc01hdGNoZWQpIHtcclxuICAgICAgICB2LnNldEV4cGFuZGVkKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnRkc1RyZWVTZXJ2aWNlLnNldEV4cGFuZGVkTm9kZUxpc3Qodik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gZXhwYW5kXHJcbiAgICAgICAgdGhpcy50ZHNUcmVlU2VydmljZS5leHBhbmROb2RlQWxsUGFyZW50QnlTZWFyY2godik7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy50ZHNUcmVlU2VydmljZS5zZXRNYXRjaGVkTm9kZUxpc3Qodik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZSBlbWl0IGV2ZW50XHJcbiAgICpcclxuICAgKiBAcGFyYW0gZXZlbnRcclxuICAgKiBoYW5kbGUgZWFjaCBldmVudFxyXG4gICAqL1xyXG4gIGV2ZW50VHJpZ2dlckNoYW5nZWQoZXZlbnQ6IFREU0Zvcm1hdEVtaXRFdmVudCk6IHZvaWQge1xyXG4gICAgY29uc3Qgbm9kZSA9IGV2ZW50Lm5vZGUhO1xyXG4gICAgc3dpdGNoIChldmVudC5ldmVudE5hbWUpIHtcclxuICAgICAgY2FzZSAnZXhwYW5kJzpcclxuICAgICAgICB0aGlzLnJlbmRlclRyZWUoKTtcclxuICAgICAgICB0aGlzLm9uRXhwYW5kQ2hhbmdlLmVtaXQoZXZlbnQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdjbGljayc6XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLmVtaXQoZXZlbnQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdkYmxjbGljayc6XHJcbiAgICAgICAgdGhpcy5vbkRibENsaWNrLmVtaXQoZXZlbnQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdjb250ZXh0bWVudSc6XHJcbiAgICAgICAgdGhpcy5vbkNvbnRleHRNZW51LmVtaXQoZXZlbnQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdjaGVjayc6XHJcbiAgICAgICAgLy8gUmVuZGVyIGNoZWNrZWQgc3RhdGUgd2l0aCBub2RlcycgcHJvcGVydHkgYGlzQ2hlY2tlZGBcclxuICAgICAgICB0aGlzLnRkc1RyZWVTZXJ2aWNlLnNldENoZWNrZWROb2RlTGlzdChub2RlKTtcclxuICAgICAgICBpZiAoIXRoaXMuY2hlY2tTdHJpY3RseSkge1xyXG4gICAgICAgICAgdGhpcy50ZHNUcmVlU2VydmljZS5jb25kdWN0KG5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDYXVzZSBjaGVjayBtZXRob2Qgd2lsbCByZXJlbmRlciBsaXN0LCBzbyB3ZSBuZWVkIHJlY292ZXIgaXQgYW5kIG5leHQgdGhlIG5ldyBldmVudCB0byB1c2VyXHJcbiAgICAgICAgY29uc3QgZXZlbnROZXh0ID0gdGhpcy50ZHNUcmVlU2VydmljZS5mb3JtYXRFdmVudCgnY2hlY2snLCBub2RlLCBldmVudC5ldmVudCEpO1xyXG4gICAgICAgIHRoaXMub25DaGVja0JveENoYW5nZS5lbWl0KGV2ZW50TmV4dCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2RyYWdzdGFydCc6XHJcbiAgICAgICAgLy8gaWYgbm9kZSBpcyBleHBhbmRlZFxyXG4gICAgICAgIGlmIChub2RlLmlzRXhwYW5kZWQpIHtcclxuICAgICAgICAgIG5vZGUuc2V0RXhwYW5kZWQoIW5vZGUuaXNFeHBhbmRlZCk7XHJcbiAgICAgICAgICB0aGlzLnJlbmRlclRyZWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vbkRyYWdTdGFydC5lbWl0KGV2ZW50KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnZHJhZ2VudGVyJzpcclxuICAgICAgICBjb25zdCBzZWxlY3RlZE5vZGUgPSB0aGlzLnRkc1RyZWVTZXJ2aWNlLmdldFNlbGVjdGVkTm9kZSgpO1xyXG4gICAgICAgIGlmIChzZWxlY3RlZE5vZGUgJiYgc2VsZWN0ZWROb2RlLmtleSAhPT0gbm9kZS5rZXkgJiYgIW5vZGUuaXNFeHBhbmRlZCAmJiAhbm9kZS5pc0xlYWYpIHtcclxuICAgICAgICAgIG5vZGUuc2V0RXhwYW5kZWQodHJ1ZSk7XHJcbiAgICAgICAgICB0aGlzLnJlbmRlclRyZWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vbkRyYWdFbnRlci5lbWl0KGV2ZW50KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnZHJhZ292ZXInOlxyXG4gICAgICAgIHRoaXMub25EcmFnT3Zlci5lbWl0KGV2ZW50KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnZHJhZ2xlYXZlJzpcclxuICAgICAgICB0aGlzLm9uRHJhZ0xlYXZlLmVtaXQoZXZlbnQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdkcmFnZW5kJzpcclxuICAgICAgICB0aGlzLm9uRHJhZ0VuZC5lbWl0KGV2ZW50KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnZHJvcCc6XHJcbiAgICAgICAgdGhpcy5yZW5kZXJUcmVlKCk7XHJcbiAgICAgICAgdGhpcy5vbkRyb3AuZW1pdChldmVudCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbGljayBleHBhbmQgaWNvblxyXG4gICAqL1xyXG4gIHJlbmRlclRyZWUoKTogdm9pZCB7XHJcbiAgICB0aGlzLmhhbmRsZUZsYXR0ZW5Ob2RlcyhcclxuICAgICAgdGhpcy50ZHNUcmVlU2VydmljZS5yb290Tm9kZXMsXHJcbiAgICAgIHRoaXMuZ2V0RXhwYW5kZWROb2RlTGlzdCgpLm1hcCh2ID0+IHYua2V5KVxyXG4gICAgKTtcclxuICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gIH1cclxuICAvLyBIYW5kbGUgZW1pdCBldmVudCBlbmRcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB0ZHNUcmVlU2VydmljZTogVERTVHJlZUJhc2VTZXJ2aWNlLFxyXG4gICAgcHVibGljIHRkc0NvbmZpZ1NlcnZpY2U6IFREU0NvbmZpZ1NlcnZpY2UsXHJcbiAgICBwcml2YXRlIGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgICBAT3B0aW9uYWwoKSBwcml2YXRlIGRpcmVjdGlvbmFsaXR5OiBEaXJlY3Rpb25hbGl0eSxcclxuICAgIEBIb3N0KCkgQE9wdGlvbmFsKCkgcHVibGljIG5vQW5pbWF0aW9uPzogVERTTm9BbmltYXRpb25EaXJlY3RpdmVcclxuICApIHtcclxuICAgIHN1cGVyKHRkc1RyZWVTZXJ2aWNlKTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy50ZHNUcmVlU2VydmljZS5mbGF0dGVuTm9kZXMkLnBpcGUodGFrZVVudGlsKHRoaXMuZGVzdHJveSQpKS5zdWJzY3JpYmUoZGF0YSA9PiB7XHJcbiAgICAgIHRoaXMuZmxhdHRlbk5vZGVzID0gZGF0YTtcclxuICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmRpciA9IHRoaXMuZGlyZWN0aW9uYWxpdHkudmFsdWU7XHJcbiAgICB0aGlzLmRpcmVjdGlvbmFsaXR5LmNoYW5nZT8ucGlwZSh0YWtlVW50aWwodGhpcy5kZXN0cm95JCkpLnN1YnNjcmliZSgoZGlyZWN0aW9uOiBEaXJlY3Rpb24pID0+IHtcclxuICAgICAgdGhpcy5kaXIgPSBkaXJlY3Rpb247XHJcbiAgICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogeyBbcHJvcGVydHlOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2UgfSk6IHZvaWQge1xyXG4gICAgdGhpcy5yZW5kZXJUcmVlUHJvcGVydGllcyhjaGFuZ2VzKTtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMuYmVmb3JlSW5pdCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICB0aGlzLmRlc3Ryb3kkLm5leHQoKTtcclxuICAgIHRoaXMuZGVzdHJveSQuY29tcGxldGUoKTtcclxuICB9XHJcbn1cclxuIiwiPGRpdiByb2xlPVwidHJlZVwiPlxyXG4gICAgPGlucHV0IFtuZ1N0eWxlXT1cIkhJRERFTl9TVFlMRVwiIC8+XHJcbiAgPC9kaXY+XHJcbiAgPGRpdiBjbGFzcz1cInRkcy10cmVlLWxpc3RcIiBbY2xhc3MudGRzLXNlbGVjdC10cmVlLWxpc3RdPVwic2VsZWN0TW9kZVwiPlxyXG4gICAgPGRpdj4gICAgIFxyXG4gICAgICA8Y2RrLXZpcnR1YWwtc2Nyb2xsLXZpZXdwb3J0XHJcbiAgICAgICAgKm5nSWY9XCJ2aXJ0dWFsSGVpZ2h0XCJcclxuICAgICAgICBbY2xhc3MudGRzLXNlbGVjdC10cmVlLWxpc3QtaG9sZGVyLWlubmVyXT1cInNlbGVjdE1vZGVcIlxyXG4gICAgICAgIFtjbGFzcy50ZHMtdHJlZS1saXN0LWhvbGRlci1pbm5lcl09XCIhc2VsZWN0TW9kZVwiXHJcbiAgICAgICAgW2l0ZW1TaXplXT1cInZpcnR1YWxJdGVtU2l6ZVwiXHJcbiAgICAgICAgW21pbkJ1ZmZlclB4XT1cInZpcnR1YWxNaW5CdWZmZXJQeFwiXHJcbiAgICAgICAgW21heEJ1ZmZlclB4XT1cInZpcnR1YWxNYXhCdWZmZXJQeFwiXHJcbiAgICAgICAgW3N0eWxlLmhlaWdodF09XCJ2aXJ0dWFsSGVpZ2h0XCJcclxuICAgICAgPlxyXG4gICAgICAgIDxuZy1jb250YWluZXIgKmNka1ZpcnR1YWxGb3I9XCJsZXQgbm9kZSBvZiBmbGF0dGVuTm9kZXM7IHRyYWNrQnk6IHRyYWNrQnlGbGF0dGVuTm9kZVwiPlxyXG4gICAgICAgICAgPG5nLXRlbXBsYXRlXHJcbiAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cIm5vZGVUZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogbm9kZSB9XCJcclxuICAgICAgICAgID48L25nLXRlbXBsYXRlPlxyXG4gICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICA8L2Nkay12aXJ0dWFsLXNjcm9sbC12aWV3cG9ydD5cclxuXHJcbiAgICAgIDxkaXZcclxuICAgICAgICAqbmdJZj1cIiF2aXJ0dWFsSGVpZ2h0XCJcclxuICAgICAgICBbY2xhc3MudGRzLXNlbGVjdC10cmVlLWxpc3QtaG9sZGVyLWlubmVyXT1cInNlbGVjdE1vZGVcIlxyXG4gICAgICAgIFtjbGFzcy50ZHMtdHJlZS1saXN0LWhvbGRlci1pbm5lcl09XCIhc2VsZWN0TW9kZVwiXHJcbiAgICAgICAgW0AuZGlzYWJsZWRdPVwiYmVmb3JlSW5pdCB8fCBub0FuaW1hdGlvbj8ubm9BbmltYXRpb25cIlxyXG4gICAgICAgIFtub0FuaW1hdGlvbl09XCJub0FuaW1hdGlvbj8ubm9BbmltYXRpb25cIlxyXG4gICAgICAgIFtAdHJlZUNvbGxhcHNlTW90aW9uXT1cImZsYXR0ZW5Ob2Rlcy5sZW5ndGhcIlxyXG4gICAgICA+XHJcbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgbm9kZSBvZiBmbGF0dGVuTm9kZXM7IHRyYWNrQnk6IHRyYWNrQnlGbGF0dGVuTm9kZVwiPlxyXG4gICAgICAgICAgPG5nLXRlbXBsYXRlXHJcbiAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cIm5vZGVUZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogbm9kZSB9XCJcclxuICAgICAgICAgID48L25nLXRlbXBsYXRlPlxyXG4gICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG4gIDxuZy10ZW1wbGF0ZSAjbm9kZVRlbXBsYXRlIGxldC10cmVlTm9kZT4gICAgXHJcbiAgICA8dGRzLXRyZWUtbm9kZVxyXG4gICAgICBidWlsdGluXHJcbiAgICAgIFtpY29uXT1cInRyZWVOb2RlLmljb25cIlxyXG4gICAgICBbdGl0bGVdPVwidHJlZU5vZGUudGl0bGVcIlxyXG4gICAgICBbaXNMb2FkaW5nXT1cInRyZWVOb2RlLmlzTG9hZGluZ1wiXHJcbiAgICAgIFtpc1NlbGVjdGVkXT1cInRyZWVOb2RlLmlzU2VsZWN0ZWRcIlxyXG4gICAgICBbaXNEaXNhYmxlZF09XCJ0cmVlTm9kZS5pc0Rpc2FibGVkXCJcclxuICAgICAgW2lzTWF0Y2hlZF09XCJ0cmVlTm9kZS5pc01hdGNoZWRcIlxyXG4gICAgICBbaXNFeHBhbmRlZF09XCJ0cmVlTm9kZS5pc0V4cGFuZGVkXCJcclxuICAgICAgW2lzTGVhZl09XCJ0cmVlTm9kZS5pc0xlYWZcIlxyXG4gICAgICBbaXNTdGFydF09XCJ0cmVlTm9kZS5pc1N0YXJ0XCJcclxuICAgICAgW2lzRW5kXT1cInRyZWVOb2RlLmlzRW5kXCJcclxuICAgICAgW2lzQ2hlY2tlZF09XCJ0cmVlTm9kZS5pc0NoZWNrZWRcIlxyXG4gICAgICBbaXNIYWxmQ2hlY2tlZF09XCJ0cmVlTm9kZS5pc0hhbGZDaGVja2VkXCJcclxuICAgICAgW2lzRGlzYWJsZUNoZWNrYm94XT1cInRyZWVOb2RlLmlzRGlzYWJsZUNoZWNrYm94XCJcclxuICAgICAgW2lzU2VsZWN0YWJsZV09XCJ0cmVlTm9kZS5pc1NlbGVjdGFibGVcIlxyXG4gICAgICBbY2FuSGlkZV09XCJ0cmVlTm9kZS5jYW5IaWRlXCJcclxuICAgICAgW3RyZWVOb2RlXT1cInRyZWVOb2RlXCJcclxuICAgICAgW3NlbGVjdE1vZGVdPVwic2VsZWN0TW9kZVwiXHJcbiAgICAgIFtzaG93TGluZV09XCJzaG93TGluZVwiXHJcbiAgICAgIFtleHBhbmRlZEljb25dPVwiZXhwYW5kZWRJY29uXCJcclxuICAgICAgW2RyYWdnYWJsZV09XCJkcmFnZ2FibGVcIlxyXG4gICAgICBbY2hlY2thYmxlXT1cImNoZWNrYWJsZVwiXHJcbiAgICAgIFtzaG93RXhwYW5kXT1cInNob3dFeHBhbmRcIlxyXG4gICAgICBbYXN5bmNEYXRhXT1cImFzeW5jRGF0YVwiXHJcbiAgICAgIFtzZWFyY2hWYWx1ZV09XCJzZWFyY2hWYWx1ZVwiXHJcbiAgICAgIFtoaWRlVW5NYXRjaGVkXT1cImhpZGVVbk1hdGNoZWRcIlxyXG4gICAgICBbYmVmb3JlRHJvcF09XCJiZWZvcmVEcm9wXCJcclxuICAgICAgW3Nob3dJY29uXT1cInNob3dJY29uXCJcclxuICAgICAgW3RyZWVUZW1wbGF0ZV09XCJ0cmVlVGVtcGxhdGUgfHwgdGRzVHJlZVRlbXBsYXRlQ2hpbGRcIlxyXG4gICAgICAob25FeHBhbmRDaGFuZ2UpPVwiZXZlbnRUcmlnZ2VyQ2hhbmdlZCgkZXZlbnQpXCJcclxuICAgICAgKG9uQ2xpY2spPVwiZXZlbnRUcmlnZ2VyQ2hhbmdlZCgkZXZlbnQpXCJcclxuICAgICAgKG9uRGJsQ2xpY2spPVwiZXZlbnRUcmlnZ2VyQ2hhbmdlZCgkZXZlbnQpXCJcclxuICAgICAgKG9uQ29udGV4dE1lbnUpPVwiZXZlbnRUcmlnZ2VyQ2hhbmdlZCgkZXZlbnQpXCJcclxuICAgICAgKG9uQ2hlY2tCb3hDaGFuZ2UpPVwiZXZlbnRUcmlnZ2VyQ2hhbmdlZCgkZXZlbnQpXCJcclxuICAgICAgKG9uRHJhZ1N0YXJ0KT1cImV2ZW50VHJpZ2dlckNoYW5nZWQoJGV2ZW50KVwiXHJcbiAgICAgIChvbkRyYWdFbnRlcik9XCJldmVudFRyaWdnZXJDaGFuZ2VkKCRldmVudClcIlxyXG4gICAgICAob25EcmFnT3Zlcik9XCJldmVudFRyaWdnZXJDaGFuZ2VkKCRldmVudClcIlxyXG4gICAgICAob25EcmFnTGVhdmUpPVwiZXZlbnRUcmlnZ2VyQ2hhbmdlZCgkZXZlbnQpXCJcclxuICAgICAgKG9uRHJhZ0VuZCk9XCJldmVudFRyaWdnZXJDaGFuZ2VkKCRhbnkoJGV2ZW50KSlcIlxyXG4gICAgICAob25Ecm9wKT1cImV2ZW50VHJpZ2dlckNoYW5nZWQoJGV2ZW50KVwiXHJcbiAgICA+PC90ZHMtdHJlZS1ub2RlPlxyXG4gIDwvbmctdGVtcGxhdGU+Il19