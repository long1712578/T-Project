import { __decorate } from "tslib";
import { CdkOverlayOrigin } from '@angular/cdk/overlay';
import { ChangeDetectionStrategy, Component, ContentChildren, ElementRef, Input, Optional, ViewChild, ViewChildren, ViewEncapsulation } from '@angular/core';
import { RouterLink, RouterLinkWithHref, NavigationEnd } from '@angular/router';
import { merge, Subject } from 'rxjs';
import { takeUntil, filter, startWith, switchMap, map, debounceTime, distinctUntilChanged } from 'rxjs/operators';
import { slideMotion } from 'tds-ui/core/animation';
import { getPlacementName, POSITION_MAP } from 'tds-ui/core/overlay';
import { InputBoolean, TDSHelperArray, TDSHelperObject, TDSHelperString } from 'tds-ui/shared/utility';
import { TDSMenuItemComponent } from '../tds-menu-item/tds-menu-item.component';
import * as i0 from "@angular/core";
import * as i1 from "../services/menu.service";
import * as i2 from "@angular/router";
import * as i3 from "@angular/cdk/overlay";
import * as i4 from "@angular/common";
import * as i5 from "tds-ui/tooltip";
import * as i6 from "tds-ui/badges";
function TDSMenuGroupPopupComponent_div_2_div_1_tds_badge_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "tds-badge", 11);
    i0.ɵɵelement(1, "span", 12);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r5 = i0.ɵɵnextContext(3);
    i0.ɵɵproperty("status", ctx_r5.item.dot.status)("dot", true);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngClass", ctx_r5.item.icon);
} }
function TDSMenuGroupPopupComponent_div_2_div_1_span_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "span", 12);
} if (rf & 2) {
    const ctx_r6 = i0.ɵɵnextContext(3);
    i0.ɵɵproperty("ngClass", ctx_r6.item.icon);
} }
const _c0 = function (a0) { return [a0]; };
function TDSMenuGroupPopupComponent_div_2_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r8 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 7)(1, "a", 8);
    i0.ɵɵlistener("click", function TDSMenuGroupPopupComponent_div_2_div_1_Template_a_click_1_listener($event) { i0.ɵɵrestoreView(_r8); const ctx_r7 = i0.ɵɵnextContext(2); return ctx_r7.onClickItem($event); });
    i0.ɵɵtemplate(2, TDSMenuGroupPopupComponent_div_2_div_1_tds_badge_2_Template, 2, 3, "tds-badge", 9);
    i0.ɵɵtemplate(3, TDSMenuGroupPopupComponent_div_2_div_1_span_3_Template, 1, 1, "span", 10);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r4 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("routerLink", i0.ɵɵpureFunction1(10, _c0, ctx_r4.item.link))("queryParams", ctx_r4.item.linkProps == null ? null : ctx_r4.item.linkProps.queryParams)("fragment", ctx_r4.item.linkProps == null ? null : ctx_r4.item.linkProps.fragment)("queryParamsHandling", ctx_r4.item.linkProps == null ? null : ctx_r4.item.linkProps.queryParamsHandling)("preserveFragment", ctx_r4.item.linkProps == null ? null : ctx_r4.item.linkProps.preserveFragment)("skipLocationChange", ctx_r4.item.linkProps == null ? null : ctx_r4.item.linkProps.skipLocationChange)("replaceUrl", ctx_r4.item.linkProps == null ? null : ctx_r4.item.linkProps.replaceUrl)("state", ctx_r4.item.linkProps == null ? null : ctx_r4.item.linkProps.state);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r4.item.dot);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !ctx_r4.item.dot);
} }
const _c1 = function (a0, a1, a2) { return { "bg-neutral-3-50 text-primary-1 dark:bg-d-neutral-3-300": a0, " text-neutral-1-300": a1, "cursor-pointer": a2 }; };
function TDSMenuGroupPopupComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r10 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 5);
    i0.ɵɵlistener("click", function TDSMenuGroupPopupComponent_div_2_Template_div_click_0_listener($event) { i0.ɵɵrestoreView(_r10); const ctx_r9 = i0.ɵɵnextContext(); return ctx_r9.onClickItem($event); });
    i0.ɵɵtemplate(1, TDSMenuGroupPopupComponent_div_2_div_1_Template, 4, 12, "div", 6);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r1 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction3(3, _c1, ctx_r1.isSelected, !ctx_r1.isSelected, !ctx_r1.item.disabled))("tooltipTitle", ctx_r1.item.name);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r1.hasIcon);
} }
function TDSMenuGroupPopupComponent_div_3_div_1_tds_badge_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "tds-badge", 11);
    i0.ɵɵelement(1, "span", 12);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r12 = i0.ɵɵnextContext(3);
    i0.ɵɵproperty("status", ctx_r12.item.dot.status)("dot", true);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngClass", ctx_r12.item.icon);
} }
function TDSMenuGroupPopupComponent_div_3_div_1_span_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "span", 12);
} if (rf & 2) {
    const ctx_r13 = i0.ɵɵnextContext(3);
    i0.ɵɵproperty("ngClass", ctx_r13.item.icon);
} }
function TDSMenuGroupPopupComponent_div_3_div_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 7);
    i0.ɵɵtemplate(1, TDSMenuGroupPopupComponent_div_3_div_1_tds_badge_1_Template, 2, 3, "tds-badge", 9);
    i0.ɵɵtemplate(2, TDSMenuGroupPopupComponent_div_3_div_1_span_2_Template, 1, 1, "span", 10);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r11 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r11.item.dot);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !ctx_r11.item.dot);
} }
const _c2 = function (a0, a1, a2) { return { "bg-neutral-3-50   text-primary-1 dark:bg-d-neutral-3-300": a0, " text-neutral-1-300": a1, "cursor-pointer": a2 }; };
function TDSMenuGroupPopupComponent_div_3_Template(rf, ctx) { if (rf & 1) {
    const _r15 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 13);
    i0.ɵɵlistener("click", function TDSMenuGroupPopupComponent_div_3_Template_div_click_0_listener($event) { i0.ɵɵrestoreView(_r15); const ctx_r14 = i0.ɵɵnextContext(); return ctx_r14.onClickItem($event); });
    i0.ɵɵtemplate(1, TDSMenuGroupPopupComponent_div_3_div_1_Template, 3, 2, "div", 6);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction3(3, _c2, ctx_r2.isSelected, !ctx_r2.isSelected && !ctx_r2.item.isOpen, !ctx_r2.item.disabled))("tooltipTitle", ctx_r2.item.name);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.hasIcon);
} }
function TDSMenuGroupPopupComponent_ng_template_4_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r18 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 15);
    i0.ɵɵlistener("mouseenter", function TDSMenuGroupPopupComponent_ng_template_4_div_0_Template_div_mouseenter_0_listener() { i0.ɵɵrestoreView(_r18); const ctx_r17 = i0.ɵɵnextContext(2); return ctx_r17.setMouseState(true); })("mouseleave", function TDSMenuGroupPopupComponent_ng_template_4_div_0_Template_div_mouseleave_0_listener() { i0.ɵɵrestoreView(_r18); const ctx_r19 = i0.ɵɵnextContext(2); return ctx_r19.setMouseState(false); });
    i0.ɵɵelementStart(1, "div", 16)(2, "div", 17)(3, "div", 18);
    i0.ɵɵprojection(4);
    i0.ɵɵelementEnd()()()();
} if (rf & 2) {
    const ctx_r16 = i0.ɵɵnextContext(2);
    i0.ɵɵstyleProp("margin-top", ctx_r16.position == "rightTop" ? -5 : 0, "px");
    i0.ɵɵproperty("ngClass", ctx_r16.mode)("@slideMotion", undefined);
} }
function TDSMenuGroupPopupComponent_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtemplate(0, TDSMenuGroupPopupComponent_ng_template_4_div_0_Template, 5, 4, "div", 14);
} if (rf & 2) {
    const ctx_r3 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngIf", ctx_r3.hasListChild);
} }
const _c3 = function (a0) { return { "hidden": a0 }; };
const _c4 = ["*"];
const listOfVerticalPositions = [
    POSITION_MAP.rightTop,
    POSITION_MAP.right,
    POSITION_MAP.rightBottom,
    // POSITION_MAP.leftTop,
    POSITION_MAP.left,
    // POSITION_MAP.leftBottom
];
export class TDSMenuGroupPopupComponent {
    constructor(_cdr, tdsMenuService, routerLink, routerLinkWithHref, router) {
        this._cdr = _cdr;
        this.tdsMenuService = tdsMenuService;
        this.routerLink = routerLink;
        this.routerLinkWithHref = routerLinkWithHref;
        this.router = router;
        this.destroy$ = new Subject();
        this.isSelected = false;
        this.inlineCollapsed = false;
        this.options = {
            background: 'bg-white dark:bg-d-neutral-3-200',
            backgroundItem: 'bg-white dark:bg-d-neutral-3-200',
            backgroundItemSelected: 'bg-neutral-3-50 dark:bg-d-neutral-3-300',
            backgroundItemHover: 'dark:hover:bg-d-neutral-3-300  hover:bg-neutral-3-50'
        };
        this.open$ = new Subject();
        this.cdkOverlayOrigin = null;
        this.IsActiveMatchOptions = {
            paths: "subset",
            matrixParams: "ignored",
            queryParams: "ignored",
            fragment: "ignored",
        };
        this.position = 'rightTop';
        this.triggerWidth = null;
        this.overlayPositions = listOfVerticalPositions;
        this.mode = 'dark';
        if (router) {
            this.router.events.pipe(takeUntil(this.destroy$), filter(e => e instanceof NavigationEnd)).subscribe(() => {
                if (!this.hasListChild) {
                    this.updateRouterActive();
                }
            });
        }
    }
    get uid() {
        return this.item ? this.item.uid : "";
    }
    ngOnInit() {
        this.open$.pipe(debounceTime(100), distinctUntilChanged(), takeUntil(this.destroy$)).subscribe(res => {
            this.item.isOpen = res;
            this._cdr.markForCheck();
        });
        this.tdsMenuService.mode$.subscribe(mode => {
            if (TDSHelperObject.hasValue(mode) && this.mode !== mode) {
                this.mode = mode;
                this._cdr.markForCheck();
            }
        });
    }
    ngAfterContentInit() {
        this.listenItemChangeSelected();
    }
    ngAfterViewInit() {
        if (!this.hasListChild) {
            this.updateRouterActive();
        }
    }
    ngOnChanges(changes) {
        if (changes['item']) {
            this._cdr.markForCheck();
        }
    }
    onClickItem(e) {
        if (this.item.disabled) {
            e.stopPropagation();
            e.preventDefault();
        }
        if (!this.hasListChild || !this.hasAllHidden) {
            this.tdsMenuService.onDescendantMenuItemClick(this);
            if (this.hasLink)
                this.p_NavigateByUrl();
        }
    }
    get hasListChild() {
        return TDSHelperArray.hasListValue(this.item.listChild);
    }
    get hasAllHidden() {
        let childs = this.item.listChild?.find(f => { return !f.hidden; });
        return childs == undefined;
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
    setSelectedState(value) {
        this.isSelected = value;
        this.item.isSelected = value;
        this._cdr.markForCheck();
    }
    updateRouterActive() {
        if (this.hasListChild || !this.listOfRouterLink || !this.listOfRouterLinkWithHref || !this.router || !this.router.navigated) {
            return;
        }
        Promise.resolve().then(() => {
            const hasActiveLinks = this.hasActiveLinks();
            if (this.isSelected !== hasActiveLinks) {
                this.setSelectedState(hasActiveLinks);
            }
        });
    }
    hasActiveLinks() {
        const isActiveCheckFn = this.isLinkActive(this.router);
        return ((this.routerLink && isActiveCheckFn(this.routerLink)) ||
            (this.routerLinkWithHref && isActiveCheckFn(this.routerLinkWithHref)) ||
            this.listOfRouterLink.some(isActiveCheckFn) ||
            this.listOfRouterLinkWithHref.some(isActiveCheckFn));
    }
    isLinkActive(router) {
        return (link) => router.isActive(link.urlTree, this.IsActiveMatchOptions);
    }
    setSelectedStateListChildren(uid) {
        if (TDSHelperArray.hasListValue(this.listItem)) {
            this.listItem.forEach(f => {
                f.setSelectedStateListChildren(uid);
            });
        }
        else {
            this.setSelectedState(uid === this.uid);
        }
    }
    get hasLink() {
        return !this.item.disabled && (!this.hasListChild || this.hasAllHidden) && TDSHelperObject.hasValue(this.item.link);
    }
    get hasIcon() {
        return this.item && TDSHelperString.hasValueString(this.item.icon);
    }
    listenItemChangeSelected() {
        if (TDSHelperArray.hasListValue(this.listItem) && this.listItem.length > 0) {
            const listOfTDSMenuItemComponent = this.listItem;
            const changes = listOfTDSMenuItemComponent.changes;
            const mergedObservable = merge(...[changes, ...listOfTDSMenuItemComponent.map(menu => menu.selected$)]);
            changes
                .pipe(startWith(listOfTDSMenuItemComponent), switchMap(() => mergedObservable), startWith(true), map(() => listOfTDSMenuItemComponent.some(e => e.isSelected)), takeUntil(this.destroy$))
                .subscribe(selected => {
                if (selected != this.isSelected)
                    if (!this.hasAllHidden)
                        this.setSelectedState(selected);
                    else {
                        //lấy link hiện tại khi tất ẩn tất cả menu con
                        const hasActiveLinks = this.hasActiveLinks();
                        this.setSelectedState(hasActiveLinks || selected);
                    }
            });
        }
    }
    setTriggerWidth() {
        if (this.cdkOverlayOrigin) {
            /** TODO: fast dom **/
            this.triggerWidth = this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width;
        }
    }
    onPositionChange(position) {
        const placement = getPlacementName(position);
        this.position = placement;
        // console.log(placement)
        // if (placement === 'rightTop' || placement === 'rightBottom' ) {
        //   this.position = 'rightTop';
        // } 
        // else if (placement === 'leftTop' || placement === 'leftBottom' || placement === 'left') {
        //   this.position = 'left';
        // }
        this._cdr.markForCheck();
    }
    setOpenStateListChildren(value) {
        if (TDSHelperArray.hasListValue(this.listItem)) {
            this.listItem.forEach(f => {
                f.setOpenChildren(value);
            });
            this.item.isOpen = value;
            this._cdr.markForCheck();
        }
    }
    setMouseState(value) {
        this.open$.next(value);
    }
    p_NavigateByUrl() {
        if (!TDSHelperObject.hasValue(this.item.linkProps)) {
            this.router?.navigateByUrl(this.item.link);
        }
        else {
            this.router?.navigate([this.item.link], {
                queryParams: this.item.linkProps?.queryParams,
                fragment: this.item.linkProps?.fragment,
                queryParamsHandling: this.item.linkProps?.queryParamsHandling,
                preserveFragment: this.item.linkProps?.preserveFragment,
                skipLocationChange: this.item.linkProps?.skipLocationChange,
                replaceUrl: this.item.linkProps?.replaceUrl,
                state: this.item.linkProps?.state
            });
        }
    }
}
TDSMenuGroupPopupComponent.ɵfac = function TDSMenuGroupPopupComponent_Factory(t) { return new (t || TDSMenuGroupPopupComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.TDSMenuService), i0.ɵɵdirectiveInject(i2.RouterLink, 8), i0.ɵɵdirectiveInject(i2.RouterLinkWithHref, 8), i0.ɵɵdirectiveInject(i2.Router, 8)); };
TDSMenuGroupPopupComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TDSMenuGroupPopupComponent, selectors: [["tds-menu-group-popup"]], contentQueries: function TDSMenuGroupPopupComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        i0.ɵɵcontentQuery(dirIndex, TDSMenuItemComponent, 5);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.listItem = _t);
    } }, viewQuery: function TDSMenuGroupPopupComponent_Query(rf, ctx) { if (rf & 1) {
        i0.ɵɵviewQuery(CdkOverlayOrigin, 7, ElementRef);
        i0.ɵɵviewQuery(RouterLink, 5);
        i0.ɵɵviewQuery(RouterLinkWithHref, 5);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.cdkOverlayOrigin = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.listOfRouterLink = _t);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.listOfRouterLinkWithHref = _t);
    } }, hostAttrs: ["clas", "w-full flex flex-col box-border relative"], hostBindings: function TDSMenuGroupPopupComponent_HostBindings(rf, ctx) { if (rf & 1) {
        i0.ɵɵlistener("mouseenter", function TDSMenuGroupPopupComponent_mouseenter_HostBindingHandler() { return ctx.setMouseState(true); })("mouseleave", function TDSMenuGroupPopupComponent_mouseleave_HostBindingHandler() { return ctx.setMouseState(false); });
    } }, inputs: { item: "item", isSelected: "isSelected", inlineCollapsed: "inlineCollapsed", options: "options" }, features: [i0.ɵɵNgOnChangesFeature], ngContentSelectors: _c4, decls: 5, vars: 10, consts: [["cdkOverlayOrigin", "", 1, "w-full", "flex", 3, "ngClass"], ["origin", "cdkOverlayOrigin"], ["class", "w-full flex items-center py-2.5 pl-3 pr-2.5  rounded group hover:bg-neutral-3-50 dark:hover:bg-d-neutral-3-300", "tooltipPlacement", "right", "tds-button", "", "tds-tooltip", "", 3, "ngClass", "tooltipTitle", "click", 4, "ngIf"], ["class", "w-full flex items-center py-2.5 pl-3 pr-2.5 rounded group  hover:bg-neutral-3-50 dark:hover:bg-d-neutral-3-300", "tds-tooltip", "", 3, "ngClass", "tooltipTitle", "click", 4, "ngIf"], ["cdkConnectedOverlay", "", "cdkConnectedOverlayPanelClass", "bottom-2.5", 3, "cdkConnectedOverlayPositions", "cdkConnectedOverlayOrigin", "cdkConnectedOverlayWidth", "cdkConnectedOverlayOpen", "cdkConnectedOverlayTransformOriginOn", "positionChange"], ["tooltipPlacement", "right", "tds-button", "", "tds-tooltip", "", 1, "w-full", "flex", "items-center", "py-2.5", "pl-3", "pr-2.5", "rounded", "group", "hover:bg-neutral-3-50", "dark:hover:bg-d-neutral-3-300", 3, "ngClass", "tooltipTitle", "click"], ["class", "h-6 w-6 flex ", 4, "ngIf"], [1, "h-6", "w-6", "flex"], [1, "", 3, "routerLink", "queryParams", "fragment", "queryParamsHandling", "preserveFragment", "skipLocationChange", "replaceUrl", "state", "click"], [3, "status", "dot", 4, "ngIf"], ["class", "text-2xl leading-6   dark:text-d-neutral-1-900 group-hover:text-primary-1 dark:group-hover:text-d-neutral-1-900 ", 3, "ngClass", 4, "ngIf"], [3, "status", "dot"], [1, "text-2xl", "leading-6", "dark:text-d-neutral-1-900", "group-hover:text-primary-1", "dark:group-hover:text-d-neutral-1-900", 3, "ngClass"], ["tds-tooltip", "", 1, "w-full", "flex", "items-center", "py-2.5", "pl-3", "pr-2.5", "rounded", "group", "hover:bg-neutral-3-50", "dark:hover:bg-d-neutral-3-300", 3, "ngClass", "tooltipTitle", "click"], ["class", "h-full", "style", "min-width: 244px;", 3, "ngClass", "margin-top", "mouseenter", "mouseleave", 4, "ngIf"], [1, "h-full", 2, "min-width", "244px", 3, "ngClass", "mouseenter", "mouseleave"], [1, "w-full", "h-full", "flex", "flex-col", "pl-1", "py-1.5", "relative"], [1, "absolute", "inset-0", "overflow-y-auto", "overflow-x-hidden", "no-scrollbar"], [1, "bg-white", "dark:bg-d-neutral-3-200", "w-full", "py-2", "rounded"]], template: function TDSMenuGroupPopupComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵprojectionDef();
        i0.ɵɵelementStart(0, "div", 0, 1);
        i0.ɵɵtemplate(2, TDSMenuGroupPopupComponent_div_2_Template, 2, 7, "div", 2);
        i0.ɵɵtemplate(3, TDSMenuGroupPopupComponent_div_3_Template, 2, 7, "div", 3);
        i0.ɵɵelementEnd();
        i0.ɵɵtemplate(4, TDSMenuGroupPopupComponent_ng_template_4_Template, 1, 1, "ng-template", 4);
        i0.ɵɵlistener("positionChange", function TDSMenuGroupPopupComponent_Template_ng_template_positionChange_4_listener($event) { return ctx.onPositionChange($event); });
    } if (rf & 2) {
        const _r0 = i0.ɵɵreference(1);
        i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(8, _c3, ctx.item.hidden));
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.hasLink);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", !ctx.hasLink);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("cdkConnectedOverlayPositions", ctx.overlayPositions)("cdkConnectedOverlayOrigin", _r0)("cdkConnectedOverlayWidth", ctx.triggerWidth)("cdkConnectedOverlayOpen", ctx.item.isOpen && !ctx.hasAllHidden)("cdkConnectedOverlayTransformOriginOn", ".tds-menu-submenu");
    } }, directives: [i3.CdkOverlayOrigin, i4.NgClass, i4.NgIf, i5.TDSTooltipDirective, i2.RouterLinkWithHref, i6.TDSBadgeComponent, i3.CdkConnectedOverlay], styles: [""], encapsulation: 2, data: { animation: [slideMotion] }, changeDetection: 0 });
__decorate([
    InputBoolean()
], TDSMenuGroupPopupComponent.prototype, "inlineCollapsed", void 0);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(TDSMenuGroupPopupComponent, [{
        type: Component,
        args: [{ selector: 'tds-menu-group-popup', changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, host: {
                    clas: "w-full flex flex-col box-border relative",
                    '(mouseenter)': 'setMouseState(true)',
                    '(mouseleave)': 'setMouseState(false)'
                }, animations: [slideMotion], template: "<div class=\"w-full flex\" [ngClass]=\"{'hidden':item.hidden}\" cdkOverlayOrigin #origin=\"cdkOverlayOrigin\">\r\n    <div *ngIf=\"hasLink\"\r\n        class=\"w-full flex items-center py-2.5 pl-3 pr-2.5  rounded group hover:bg-neutral-3-50 dark:hover:bg-d-neutral-3-300\"\r\n        [ngClass]=\"{'bg-neutral-3-50 text-primary-1 dark:bg-d-neutral-3-300':isSelected,\r\n' text-neutral-1-300':!isSelected,\r\n'cursor-pointer':!item.disabled}\" (click)=\"onClickItem($event)\" [tooltipTitle]=\"item.name\" tooltipPlacement=\"right\"\r\n        tds-button tds-tooltip>\r\n        <div class=\"h-6 w-6 flex \" *ngIf=\"hasIcon\">\r\n            <a class=\"\" (click)=\"onClickItem($event)\" [routerLink]=\"[item.link]\"\r\n                [queryParams]=\"item.linkProps?.queryParams\" [fragment]=\"item.linkProps?.fragment\"\r\n                [queryParamsHandling]=\"item.linkProps?.queryParamsHandling\"\r\n                [preserveFragment]=\"item.linkProps?.preserveFragment!\"\r\n                [skipLocationChange]=\"item.linkProps?.skipLocationChange!\" [replaceUrl]=\"item.linkProps?.replaceUrl!\"\r\n                [state]=\"item.linkProps?.state\">\r\n                <tds-badge *ngIf=\"item.dot\" [status]=\"item.dot.status\" [dot]=\"true\">\r\n                    <span  [ngClass]=\"item.icon!\"\r\n                        class=\"text-2xl leading-6   dark:text-d-neutral-1-900 group-hover:text-primary-1 dark:group-hover:text-d-neutral-1-900 \">\r\n                    </span>\r\n                </tds-badge>\r\n                <span *ngIf=\"!item.dot\" [ngClass]=\"item.icon!\"\r\n                    class=\"text-2xl leading-6   dark:text-d-neutral-1-900 group-hover:text-primary-1 dark:group-hover:text-d-neutral-1-900 \">\r\n                </span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"!hasLink\"\r\n        class=\"w-full flex items-center py-2.5 pl-3 pr-2.5 rounded group  hover:bg-neutral-3-50 dark:hover:bg-d-neutral-3-300\"\r\n        [ngClass]=\"{'bg-neutral-3-50   text-primary-1 dark:bg-d-neutral-3-300':isSelected,\r\n' text-neutral-1-300':!isSelected  && !item.isOpen,\r\n'cursor-pointer':!item.disabled}\" (click)=\"onClickItem($event)\" tds-tooltip  [tooltipTitle]=\"item.name!\">\r\n\r\n        <div class=\"h-6 w-6 flex \" *ngIf=\"hasIcon\">\r\n            <tds-badge *ngIf=\"item.dot\" [status]=\"item.dot.status\" [dot]=\"true\">\r\n                <span  [ngClass]=\"item.icon!\"\r\n                    class=\"text-2xl leading-6   dark:text-d-neutral-1-900 group-hover:text-primary-1 dark:group-hover:text-d-neutral-1-900 \">\r\n                </span>\r\n            </tds-badge>\r\n            <span *ngIf=\"!item.dot\" [ngClass]=\"item.icon!\"\r\n                class=\"text-2xl leading-6   dark:text-d-neutral-1-900 group-hover:text-primary-1 dark:group-hover:text-d-neutral-1-900 \">\r\n            </span>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<ng-template cdkConnectedOverlay (positionChange)=\"onPositionChange($event)\" cdkConnectedOverlayPanelClass=\"bottom-2.5\"\r\n    [cdkConnectedOverlayPositions]=\"overlayPositions\" [cdkConnectedOverlayOrigin]=\"origin\"\r\n    [cdkConnectedOverlayWidth]=\"triggerWidth!\" [cdkConnectedOverlayOpen]=\"item.isOpen! && !hasAllHidden\"\r\n    [cdkConnectedOverlayTransformOriginOn]=\"'.tds-menu-submenu'\">\r\n    <div *ngIf=\"hasListChild\" [ngClass]=\"mode\" class=\"h-full\" @slideMotion style=\"min-width: 244px;\"\r\n        [style.margin-top.px]=\"position == 'rightTop'? -5 : 0\" (mouseenter)='setMouseState(true)'\r\n        (mouseleave)='setMouseState(false)'>\r\n        <div class=\"w-full h-full flex flex-col  pl-1 py-1.5 relative\">\r\n            <div class=\"absolute inset-0 overflow-y-auto overflow-x-hidden no-scrollbar\">\r\n                <div class=\"bg-white dark:bg-d-neutral-3-200 w-full py-2 rounded\">\r\n                    <ng-content></ng-content>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</ng-template>", styles: [""] }]
    }], function () { return [{ type: i0.ChangeDetectorRef }, { type: i1.TDSMenuService }, { type: i2.RouterLink, decorators: [{
                type: Optional
            }] }, { type: i2.RouterLinkWithHref, decorators: [{
                type: Optional
            }] }, { type: i2.Router, decorators: [{
                type: Optional
            }] }]; }, { item: [{
            type: Input
        }], isSelected: [{
            type: Input
        }], inlineCollapsed: [{
            type: Input
        }], options: [{
            type: Input
        }], listItem: [{
            type: ContentChildren,
            args: [TDSMenuItemComponent, { descendants: true }]
        }], cdkOverlayOrigin: [{
            type: ViewChild,
            args: [CdkOverlayOrigin, { static: true, read: ElementRef }]
        }], listOfRouterLink: [{
            type: ViewChildren,
            args: [RouterLink]
        }], listOfRouterLinkWithHref: [{
            type: ViewChildren,
            args: [RouterLinkWithHref]
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGRzLW1lbnUtZ3JvdXAtcG9wdXAuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGRzLXVpL21lbnUvdGRzLW1lbnUtZ3JvdXAtcG9wdXAvdGRzLW1lbnUtZ3JvdXAtcG9wdXAuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGRzLXVpL21lbnUvdGRzLW1lbnUtZ3JvdXAtcG9wdXAvdGRzLW1lbnUtZ3JvdXAtcG9wdXAuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRyxnQkFBZ0IsRUFBa0MsTUFBTSxzQkFBc0IsQ0FBQztBQUN6RixPQUFPLEVBQUUsdUJBQXVCLEVBQXFCLFNBQVMsRUFBRSxlQUFlLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBZ0MsUUFBUSxFQUE0QixTQUFTLEVBQUUsWUFBWSxFQUFFLGlCQUFpQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3hPLE9BQU8sRUFBRSxVQUFVLEVBQUUsa0JBQWtCLEVBQVUsYUFBYSxFQUF3QixNQUFNLGlCQUFpQixDQUFDO0FBQzlHLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3RDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2xILE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDckUsT0FBTyxFQUFFLFlBQVksRUFBRSxjQUFjLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBSXZHLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLDBDQUEw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UUFDL0I7b0JBQ0osSUFBSSxFQUFFLDBDQUEwQztvQkFDaEQsY0FBYyxFQUFFLHFCQUFxQjtvQkFDckMsY0FBYyxFQUFFLHNCQUFzQjtpQkFDdkMsY0FDVyxDQUFDLFdBQVcsQ0FBQzs7c0JBaUN0QixRQUFROztzQkFDUixRQUFROztzQkFDUixRQUFRO3dCQS9CRixJQUFJO2tCQUFaLEtBQUs7WUFDRyxVQUFVO2tCQUFsQixLQUFLO1lBQ21CLGVBQWU7a0JBQXZDLEtBQUs7WUFDRyxPQUFPO2tCQUFmLEtBQUs7WUFPd0QsUUFBUTtrQkFBckUsZUFBZTttQkFBQyxvQkFBb0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUU7WUFDSyxnQkFBZ0I7a0JBQWhGLFNBQVM7bUJBQUMsZ0JBQWdCLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUU7WUFDckMsZ0JBQWdCO2tCQUF6QyxZQUFZO21CQUFDLFVBQVU7WUFDVSx3QkFBd0I7a0JBQXpELFlBQVk7bUJBQUMsa0JBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgIENka092ZXJsYXlPcmlnaW4sIENvbm5lY3RlZE92ZXJsYXlQb3NpdGlvbkNoYW5nZSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9vdmVybGF5JztcclxuaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIENvbnRlbnRDaGlsZHJlbiwgRWxlbWVudFJlZiwgSW5wdXQsIE9uQ2hhbmdlcywgT25EZXN0cm95LCBPbkluaXQsIE9wdGlvbmFsLCBRdWVyeUxpc3QsIFNpbXBsZUNoYW5nZXMsIFZpZXdDaGlsZCwgVmlld0NoaWxkcmVuLCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBSb3V0ZXJMaW5rLCBSb3V0ZXJMaW5rV2l0aEhyZWYsIFJvdXRlciwgTmF2aWdhdGlvbkVuZCwgSXNBY3RpdmVNYXRjaE9wdGlvbnMgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xyXG5pbXBvcnQgeyBtZXJnZSwgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyB0YWtlVW50aWwsIGZpbHRlciwgc3RhcnRXaXRoLCBzd2l0Y2hNYXAsIG1hcCwgZGVib3VuY2VUaW1lLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuaW1wb3J0IHsgc2xpZGVNb3Rpb24gfSBmcm9tICd0ZHMtdWkvY29yZS9hbmltYXRpb24nO1xyXG5pbXBvcnQgeyBnZXRQbGFjZW1lbnROYW1lLCBQT1NJVElPTl9NQVAgfSBmcm9tICd0ZHMtdWkvY29yZS9vdmVybGF5JztcclxuaW1wb3J0IHsgSW5wdXRCb29sZWFuLCBURFNIZWxwZXJBcnJheSwgVERTSGVscGVyT2JqZWN0LCBURFNIZWxwZXJTdHJpbmcgfSBmcm9tICd0ZHMtdWkvc2hhcmVkL3V0aWxpdHknO1xyXG5pbXBvcnQgeyBURFNNZW51T3B0aW9uRFRPIH0gZnJvbSAnLi4vZHRvL3Rkcy1tZW51LW9wdGlvbi5kdG8nO1xyXG5pbXBvcnQgeyBURFNNZW51RFRPIH0gZnJvbSAnLi4vZHRvL3Rkcy1tZW51LmR0byc7XHJcbmltcG9ydCB7IFREU01lbnVTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvbWVudS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgVERTTWVudUl0ZW1Db21wb25lbnQgfSBmcm9tICcuLi90ZHMtbWVudS1pdGVtL3Rkcy1tZW51LWl0ZW0uY29tcG9uZW50JztcclxuXHJcbmNvbnN0IGxpc3RPZlZlcnRpY2FsUG9zaXRpb25zID0gW1xyXG4gIFBPU0lUSU9OX01BUC5yaWdodFRvcCxcclxuICBQT1NJVElPTl9NQVAucmlnaHQsXHJcbiAgUE9TSVRJT05fTUFQLnJpZ2h0Qm90dG9tLFxyXG4gIC8vIFBPU0lUSU9OX01BUC5sZWZ0VG9wLFxyXG4gIFBPU0lUSU9OX01BUC5sZWZ0LFxyXG4gIC8vIFBPU0lUSU9OX01BUC5sZWZ0Qm90dG9tXHJcbl07XHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAndGRzLW1lbnUtZ3JvdXAtcG9wdXAnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi90ZHMtbWVudS1ncm91cC1wb3B1cC5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vdGRzLW1lbnUtZ3JvdXAtcG9wdXAuY29tcG9uZW50LmNzcyddLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgaG9zdDoge1xyXG4gICAgY2xhczogXCJ3LWZ1bGwgZmxleCBmbGV4LWNvbCBib3gtYm9yZGVyIHJlbGF0aXZlXCIsXHJcbiAgICAnKG1vdXNlZW50ZXIpJzogJ3NldE1vdXNlU3RhdGUodHJ1ZSknLFxyXG4gICAgJyhtb3VzZWxlYXZlKSc6ICdzZXRNb3VzZVN0YXRlKGZhbHNlKSdcclxuICB9LFxyXG4gIGFuaW1hdGlvbnM6IFtzbGlkZU1vdGlvbl0sXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBURFNNZW51R3JvdXBQb3B1cENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xyXG4gIHByaXZhdGUgZGVzdHJveSQgPSBuZXcgU3ViamVjdDx2b2lkPigpO1xyXG4gIEBJbnB1dCgpIGl0ZW0hOiBURFNNZW51RFRPO1xyXG4gIEBJbnB1dCgpIGlzU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgaW5saW5lQ29sbGFwc2VkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQElucHV0KCkgb3B0aW9uczogVERTTWVudU9wdGlvbkRUTyA9IHtcclxuICAgIGJhY2tncm91bmQ6ICdiZy13aGl0ZSBkYXJrOmJnLWQtbmV1dHJhbC0zLTIwMCcsXHJcbiAgICBiYWNrZ3JvdW5kSXRlbTogJ2JnLXdoaXRlIGRhcms6YmctZC1uZXV0cmFsLTMtMjAwJyxcclxuICAgIGJhY2tncm91bmRJdGVtU2VsZWN0ZWQ6ICdiZy1uZXV0cmFsLTMtNTAgZGFyazpiZy1kLW5ldXRyYWwtMy0zMDAnLFxyXG4gICAgYmFja2dyb3VuZEl0ZW1Ib3ZlcjogJ2Rhcms6aG92ZXI6YmctZC1uZXV0cmFsLTMtMzAwICBob3ZlcjpiZy1uZXV0cmFsLTMtNTAnXHJcbiAgfVxyXG4gIG9wZW4kID0gbmV3IFN1YmplY3Q8Ym9vbGVhbj4oKTtcclxuICBAQ29udGVudENoaWxkcmVuKFREU01lbnVJdGVtQ29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIGxpc3RJdGVtITogUXVlcnlMaXN0PFREU01lbnVJdGVtQ29tcG9uZW50PjtcclxuICBAVmlld0NoaWxkKENka092ZXJsYXlPcmlnaW4sIHsgc3RhdGljOiB0cnVlLCByZWFkOiBFbGVtZW50UmVmIH0pIGNka092ZXJsYXlPcmlnaW46IEVsZW1lbnRSZWYgfCBudWxsID0gbnVsbDtcclxuICBAVmlld0NoaWxkcmVuKFJvdXRlckxpbmspIGxpc3RPZlJvdXRlckxpbmshOiBRdWVyeUxpc3Q8Um91dGVyTGluaz47XHJcbiAgQFZpZXdDaGlsZHJlbihSb3V0ZXJMaW5rV2l0aEhyZWYpIGxpc3RPZlJvdXRlckxpbmtXaXRoSHJlZiE6IFF1ZXJ5TGlzdDxSb3V0ZXJMaW5rV2l0aEhyZWY+O1xyXG4gIElzQWN0aXZlTWF0Y2hPcHRpb25zOiBJc0FjdGl2ZU1hdGNoT3B0aW9ucyA9IHtcclxuICAgIHBhdGhzOiBcInN1YnNldFwiLFxyXG4gICAgbWF0cml4UGFyYW1zOiBcImlnbm9yZWRcIixcclxuICAgIHF1ZXJ5UGFyYW1zOiBcImlnbm9yZWRcIixcclxuICAgIGZyYWdtZW50OiBcImlnbm9yZWRcIixcclxuICB9XHJcbiAgcG9zaXRpb246IHN0cmluZyB8IHVuZGVmaW5lZCA9ICdyaWdodFRvcCc7XHJcbiAgdHJpZ2dlcldpZHRoOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuICBvdmVybGF5UG9zaXRpb25zID0gbGlzdE9mVmVydGljYWxQb3NpdGlvbnM7XHJcbiAgbW9kZTogJ2RhcmsnIHwgJ2xpZ2h0JyA9ICdkYXJrJztcclxuICBnZXQgdWlkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaXRlbSA/IHRoaXMuaXRlbS51aWQgOiBcIlwiO1xyXG4gIH1cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9jZHI6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICAgcHJpdmF0ZSB0ZHNNZW51U2VydmljZTogVERTTWVudVNlcnZpY2UsXHJcbiAgICBAT3B0aW9uYWwoKSBwcml2YXRlIHJvdXRlckxpbms/OiBSb3V0ZXJMaW5rLFxyXG4gICAgQE9wdGlvbmFsKCkgcHJpdmF0ZSByb3V0ZXJMaW5rV2l0aEhyZWY/OiBSb3V0ZXJMaW5rV2l0aEhyZWYsXHJcbiAgICBAT3B0aW9uYWwoKSBwcml2YXRlIHJvdXRlcj86IFJvdXRlclxyXG4gICkge1xyXG5cclxuICAgIGlmIChyb3V0ZXIpIHtcclxuICAgICAgdGhpcy5yb3V0ZXIhLmV2ZW50cy5waXBlKFxyXG4gICAgICAgIHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSxcclxuICAgICAgICBmaWx0ZXIoZSA9PiBlIGluc3RhbmNlb2YgTmF2aWdhdGlvbkVuZClcclxuICAgICAgKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaGFzTGlzdENoaWxkKSB7XHJcblxyXG4gICAgICAgICAgdGhpcy51cGRhdGVSb3V0ZXJBY3RpdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLm9wZW4kLnBpcGUoXHJcbiAgICAgIGRlYm91bmNlVGltZSgxMDApLFxyXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxyXG4gICAgICB0YWtlVW50aWwodGhpcy5kZXN0cm95JClcclxuICAgICkuc3Vic2NyaWJlKHJlcyA9PiB7XHJcbiAgICAgIHRoaXMuaXRlbS5pc09wZW4gPSByZXM7XHJcbiAgICAgIHRoaXMuX2Nkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy50ZHNNZW51U2VydmljZS5tb2RlJC5zdWJzY3JpYmUobW9kZSA9PiB7XHJcbiAgICAgIGlmIChURFNIZWxwZXJPYmplY3QuaGFzVmFsdWUobW9kZSkgJiYgdGhpcy5tb2RlICE9PSBtb2RlKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcclxuICAgICAgICB0aGlzLl9jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG4gIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcclxuICAgIHRoaXMubGlzdGVuSXRlbUNoYW5nZVNlbGVjdGVkKCk7XHJcbiAgfVxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5oYXNMaXN0Q2hpbGQpIHtcclxuICAgICAgdGhpcy51cGRhdGVSb3V0ZXJBY3RpdmUoKTtcclxuICAgIH1cclxuICB9XHJcbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xyXG4gICAgaWYgKGNoYW5nZXNbJ2l0ZW0nXSkge1xyXG4gICAgICB0aGlzLl9jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICB9XHJcbiAgb25DbGlja0l0ZW0oZTogRXZlbnQpIHtcclxuICAgIGlmICh0aGlzLml0ZW0uZGlzYWJsZWQpIHtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5oYXNMaXN0Q2hpbGQgfHwgIXRoaXMuaGFzQWxsSGlkZGVuKSB7XHJcbiAgICAgIHRoaXMudGRzTWVudVNlcnZpY2Uub25EZXNjZW5kYW50TWVudUl0ZW1DbGljayh0aGlzKTtcclxuICAgICAgaWYgKHRoaXMuaGFzTGluaylcclxuICAgICAgICB0aGlzLnBfTmF2aWdhdGVCeVVybCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgfVxyXG4gIGdldCBoYXNMaXN0Q2hpbGQoKSB7XHJcbiAgICByZXR1cm4gVERTSGVscGVyQXJyYXkuaGFzTGlzdFZhbHVlKHRoaXMuaXRlbS5saXN0Q2hpbGQpO1xyXG4gIH1cclxuICBnZXQgaGFzQWxsSGlkZGVuKCkge1xyXG4gICAgbGV0IGNoaWxkcyA9IHRoaXMuaXRlbS5saXN0Q2hpbGQ/LmZpbmQoZiA9PiB7IHJldHVybiAhZi5oaWRkZW4gfSk7XHJcbiAgICByZXR1cm4gY2hpbGRzID09IHVuZGVmaW5lZFxyXG4gIH1cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGVzdHJveSQubmV4dCgpO1xyXG4gICAgdGhpcy5kZXN0cm95JC5jb21wbGV0ZSgpO1xyXG4gIH1cclxuICBzZXRTZWxlY3RlZFN0YXRlKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLmlzU2VsZWN0ZWQgPSB2YWx1ZTtcclxuICAgIHRoaXMuaXRlbS5pc1NlbGVjdGVkID0gdmFsdWU7XHJcbiAgICB0aGlzLl9jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZVJvdXRlckFjdGl2ZSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmhhc0xpc3RDaGlsZCB8fCAhdGhpcy5saXN0T2ZSb3V0ZXJMaW5rIHx8ICF0aGlzLmxpc3RPZlJvdXRlckxpbmtXaXRoSHJlZiB8fCAhdGhpcy5yb3V0ZXIgfHwgIXRoaXMucm91dGVyLm5hdmlnYXRlZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcclxuICAgICAgY29uc3QgaGFzQWN0aXZlTGlua3MgPSB0aGlzLmhhc0FjdGl2ZUxpbmtzKCk7XHJcbiAgICAgIGlmICh0aGlzLmlzU2VsZWN0ZWQgIT09IGhhc0FjdGl2ZUxpbmtzKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFN0YXRlKGhhc0FjdGl2ZUxpbmtzKTtcclxuXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYXNBY3RpdmVMaW5rcygpOiBib29sZWFuIHtcclxuXHJcbiAgICBjb25zdCBpc0FjdGl2ZUNoZWNrRm4gPSB0aGlzLmlzTGlua0FjdGl2ZSh0aGlzLnJvdXRlciEpO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgKHRoaXMucm91dGVyTGluayAmJiBpc0FjdGl2ZUNoZWNrRm4odGhpcy5yb3V0ZXJMaW5rKSkgfHxcclxuICAgICAgKHRoaXMucm91dGVyTGlua1dpdGhIcmVmICYmIGlzQWN0aXZlQ2hlY2tGbih0aGlzLnJvdXRlckxpbmtXaXRoSHJlZikpIHx8XHJcbiAgICAgIHRoaXMubGlzdE9mUm91dGVyTGluay5zb21lKGlzQWN0aXZlQ2hlY2tGbikgfHxcclxuICAgICAgdGhpcy5saXN0T2ZSb3V0ZXJMaW5rV2l0aEhyZWYuc29tZShpc0FjdGl2ZUNoZWNrRm4pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc0xpbmtBY3RpdmUocm91dGVyOiBSb3V0ZXIpOiAobGluazogUm91dGVyTGluayB8IFJvdXRlckxpbmtXaXRoSHJlZikgPT4gYm9vbGVhbiB7XHJcblxyXG4gICAgcmV0dXJuIChsaW5rOiBSb3V0ZXJMaW5rIHwgUm91dGVyTGlua1dpdGhIcmVmKSA9PiByb3V0ZXIuaXNBY3RpdmUobGluay51cmxUcmVlISwgdGhpcy5Jc0FjdGl2ZU1hdGNoT3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBzZXRTZWxlY3RlZFN0YXRlTGlzdENoaWxkcmVuKHVpZDogc3RyaW5nKSB7XHJcbiAgICBpZiAoVERTSGVscGVyQXJyYXkuaGFzTGlzdFZhbHVlKHRoaXMubGlzdEl0ZW0pKSB7XHJcbiAgICAgIHRoaXMubGlzdEl0ZW0uZm9yRWFjaChmID0+IHtcclxuICAgICAgICBmLnNldFNlbGVjdGVkU3RhdGVMaXN0Q2hpbGRyZW4odWlkKTtcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICB0aGlzLnNldFNlbGVjdGVkU3RhdGUodWlkID09PSB0aGlzLnVpZCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldCBoYXNMaW5rKCkge1xyXG4gICAgcmV0dXJuICF0aGlzLml0ZW0uZGlzYWJsZWQgJiYgKCF0aGlzLmhhc0xpc3RDaGlsZCB8fCB0aGlzLmhhc0FsbEhpZGRlbikgJiYgVERTSGVscGVyT2JqZWN0Lmhhc1ZhbHVlKHRoaXMuaXRlbS5saW5rKTtcclxuICB9XHJcbiAgZ2V0IGhhc0ljb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pdGVtICYmIFREU0hlbHBlclN0cmluZy5oYXNWYWx1ZVN0cmluZyh0aGlzLml0ZW0uaWNvbik7XHJcbiAgfVxyXG5cclxuICBsaXN0ZW5JdGVtQ2hhbmdlU2VsZWN0ZWQoKSB7XHJcblxyXG4gICAgaWYgKFREU0hlbHBlckFycmF5Lmhhc0xpc3RWYWx1ZSh0aGlzLmxpc3RJdGVtKSAmJiB0aGlzLmxpc3RJdGVtLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgbGlzdE9mVERTTWVudUl0ZW1Db21wb25lbnQgPSB0aGlzLmxpc3RJdGVtO1xyXG4gICAgICBjb25zdCBjaGFuZ2VzID0gbGlzdE9mVERTTWVudUl0ZW1Db21wb25lbnQhLmNoYW5nZXM7XHJcbiAgICAgIGNvbnN0IG1lcmdlZE9ic2VydmFibGUgPSBtZXJnZSguLi5bY2hhbmdlcywgLi4ubGlzdE9mVERTTWVudUl0ZW1Db21wb25lbnQhLm1hcChtZW51ID0+IG1lbnUuc2VsZWN0ZWQkKV0pO1xyXG4gICAgICBjaGFuZ2VzXHJcbiAgICAgICAgLnBpcGUoXHJcbiAgICAgICAgICBzdGFydFdpdGgobGlzdE9mVERTTWVudUl0ZW1Db21wb25lbnQpLFxyXG4gICAgICAgICAgc3dpdGNoTWFwKCgpID0+IG1lcmdlZE9ic2VydmFibGUpLFxyXG4gICAgICAgICAgc3RhcnRXaXRoKHRydWUpLFxyXG4gICAgICAgICAgbWFwKCgpID0+IGxpc3RPZlREU01lbnVJdGVtQ29tcG9uZW50IS5zb21lKGUgPT4gZS5pc1NlbGVjdGVkKSksXHJcbiAgICAgICAgICB0YWtlVW50aWwodGhpcy5kZXN0cm95JClcclxuICAgICAgICApXHJcbiAgICAgICAgLnN1YnNjcmliZShzZWxlY3RlZCA9PiB7XHJcbiAgICAgICAgICBpZiAoc2VsZWN0ZWQgIT0gdGhpcy5pc1NlbGVjdGVkKVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzQWxsSGlkZGVuKVxyXG4gICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRTdGF0ZShzZWxlY3RlZCk7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vbOG6pXkgbGluayBoaeG7h24gdOG6oWkga2hpIHThuqV0IOG6qW4gdOG6pXQgY+G6oyBtZW51IGNvblxyXG4gICAgICAgICAgICAgIGNvbnN0IGhhc0FjdGl2ZUxpbmtzID0gdGhpcy5oYXNBY3RpdmVMaW5rcygpO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRTdGF0ZShoYXNBY3RpdmVMaW5rcyB8fCBzZWxlY3RlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBzZXRUcmlnZ2VyV2lkdGgoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jZGtPdmVybGF5T3JpZ2luKSB7XHJcbiAgICAgIC8qKiBUT0RPOiBmYXN0IGRvbSAqKi9cclxuICAgICAgdGhpcy50cmlnZ2VyV2lkdGggPSB0aGlzLmNka092ZXJsYXlPcmlnaW4hLm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgb25Qb3NpdGlvbkNoYW5nZShwb3NpdGlvbjogQ29ubmVjdGVkT3ZlcmxheVBvc2l0aW9uQ2hhbmdlKTogdm9pZCB7XHJcbiAgICBjb25zdCBwbGFjZW1lbnQgPSBnZXRQbGFjZW1lbnROYW1lKHBvc2l0aW9uKTtcclxuICAgIHRoaXMucG9zaXRpb24gPSBwbGFjZW1lbnQ7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhwbGFjZW1lbnQpXHJcbiAgICAvLyBpZiAocGxhY2VtZW50ID09PSAncmlnaHRUb3AnIHx8IHBsYWNlbWVudCA9PT0gJ3JpZ2h0Qm90dG9tJyApIHtcclxuICAgIC8vICAgdGhpcy5wb3NpdGlvbiA9ICdyaWdodFRvcCc7XHJcbiAgICAvLyB9IFxyXG4gICAgLy8gZWxzZSBpZiAocGxhY2VtZW50ID09PSAnbGVmdFRvcCcgfHwgcGxhY2VtZW50ID09PSAnbGVmdEJvdHRvbScgfHwgcGxhY2VtZW50ID09PSAnbGVmdCcpIHtcclxuICAgIC8vICAgdGhpcy5wb3NpdGlvbiA9ICdsZWZ0JztcclxuICAgIC8vIH1cclxuICAgIHRoaXMuX2Nkci5tYXJrRm9yQ2hlY2soKTtcclxuICB9XHJcbiAgc2V0T3BlblN0YXRlTGlzdENoaWxkcmVuKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICBpZiAoVERTSGVscGVyQXJyYXkuaGFzTGlzdFZhbHVlKHRoaXMubGlzdEl0ZW0pKSB7XHJcbiAgICAgIHRoaXMubGlzdEl0ZW0uZm9yRWFjaChmID0+IHtcclxuICAgICAgICBmLnNldE9wZW5DaGlsZHJlbih2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLml0ZW0uaXNPcGVuID0gdmFsdWU7XHJcbiAgICAgIHRoaXMuX2Nkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgIH1cclxuICB9XHJcbiAgc2V0TW91c2VTdGF0ZSh2YWx1ZTogYm9vbGVhbikge1xyXG5cclxuICAgIHRoaXMub3BlbiQubmV4dCh2YWx1ZSk7XHJcblxyXG4gIH1cclxuICBwcml2YXRlIHBfTmF2aWdhdGVCeVVybCgpIHtcclxuICAgIGlmICghVERTSGVscGVyT2JqZWN0Lmhhc1ZhbHVlKHRoaXMuaXRlbS5saW5rUHJvcHMpKSB7XHJcbiAgICAgIHRoaXMucm91dGVyPy5uYXZpZ2F0ZUJ5VXJsKHRoaXMuaXRlbS5saW5rKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yb3V0ZXI/Lm5hdmlnYXRlKFt0aGlzLml0ZW0ubGlua10sIHtcclxuICAgICAgICBxdWVyeVBhcmFtczogdGhpcy5pdGVtLmxpbmtQcm9wcz8ucXVlcnlQYXJhbXMsXHJcbiAgICAgICAgZnJhZ21lbnQ6IHRoaXMuaXRlbS5saW5rUHJvcHM/LmZyYWdtZW50LFxyXG4gICAgICAgIHF1ZXJ5UGFyYW1zSGFuZGxpbmc6IHRoaXMuaXRlbS5saW5rUHJvcHM/LnF1ZXJ5UGFyYW1zSGFuZGxpbmcsXHJcbiAgICAgICAgcHJlc2VydmVGcmFnbWVudDogdGhpcy5pdGVtLmxpbmtQcm9wcz8ucHJlc2VydmVGcmFnbWVudCxcclxuICAgICAgICBza2lwTG9jYXRpb25DaGFuZ2U6IHRoaXMuaXRlbS5saW5rUHJvcHM/LnNraXBMb2NhdGlvbkNoYW5nZSxcclxuICAgICAgICByZXBsYWNlVXJsOiB0aGlzLml0ZW0ubGlua1Byb3BzPy5yZXBsYWNlVXJsLFxyXG4gICAgICAgIHN0YXRlOiB0aGlzLml0ZW0ubGlua1Byb3BzPy5zdGF0ZVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCI8ZGl2IGNsYXNzPVwidy1mdWxsIGZsZXhcIiBbbmdDbGFzc109XCJ7J2hpZGRlbic6aXRlbS5oaWRkZW59XCIgY2RrT3ZlcmxheU9yaWdpbiAjb3JpZ2luPVwiY2RrT3ZlcmxheU9yaWdpblwiPlxyXG4gICAgPGRpdiAqbmdJZj1cImhhc0xpbmtcIlxyXG4gICAgICAgIGNsYXNzPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIHB5LTIuNSBwbC0zIHByLTIuNSAgcm91bmRlZCBncm91cCBob3ZlcjpiZy1uZXV0cmFsLTMtNTAgZGFyazpob3ZlcjpiZy1kLW5ldXRyYWwtMy0zMDBcIlxyXG4gICAgICAgIFtuZ0NsYXNzXT1cInsnYmctbmV1dHJhbC0zLTUwIHRleHQtcHJpbWFyeS0xIGRhcms6YmctZC1uZXV0cmFsLTMtMzAwJzppc1NlbGVjdGVkLFxyXG4nIHRleHQtbmV1dHJhbC0xLTMwMCc6IWlzU2VsZWN0ZWQsXHJcbidjdXJzb3ItcG9pbnRlcic6IWl0ZW0uZGlzYWJsZWR9XCIgKGNsaWNrKT1cIm9uQ2xpY2tJdGVtKCRldmVudClcIiBbdG9vbHRpcFRpdGxlXT1cIml0ZW0ubmFtZVwiIHRvb2x0aXBQbGFjZW1lbnQ9XCJyaWdodFwiXHJcbiAgICAgICAgdGRzLWJ1dHRvbiB0ZHMtdG9vbHRpcD5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaC02IHctNiBmbGV4IFwiICpuZ0lmPVwiaGFzSWNvblwiPlxyXG4gICAgICAgICAgICA8YSBjbGFzcz1cIlwiIChjbGljayk9XCJvbkNsaWNrSXRlbSgkZXZlbnQpXCIgW3JvdXRlckxpbmtdPVwiW2l0ZW0ubGlua11cIlxyXG4gICAgICAgICAgICAgICAgW3F1ZXJ5UGFyYW1zXT1cIml0ZW0ubGlua1Byb3BzPy5xdWVyeVBhcmFtc1wiIFtmcmFnbWVudF09XCJpdGVtLmxpbmtQcm9wcz8uZnJhZ21lbnRcIlxyXG4gICAgICAgICAgICAgICAgW3F1ZXJ5UGFyYW1zSGFuZGxpbmddPVwiaXRlbS5saW5rUHJvcHM/LnF1ZXJ5UGFyYW1zSGFuZGxpbmdcIlxyXG4gICAgICAgICAgICAgICAgW3ByZXNlcnZlRnJhZ21lbnRdPVwiaXRlbS5saW5rUHJvcHM/LnByZXNlcnZlRnJhZ21lbnQhXCJcclxuICAgICAgICAgICAgICAgIFtza2lwTG9jYXRpb25DaGFuZ2VdPVwiaXRlbS5saW5rUHJvcHM/LnNraXBMb2NhdGlvbkNoYW5nZSFcIiBbcmVwbGFjZVVybF09XCJpdGVtLmxpbmtQcm9wcz8ucmVwbGFjZVVybCFcIlxyXG4gICAgICAgICAgICAgICAgW3N0YXRlXT1cIml0ZW0ubGlua1Byb3BzPy5zdGF0ZVwiPlxyXG4gICAgICAgICAgICAgICAgPHRkcy1iYWRnZSAqbmdJZj1cIml0ZW0uZG90XCIgW3N0YXR1c109XCJpdGVtLmRvdC5zdGF0dXNcIiBbZG90XT1cInRydWVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiAgW25nQ2xhc3NdPVwiaXRlbS5pY29uIVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC0yeGwgbGVhZGluZy02ICAgZGFyazp0ZXh0LWQtbmV1dHJhbC0xLTkwMCBncm91cC1ob3Zlcjp0ZXh0LXByaW1hcnktMSBkYXJrOmdyb3VwLWhvdmVyOnRleHQtZC1uZXV0cmFsLTEtOTAwIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvdGRzLWJhZGdlPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCIhaXRlbS5kb3RcIiBbbmdDbGFzc109XCJpdGVtLmljb24hXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQtMnhsIGxlYWRpbmctNiAgIGRhcms6dGV4dC1kLW5ldXRyYWwtMS05MDAgZ3JvdXAtaG92ZXI6dGV4dC1wcmltYXJ5LTEgZGFyazpncm91cC1ob3Zlcjp0ZXh0LWQtbmV1dHJhbC0xLTkwMCBcIj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2ICpuZ0lmPVwiIWhhc0xpbmtcIlxyXG4gICAgICAgIGNsYXNzPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIHB5LTIuNSBwbC0zIHByLTIuNSByb3VuZGVkIGdyb3VwICBob3ZlcjpiZy1uZXV0cmFsLTMtNTAgZGFyazpob3ZlcjpiZy1kLW5ldXRyYWwtMy0zMDBcIlxyXG4gICAgICAgIFtuZ0NsYXNzXT1cInsnYmctbmV1dHJhbC0zLTUwICAgdGV4dC1wcmltYXJ5LTEgZGFyazpiZy1kLW5ldXRyYWwtMy0zMDAnOmlzU2VsZWN0ZWQsXHJcbicgdGV4dC1uZXV0cmFsLTEtMzAwJzohaXNTZWxlY3RlZCAgJiYgIWl0ZW0uaXNPcGVuLFxyXG4nY3Vyc29yLXBvaW50ZXInOiFpdGVtLmRpc2FibGVkfVwiIChjbGljayk9XCJvbkNsaWNrSXRlbSgkZXZlbnQpXCIgdGRzLXRvb2x0aXAgIFt0b29sdGlwVGl0bGVdPVwiaXRlbS5uYW1lIVwiPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaC02IHctNiBmbGV4IFwiICpuZ0lmPVwiaGFzSWNvblwiPlxyXG4gICAgICAgICAgICA8dGRzLWJhZGdlICpuZ0lmPVwiaXRlbS5kb3RcIiBbc3RhdHVzXT1cIml0ZW0uZG90LnN0YXR1c1wiIFtkb3RdPVwidHJ1ZVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gIFtuZ0NsYXNzXT1cIml0ZW0uaWNvbiFcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC0yeGwgbGVhZGluZy02ICAgZGFyazp0ZXh0LWQtbmV1dHJhbC0xLTkwMCBncm91cC1ob3Zlcjp0ZXh0LXByaW1hcnktMSBkYXJrOmdyb3VwLWhvdmVyOnRleHQtZC1uZXV0cmFsLTEtOTAwIFwiPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L3Rkcy1iYWRnZT5cclxuICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCIhaXRlbS5kb3RcIiBbbmdDbGFzc109XCJpdGVtLmljb24hXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC0yeGwgbGVhZGluZy02ICAgZGFyazp0ZXh0LWQtbmV1dHJhbC0xLTkwMCBncm91cC1ob3Zlcjp0ZXh0LXByaW1hcnktMSBkYXJrOmdyb3VwLWhvdmVyOnRleHQtZC1uZXV0cmFsLTEtOTAwIFwiPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+XHJcblxyXG48bmctdGVtcGxhdGUgY2RrQ29ubmVjdGVkT3ZlcmxheSAocG9zaXRpb25DaGFuZ2UpPVwib25Qb3NpdGlvbkNoYW5nZSgkZXZlbnQpXCIgY2RrQ29ubmVjdGVkT3ZlcmxheVBhbmVsQ2xhc3M9XCJib3R0b20tMi41XCJcclxuICAgIFtjZGtDb25uZWN0ZWRPdmVybGF5UG9zaXRpb25zXT1cIm92ZXJsYXlQb3NpdGlvbnNcIiBbY2RrQ29ubmVjdGVkT3ZlcmxheU9yaWdpbl09XCJvcmlnaW5cIlxyXG4gICAgW2Nka0Nvbm5lY3RlZE92ZXJsYXlXaWR0aF09XCJ0cmlnZ2VyV2lkdGghXCIgW2Nka0Nvbm5lY3RlZE92ZXJsYXlPcGVuXT1cIml0ZW0uaXNPcGVuISAmJiAhaGFzQWxsSGlkZGVuXCJcclxuICAgIFtjZGtDb25uZWN0ZWRPdmVybGF5VHJhbnNmb3JtT3JpZ2luT25dPVwiJy50ZHMtbWVudS1zdWJtZW51J1wiPlxyXG4gICAgPGRpdiAqbmdJZj1cImhhc0xpc3RDaGlsZFwiIFtuZ0NsYXNzXT1cIm1vZGVcIiBjbGFzcz1cImgtZnVsbFwiIEBzbGlkZU1vdGlvbiBzdHlsZT1cIm1pbi13aWR0aDogMjQ0cHg7XCJcclxuICAgICAgICBbc3R5bGUubWFyZ2luLXRvcC5weF09XCJwb3NpdGlvbiA9PSAncmlnaHRUb3AnPyAtNSA6IDBcIiAobW91c2VlbnRlcik9J3NldE1vdXNlU3RhdGUodHJ1ZSknXHJcbiAgICAgICAgKG1vdXNlbGVhdmUpPSdzZXRNb3VzZVN0YXRlKGZhbHNlKSc+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInctZnVsbCBoLWZ1bGwgZmxleCBmbGV4LWNvbCAgcGwtMSBweS0xLjUgcmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFic29sdXRlIGluc2V0LTAgb3ZlcmZsb3cteS1hdXRvIG92ZXJmbG93LXgtaGlkZGVuIG5vLXNjcm9sbGJhclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLXdoaXRlIGRhcms6YmctZC1uZXV0cmFsLTMtMjAwIHctZnVsbCBweS0yIHJvdW5kZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvbmctdGVtcGxhdGU+Il19