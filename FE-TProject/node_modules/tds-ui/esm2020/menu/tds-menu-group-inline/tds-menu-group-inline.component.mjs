import { CdkOverlayOrigin } from '@angular/cdk/overlay';
import { ChangeDetectionStrategy, Component, ContentChildren, ElementRef, Input, Optional, ViewChild, ViewChildren, ViewEncapsulation } from '@angular/core';
import { NavigationEnd, RouterLink, RouterLinkWithHref } from '@angular/router';
import { Subject, merge } from 'rxjs';
import { filter, map, startWith, switchMap, takeUntil } from 'rxjs/operators';
import { menuCollapseMotion } from 'tds-ui/core/animation';
import { TDSHelperArray, TDSHelperObject, TDSHelperString } from 'tds-ui/shared/utility';
import { TDSMenuItemComponent } from '../tds-menu-item/tds-menu-item.component';
import * as i0 from "@angular/core";
import * as i1 from "../services/menu.service";
import * as i2 from "@angular/router";
import * as i3 from "@angular/common";
import * as i4 from "@angular/cdk/overlay";
import * as i5 from "tds-ui/badges";
import * as i6 from "tds-ui/tag";
const _c0 = function (a0, a1) { return { "py-3": a0, "py-2": a1 }; };
function TDSMenuGroupInlineComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 12);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵclassMap(ctx_r0.options.background);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction2(4, _c0, ctx_r0.showIcon, !ctx_r0.showIcon));
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", ctx_r0.item.groupTitle, "\n");
} }
function TDSMenuGroupInlineComponent_div_3_span_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "span", 16);
} if (rf & 2) {
    const ctx_r7 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("innerHTML", ctx_r7.item.htmlIcon, i0.ɵɵsanitizeHtml);
} }
function TDSMenuGroupInlineComponent_div_3_span_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "span", 17);
} if (rf & 2) {
    const ctx_r8 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("ngClass", ctx_r8.item.icon);
} }
const _c1 = function (a0, a1) { return { "dark:text-d-neutral-1-900 text-primary-1": a0, "text-neutral-1-300 dark:text-d-neutral-1-900": a1 }; };
function TDSMenuGroupInlineComponent_div_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 13);
    i0.ɵɵtemplate(1, TDSMenuGroupInlineComponent_div_3_span_1_Template, 1, 1, "span", 14);
    i0.ɵɵtemplate(2, TDSMenuGroupInlineComponent_div_3_span_2_Template, 1, 1, "span", 15);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction2(3, _c1, ctx_r2.isSelected, !ctx_r2.isSelected));
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.item.htmlIcon);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.hasIcon && !ctx_r2.item.htmlIcon);
} }
function TDSMenuGroupInlineComponent_a_7_tds_badge_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "tds-badge", 21);
} if (rf & 2) {
    const ctx_r9 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("standalone", true)("overflowCount", ctx_r9.item.badge.overflowCount)("count", ctx_r9.item.badge.count)("tdsStyle", ctx_r9.item.badge.tdsStyle);
} }
function TDSMenuGroupInlineComponent_a_7_tds_tag_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "tds-tag", 22);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r10 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("status", ctx_r10.item.tag.status)("rounded", ctx_r10.item.tag.rounded)("type", ctx_r10.item.tag.type);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r10.item.tag.text);
} }
const _c2 = function (a0) { return [a0]; };
function TDSMenuGroupInlineComponent_a_7_Template(rf, ctx) { if (rf & 1) {
    const _r12 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "a", 18);
    i0.ɵɵlistener("click", function TDSMenuGroupInlineComponent_a_7_Template_a_click_0_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r11 = i0.ɵɵnextContext(); return ctx_r11.onClickItem($event); });
    i0.ɵɵelementStart(1, "span");
    i0.ɵɵtext(2);
    i0.ɵɵelementEnd();
    i0.ɵɵtemplate(3, TDSMenuGroupInlineComponent_a_7_tds_badge_3_Template, 1, 4, "tds-badge", 19);
    i0.ɵɵtemplate(4, TDSMenuGroupInlineComponent_a_7_tds_tag_4_Template, 2, 4, "tds-tag", 20);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r3 = i0.ɵɵnextContext();
    i0.ɵɵproperty("routerLink", i0.ɵɵpureFunction1(11, _c2, ctx_r3.item.link))("queryParams", ctx_r3.item.linkProps == null ? null : ctx_r3.item.linkProps.queryParams)("fragment", ctx_r3.item.linkProps == null ? null : ctx_r3.item.linkProps.fragment)("queryParamsHandling", ctx_r3.item.linkProps == null ? null : ctx_r3.item.linkProps.queryParamsHandling)("preserveFragment", ctx_r3.item.linkProps == null ? null : ctx_r3.item.linkProps.preserveFragment)("skipLocationChange", ctx_r3.item.linkProps == null ? null : ctx_r3.item.linkProps.skipLocationChange)("replaceUrl", ctx_r3.item.linkProps == null ? null : ctx_r3.item.linkProps.replaceUrl)("state", ctx_r3.item.linkProps == null ? null : ctx_r3.item.linkProps.state);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r3.item.name);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r3.item.badge);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r3.item.tag);
} }
function TDSMenuGroupInlineComponent_span_8_tds_badge_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "tds-badge", 21);
} if (rf & 2) {
    const ctx_r13 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("standalone", true)("overflowCount", ctx_r13.item.badge.overflowCount)("count", ctx_r13.item.badge.count)("tdsStyle", ctx_r13.item.badge.tdsStyle);
} }
function TDSMenuGroupInlineComponent_span_8_tds_tag_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "tds-tag", 22);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r14 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("status", ctx_r14.item.tag.status)("rounded", ctx_r14.item.tag.rounded)("type", ctx_r14.item.tag.type);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r14.item.tag.text);
} }
function TDSMenuGroupInlineComponent_span_8_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 23)(1, "span");
    i0.ɵɵtext(2);
    i0.ɵɵelementEnd();
    i0.ɵɵtemplate(3, TDSMenuGroupInlineComponent_span_8_tds_badge_3_Template, 1, 4, "tds-badge", 19);
    i0.ɵɵtemplate(4, TDSMenuGroupInlineComponent_span_8_tds_tag_4_Template, 2, 4, "tds-tag", 20);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r4 = i0.ɵɵnextContext();
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r4.item.name);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r4.item.badge);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r4.item.tag);
} }
const _c3 = function (a0, a1, a2, a3) { return { "rotate-90 ": a0, "rotate-0": a1, "dark:text-d-neutral-1-900 text-neutral-1-900": a2, "dark:text-d-neutral-1-400 text-neutral-1-500": a3 }; };
function TDSMenuGroupInlineComponent_span_10_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "span", 24);
} if (rf & 2) {
    const ctx_r5 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction4(1, _c3, ctx_r5.item.isOpen, !ctx_r5.item.isOpen, ctx_r5.isSelected, !ctx_r5.isSelected));
} }
const _c4 = function (a0, a1) { return { "py-2": a0, "py-1": a1 }; };
function TDSMenuGroupInlineComponent_div_11_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 25)(1, "div", 26);
    i0.ɵɵprojection(2);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r6 = i0.ɵɵnextContext();
    i0.ɵɵproperty("@menuCollapseMotion", ctx_r6.item.isOpen && !ctx_r6.hasAllHidden ? "expanded" : "collapsed");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction2(2, _c4, ctx_r6.showIcon, !ctx_r6.showIcon));
} }
const _c5 = function (a0) { return { "hidden": a0 }; };
const _c6 = function (a0, a1) { return { "dark:text-d-neutral-1-900": a0, "text-neutral-1-900 dark:text-d-neutral-1-400": a1 }; };
const _c7 = ["*"];
export class TDSMenuGroupInlineComponent {
    constructor(_cdr, tdsMenuService, routerLink, routerLinkWithHref, router) {
        this._cdr = _cdr;
        this.tdsMenuService = tdsMenuService;
        this.routerLink = routerLink;
        this.routerLinkWithHref = routerLinkWithHref;
        this.router = router;
        this.destroy$ = new Subject();
        this.showIcon = true;
        this.isSelected = false;
        this.options = {
            background: 'bg-white dark:bg-d-neutral-3-200',
            backgroundItem: 'bg-white dark:bg-d-neutral-3-200',
            backgroundItemSelected: 'bg-neutral-3-50 dark:bg-d-neutral-3-300',
            backgroundItemHover: 'dark:hover:bg-d-neutral-3-300  hover:bg-neutral-3-50'
        };
        this.cdkOverlayOrigin = null;
        this.IsActiveMatchOptions = {
            paths: "subset",
            matrixParams: "ignored",
            queryParams: "ignored",
            fragment: "ignored",
        };
        this.ngStyleItem = {};
        if (router) {
            this.router.events.pipe(takeUntil(this.destroy$), filter(e => e instanceof NavigationEnd)).subscribe(() => {
                this.updateRouterActive();
            });
        }
    }
    get uid() {
        return this.item ? this.item.uid : "";
    }
    ngOnInit() {
        this.ngStyleItem = this.getStyleItem();
    }
    ngAfterContentInit() {
        this.listenItemChangeSelected();
    }
    ngAfterViewInit() {
        if (!this.hasListChild || this.hasAllHidden) {
            this.updateRouterActive();
        }
    }
    ngOnChanges(changes) {
        if (changes['item']) {
            this._cdr.markForCheck();
        }
        if (changes.isSelected) {
            this.setSelectedState(this.isSelected);
        }
    }
    onClickItem(e) {
        if (this.item.disabled) {
            e.stopPropagation();
            e.preventDefault();
        }
        if (this.hasListChild && !this.hasAllHidden) {
            this.tdsMenuService.groupMenuOpen$.next(this);
            // this.item.isOpen = !this.item.isOpen;
        }
        else {
            if (!this.isSelected)
                this.tdsMenuService.onDescendantMenuItemClick(this);
            if (this.hasLink)
                this.p_NavigateByUrl();
        }
    }
    get hasListChild() {
        return TDSHelperArray.hasListValue(this.item.listChild);
    }
    get hasAllHidden() {
        let childs = this.item.listChild?.find(f => { return !f.hidden; });
        return childs == undefined;
    }
    get hasGroupTitle() {
        return this.item && TDSHelperString.hasValueString(this.item.groupTitle);
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
    setSelectedState(value) {
        this.isSelected = value;
        this.item.isSelected = value;
        if (this.isSelected) {
            if (!this.item.isOpen) {
                this.item.isOpen = true;
            }
        }
        this.ngStyleItem = this.getStyleItem();
        this._cdr.markForCheck();
    }
    updateRouterActive() {
        if (this.hasListChild || !this.listOfRouterLink || !this.listOfRouterLinkWithHref || !this.router || !this.router.navigated) {
            return;
        }
        Promise.resolve().then(() => {
            const hasActiveLinks = this.hasActiveLinks();
            if (this.isSelected !== hasActiveLinks) {
                this.setSelectedState(hasActiveLinks);
            }
        });
    }
    hasActiveLinks() {
        const isActiveCheckFn = this.isLinkActive(this.router);
        return ((this.routerLink && isActiveCheckFn(this.routerLink)) ||
            (this.routerLinkWithHref && isActiveCheckFn(this.routerLinkWithHref)) ||
            this.listOfRouterLink.some(isActiveCheckFn) ||
            this.listOfRouterLinkWithHref.some(isActiveCheckFn));
    }
    isLinkActive(router) {
        return (link) => router.isActive(link.urlTree, this.IsActiveMatchOptions);
    }
    setSelectedStateListChildren(uid) {
        if (TDSHelperArray.hasListValue(this.listItem)) {
            this.listItem.forEach(f => {
                f.setSelectedStateListChildren(uid);
            });
        }
        else {
            this.setSelectedState(uid === this.uid);
        }
    }
    get hasLink() {
        return !this.item.disabled && (!this.hasListChild || this.hasAllHidden) && TDSHelperObject.hasValue(this.item.link);
    }
    get hasIcon() {
        return this.showIcon && this.item && TDSHelperString.hasValueString(this.item.icon);
    }
    listenItemChangeSelected() {
        if (TDSHelperArray.hasListValue(this.listItem)) {
            const listOfTDSMenuItemComponent = this.listItem;
            const changes = listOfTDSMenuItemComponent.changes;
            const mergedObservable = merge(...[changes, ...listOfTDSMenuItemComponent.map(menu => menu.selected$)]);
            changes
                .pipe(startWith(listOfTDSMenuItemComponent), switchMap(() => mergedObservable), startWith(true), 
            // debounceTime(200),
            map(() => listOfTDSMenuItemComponent.some(e => e.isSelected)), takeUntil(this.destroy$))
                .subscribe(selected => {
                if (selected != this.isSelected) {
                    if (!this.hasAllHidden) {
                        this.setSelectedState(selected);
                    }
                    else {
                        //lấy link hiện tại khi tất ẩn tất cả menu con
                        const hasActiveLinks = this.hasActiveLinks();
                        this.setSelectedState(hasActiveLinks || selected);
                    }
                }
            });
        }
    }
    setOpenStateListChildren(value) {
        if (TDSHelperArray.hasListValue(this.listItem)) {
            this.listItem.forEach(f => {
                if (!f.hasListChild)
                    f.setOpenChildren(value);
            });
            this.item.isOpen = value;
            this._cdr.markForCheck();
        }
    }
    getStyleItem() {
        return {
            [`${this.options.backgroundItemSelected}`]: this.isSelected,
            [`${this.options.backgroundItem}`]: !this.isSelected,
            [`${this.options.backgroundItemHover}`]: true,
            [`cursor-pointer`]: !this.item.disabled,
            ['py-2.5']: this.showIcon,
            ['py-2']: !this.showIcon
        };
    }
    p_NavigateByUrl() {
        if (!TDSHelperObject.hasValue(this.item.linkProps)) {
            this.router?.navigateByUrl(this.item.link);
        }
        else {
            this.router?.navigate([this.item.link], {
                queryParams: this.item.linkProps?.queryParams,
                fragment: this.item.linkProps?.fragment,
                queryParamsHandling: this.item.linkProps?.queryParamsHandling,
                preserveFragment: this.item.linkProps?.preserveFragment,
                skipLocationChange: this.item.linkProps?.skipLocationChange,
                replaceUrl: this.item.linkProps?.replaceUrl,
                state: this.item.linkProps?.state
            });
        }
    }
}
TDSMenuGroupInlineComponent.ɵfac = function TDSMenuGroupInlineComponent_Factory(t) { return new (t || TDSMenuGroupInlineComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.TDSMenuService), i0.ɵɵdirectiveInject(i2.RouterLink, 8), i0.ɵɵdirectiveInject(i2.RouterLinkWithHref, 8), i0.ɵɵdirectiveInject(i2.Router, 8)); };
TDSMenuGroupInlineComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TDSMenuGroupInlineComponent, selectors: [["tds-menu-group-inline"]], contentQueries: function TDSMenuGroupInlineComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        i0.ɵɵcontentQuery(dirIndex, TDSMenuItemComponent, 5);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.listItem = _t);
    } }, viewQuery: function TDSMenuGroupInlineComponent_Query(rf, ctx) { if (rf & 1) {
        i0.ɵɵviewQuery(CdkOverlayOrigin, 7, ElementRef);
        i0.ɵɵviewQuery(RouterLink, 5);
        i0.ɵɵviewQuery(RouterLinkWithHref, 5);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.cdkOverlayOrigin = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.listOfRouterLink = _t);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.listOfRouterLinkWithHref = _t);
    } }, hostAttrs: ["clas", "w-full flex flex-col box-border"], inputs: { showIcon: "showIcon", item: "item", isSelected: "isSelected", options: "options" }, features: [i0.ɵɵNgOnChangesFeature], ngContentSelectors: _c7, decls: 12, vars: 14, consts: [["class", "w-full flex text body-2 font-semibold items-center  px-3  rounded group  text-neutral-1-500 dark:text-d-neutral-1-400", 3, "class", "ngClass", 4, "ngIf"], ["cdkOverlayOrigin", "", 1, "w-full", "flex", "items-center", "pl-3", "pr-2.5", "rounded", "group", 3, "ngClass", "click"], ["origin", "cdkOverlayOrigin"], ["class", "h-6 w-6 flex mr-2", 3, "ngClass", 4, "ngIf"], [1, "flex-auto", "font-semibold", "text-body-2", "dark:font-regular"], [1, "w-full", "flex", "justify-between", "dark:group-hover:text-d-neutral-1-900", 3, "ngClass"], [1, "w-full", "mr-2"], ["class", "flex items-center justify-between", 3, "routerLink", "queryParams", "fragment", "queryParamsHandling", "preserveFragment", "skipLocationChange", "replaceUrl", "state", "click", 4, "ngIf"], ["class", "flex items-center justify-between", 4, "ngIf"], [1, "flex", "justify-between"], ["class", "text-base leading-4 flex items-center justify-center tdsi-arrow-right-line transform delay-100 duration-300", 3, "ngClass", 4, "ngIf"], ["class", "w-full flex flex-col", 4, "ngIf"], [1, "w-full", "flex", "text", "body-2", "font-semibold", "items-center", "px-3", "rounded", "group", "text-neutral-1-500", "dark:text-d-neutral-1-400", 3, "ngClass"], [1, "h-6", "w-6", "flex", "mr-2", 3, "ngClass"], [3, "innerHTML", 4, "ngIf"], ["class", "text-2xl leading-6 dark:group-hover:text-d-neutral-1-900  dark:text-d-neutral-1-900", 3, "ngClass", 4, "ngIf"], [3, "innerHTML"], [1, "text-2xl", "leading-6", "dark:group-hover:text-d-neutral-1-900", "dark:text-d-neutral-1-900", 3, "ngClass"], [1, "flex", "items-center", "justify-between", 3, "routerLink", "queryParams", "fragment", "queryParamsHandling", "preserveFragment", "skipLocationChange", "replaceUrl", "state", "click"], [3, "standalone", "overflowCount", "count", "tdsStyle", 4, "ngIf"], [3, "status", "rounded", "type", 4, "ngIf"], [3, "standalone", "overflowCount", "count", "tdsStyle"], [3, "status", "rounded", "type"], [1, "flex", "items-center", "justify-between"], [1, "text-base", "leading-4", "flex", "items-center", "justify-center", "tdsi-arrow-right-line", "transform", "delay-100", "duration-300", 3, "ngClass"], [1, "w-full", "flex", "flex-col"], [1, "w-full", "flex", "flex-col", 3, "ngClass"]], template: function TDSMenuGroupInlineComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵprojectionDef();
        i0.ɵɵtemplate(0, TDSMenuGroupInlineComponent_div_0_Template, 2, 7, "div", 0);
        i0.ɵɵelementStart(1, "div", 1, 2);
        i0.ɵɵlistener("click", function TDSMenuGroupInlineComponent_Template_div_click_1_listener($event) { return ctx.onClickItem($event); });
        i0.ɵɵtemplate(3, TDSMenuGroupInlineComponent_div_3_Template, 3, 6, "div", 3);
        i0.ɵɵelementStart(4, "div", 4)(5, "div", 5)(6, "div", 6);
        i0.ɵɵtemplate(7, TDSMenuGroupInlineComponent_a_7_Template, 5, 13, "a", 7);
        i0.ɵɵtemplate(8, TDSMenuGroupInlineComponent_span_8_Template, 5, 3, "span", 8);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(9, "div", 9);
        i0.ɵɵtemplate(10, TDSMenuGroupInlineComponent_span_10_Template, 1, 6, "span", 10);
        i0.ɵɵelementEnd()()()();
        i0.ɵɵtemplate(11, TDSMenuGroupInlineComponent_div_11_Template, 3, 5, "div", 11);
    } if (rf & 2) {
        i0.ɵɵproperty("ngIf", ctx.hasGroupTitle);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(9, _c5, ctx.item.hidden))("ngClass", ctx.ngStyleItem);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.showIcon);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction2(11, _c6, ctx.isSelected, !ctx.isSelected));
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.hasLink);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", !ctx.hasLink);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.hasListChild && !ctx.hasAllHidden);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.hasListChild);
    } }, directives: [i3.NgIf, i3.NgClass, i4.CdkOverlayOrigin, i2.RouterLinkWithHref, i5.TDSBadgeComponent, i6.TDSTagComponent], styles: [""], encapsulation: 2, data: { animation: [menuCollapseMotion] }, changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(TDSMenuGroupInlineComponent, [{
        type: Component,
        args: [{ selector: 'tds-menu-group-inline', changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, animations: [menuCollapseMotion], host: {
                    clas: "w-full flex flex-col box-border",
                }, template: "<div *ngIf=\"hasGroupTitle\" [class]=\"options.background\"\r\n    class=\"w-full flex text body-2 font-semibold items-center  px-3  rounded group  text-neutral-1-500 dark:text-d-neutral-1-400\"\r\n    [ngClass]=\"{'py-3':showIcon,\r\n    'py-2':!showIcon}\">\r\n    {{item.groupTitle}}\r\n</div>\r\n<div class=\"w-full flex  items-center  pl-3 pr-2.5  rounded group\" [ngClass]=\"{'hidden':item.hidden}\" cdkOverlayOrigin\r\n    #origin=\"cdkOverlayOrigin\" [ngClass]=\"ngStyleItem\" (click)=\"onClickItem($event)\">\r\n    <div *ngIf='showIcon' class=\"h-6 w-6 flex mr-2\" [ngClass]=\"{'dark:text-d-neutral-1-900 text-primary-1':isSelected,\r\n    'text-neutral-1-300 dark:text-d-neutral-1-900':!isSelected}\">\r\n        <span *ngIf=\"item.htmlIcon\" [innerHTML]=\"item.htmlIcon\"></span>\r\n        <span *ngIf=\"hasIcon && !item.htmlIcon\" [ngClass]=\"item.icon!\"\r\n            class=\"text-2xl leading-6 dark:group-hover:text-d-neutral-1-900  dark:text-d-neutral-1-900\"></span>\r\n    </div>\r\n    <div class=\"flex-auto  font-semibold  text-body-2 dark:font-regular\">\r\n        <div class=\"w-full flex justify-between  dark:group-hover:text-d-neutral-1-900\" [ngClass]=\"{'dark:text-d-neutral-1-900':isSelected,\r\n    'text-neutral-1-900 dark:text-d-neutral-1-400':!isSelected}\">\r\n            <div class=\"w-full mr-2\">\r\n                <a class=\"flex items-center justify-between\" (click)=\"onClickItem($event)\" [routerLink]=\"[item.link]\"\r\n                    *ngIf=\"hasLink\" [queryParams]=\"item.linkProps?.queryParams\" [fragment]=\"item.linkProps?.fragment\"\r\n                    [queryParamsHandling]=\"item.linkProps?.queryParamsHandling\"\r\n                    [preserveFragment]=\"item.linkProps?.preserveFragment!\"\r\n                    [skipLocationChange]=\"item.linkProps?.skipLocationChange!\" [replaceUrl]=\"item.linkProps?.replaceUrl!\"\r\n                    [state]=\"item.linkProps?.state\"> \r\n                    <span>{{item.name}}</span>  \r\n                    <tds-badge *ngIf=\"item.badge\" [standalone]=\"true\" [overflowCount]=\"item.badge.overflowCount!\" [count]=\"item.badge.count\" [tdsStyle]=\"item.badge.tdsStyle!\"></tds-badge>\r\n                    <tds-tag *ngIf=\"item.tag\" [status]='item.tag.status!' [rounded]=\"item.tag.rounded!\" [type]=\"item.tag.type!\">{{item.tag.text}}</tds-tag>\r\n                </a>\r\n                <span class=\"flex items-center justify-between\" *ngIf=\"!hasLink\">\r\n                    <span>{{item.name}}</span>  \r\n                    <tds-badge *ngIf=\"item.badge\" [standalone]=\"true\" [overflowCount]=\"item.badge.overflowCount\" [count]=\"item.badge.count\" [tdsStyle]=\"item.badge.tdsStyle!\"></tds-badge>\r\n                    <tds-tag *ngIf=\"item.tag\" [status]='item.tag.status!' [rounded]=\"item.tag.rounded!\" [type]=\"item.tag.type!\">{{item.tag.text}}</tds-tag>\r\n                </span>\r\n            </div>\r\n            <div class=\"flex justify-between\">\r\n                <span *ngIf=\"hasListChild && !hasAllHidden\" [ngClass]=\"{'rotate-90 ':item.isOpen,'rotate-0':!item.isOpen,\r\n                'dark:text-d-neutral-1-900 text-neutral-1-900':isSelected,\r\n                'dark:text-d-neutral-1-400 text-neutral-1-500':!isSelected}\"\r\n                    class=\"text-base leading-4 flex items-center justify-center tdsi-arrow-right-line transform delay-100 duration-300\"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div *ngIf=\"hasListChild\" class=\"w-full flex flex-col\"\r\n    [@menuCollapseMotion]=\"item.isOpen && !hasAllHidden ? 'expanded' : 'collapsed'\">\r\n    <div class=\"w-full flex flex-col\" [ngClass]=\"{'py-2':showIcon,\r\n    'py-1':!showIcon}\">\r\n        <ng-content></ng-content>\r\n    </div>\r\n</div>", styles: [""] }]
    }], function () { return [{ type: i0.ChangeDetectorRef }, { type: i1.TDSMenuService }, { type: i2.RouterLink, decorators: [{
                type: Optional
            }] }, { type: i2.RouterLinkWithHref, decorators: [{
                type: Optional
            }] }, { type: i2.Router, decorators: [{
                type: Optional
            }] }]; }, { showIcon: [{
            type: Input
        }], item: [{
            type: Input
        }], isSelected: [{
            type: Input
        }], options: [{
            type: Input
        }], listItem: [{
            type: ContentChildren,
            args: [TDSMenuItemComponent, { descendants: true }]
        }], cdkOverlayOrigin: [{
            type: ViewChild,
            args: [CdkOverlayOrigin, { static: true, read: ElementRef }]
        }], listOfRouterLink: [{
            type: ViewChildren,
            args: [RouterLink]
        }], listOfRouterLinkWithHref: [{
            type: ViewChildren,
            args: [RouterLinkWithHref]
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGRzLW1lbnUtZ3JvdXAtaW5saW5lLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3Rkcy11aS9tZW51L3Rkcy1tZW51LWdyb3VwLWlubGluZS90ZHMtbWVudS1ncm91cC1pbmxpbmUuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGRzLXVpL21lbnUvdGRzLW1lbnUtZ3JvdXAtaW5saW5lL3Rkcy1tZW51LWdyb3VwLWlubGluZS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUN4RCxPQUFPLEVBQUUsdUJBQXVCLEVBQXFCLFNBQVMsRUFBRSxlQUFlLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBZ0MsUUFBUSxFQUE0QixTQUFTLEVBQUUsWUFBWSxFQUFFLGlCQUFpQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3hPLE9BQU8sRUFBd0IsYUFBYSxFQUFVLFVBQVUsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzlHLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3RDLE9BQU8sRUFBRyxNQUFNLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDL0UsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFM0QsT0FBTyxFQUFFLGNBQWMsRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFJekYsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sMENBQTBDLENBQUM7Ozs7Ozs7Ozs7SUNYaEYsK0JBR3VCO0lBQ25CLFlBQ0o7SUFBQSxpQkFBTTs7O0lBTHFCLHdDQUE0QjtJQUVuRCx1RkFDa0I7SUFD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O1lBQ0csVUFBVTtrQkFBbEIsS0FBSztZQUNHLE9BQU87a0JBQWYsS0FBSztZQU13RCxRQUFRO2tCQUFyRSxlQUFlO21CQUFDLG9CQUFvQixFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRTtZQUNLLGdCQUFnQjtrQkFBaEYsU0FBUzttQkFBQyxnQkFBZ0IsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRTtZQUNyQyxnQkFBZ0I7a0JBQXpDLFlBQVk7bUJBQUMsVUFBVTtZQUNVLHdCQUF3QjtrQkFBekQsWUFBWTttQkFBQyxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDZGtPdmVybGF5T3JpZ2luIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL292ZXJsYXknO1xyXG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ2hhbmdlRGV0ZWN0b3JSZWYsIENvbXBvbmVudCwgQ29udGVudENoaWxkcmVuLCBFbGVtZW50UmVmLCBJbnB1dCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksIE9uSW5pdCwgT3B0aW9uYWwsIFF1ZXJ5TGlzdCwgU2ltcGxlQ2hhbmdlcywgVmlld0NoaWxkLCBWaWV3Q2hpbGRyZW4sIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IElzQWN0aXZlTWF0Y2hPcHRpb25zLCBOYXZpZ2F0aW9uRW5kLCBSb3V0ZXIsIFJvdXRlckxpbmssIFJvdXRlckxpbmtXaXRoSHJlZiB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCB7IFN1YmplY3QsIG1lcmdlIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7ICBmaWx0ZXIsIG1hcCwgc3RhcnRXaXRoLCBzd2l0Y2hNYXAsIHRha2VVbnRpbCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuaW1wb3J0IHsgbWVudUNvbGxhcHNlTW90aW9uIH0gZnJvbSAndGRzLXVpL2NvcmUvYW5pbWF0aW9uJztcclxuaW1wb3J0IHsgTmdTdHlsZUludGVyZmFjZSB9IGZyb20gJ3Rkcy11aS9jb3JlL2NvbmZpZyc7XHJcbmltcG9ydCB7IFREU0hlbHBlckFycmF5LCBURFNIZWxwZXJPYmplY3QsIFREU0hlbHBlclN0cmluZyB9IGZyb20gJ3Rkcy11aS9zaGFyZWQvdXRpbGl0eSc7XHJcbmltcG9ydCB7IFREU01lbnVPcHRpb25EVE8gfSBmcm9tICcuLi9kdG8vdGRzLW1lbnUtb3B0aW9uLmR0byc7XHJcbmltcG9ydCB7IFREU01lbnVEVE8gfSBmcm9tICcuLi9kdG8vdGRzLW1lbnUuZHRvJztcclxuaW1wb3J0IHsgVERTTWVudVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9tZW51LnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBURFNNZW51SXRlbUNvbXBvbmVudCB9IGZyb20gJy4uL3Rkcy1tZW51LWl0ZW0vdGRzLW1lbnUtaXRlbS5jb21wb25lbnQnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICd0ZHMtbWVudS1ncm91cC1pbmxpbmUnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi90ZHMtbWVudS1ncm91cC1pbmxpbmUuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3Rkcy1tZW51LWdyb3VwLWlubGluZS5jb21wb25lbnQuY3NzJ10sXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICBhbmltYXRpb25zOiBbbWVudUNvbGxhcHNlTW90aW9uXSxcclxuICBob3N0OiB7XHJcbiAgICBjbGFzOiBcInctZnVsbCBmbGV4IGZsZXgtY29sIGJveC1ib3JkZXJcIixcclxuXHJcbiAgfVxyXG59KVxyXG5leHBvcnQgY2xhc3MgVERTTWVudUdyb3VwSW5saW5lQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XHJcbiAgcHJpdmF0ZSBkZXN0cm95JCA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XHJcbiAgQElucHV0KCkgc2hvd0ljb246IGJvb2xlYW4gPSB0cnVlO1xyXG4gIEBJbnB1dCgpIGl0ZW0hOiBURFNNZW51RFRPO1xyXG4gIEBJbnB1dCgpIGlzU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBASW5wdXQoKSBvcHRpb25zOiBURFNNZW51T3B0aW9uRFRPID0ge1xyXG4gICAgYmFja2dyb3VuZDogJ2JnLXdoaXRlIGRhcms6YmctZC1uZXV0cmFsLTMtMjAwJyxcclxuICAgIGJhY2tncm91bmRJdGVtOiAnYmctd2hpdGUgZGFyazpiZy1kLW5ldXRyYWwtMy0yMDAnLFxyXG4gICAgYmFja2dyb3VuZEl0ZW1TZWxlY3RlZDogJ2JnLW5ldXRyYWwtMy01MCBkYXJrOmJnLWQtbmV1dHJhbC0zLTMwMCcsXHJcbiAgICBiYWNrZ3JvdW5kSXRlbUhvdmVyOiAnZGFyazpob3ZlcjpiZy1kLW5ldXRyYWwtMy0zMDAgIGhvdmVyOmJnLW5ldXRyYWwtMy01MCdcclxuICB9XHJcbiAgQENvbnRlbnRDaGlsZHJlbihURFNNZW51SXRlbUNvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBsaXN0SXRlbSE6IFF1ZXJ5TGlzdDxURFNNZW51SXRlbUNvbXBvbmVudD47XHJcbiAgQFZpZXdDaGlsZChDZGtPdmVybGF5T3JpZ2luLCB7IHN0YXRpYzogdHJ1ZSwgcmVhZDogRWxlbWVudFJlZiB9KSBjZGtPdmVybGF5T3JpZ2luOiBFbGVtZW50UmVmIHwgbnVsbCA9IG51bGw7XHJcbiAgQFZpZXdDaGlsZHJlbihSb3V0ZXJMaW5rKSBsaXN0T2ZSb3V0ZXJMaW5rITogUXVlcnlMaXN0PFJvdXRlckxpbms+O1xyXG4gIEBWaWV3Q2hpbGRyZW4oUm91dGVyTGlua1dpdGhIcmVmKSBsaXN0T2ZSb3V0ZXJMaW5rV2l0aEhyZWYhOiBRdWVyeUxpc3Q8Um91dGVyTGlua1dpdGhIcmVmPjtcclxuICBJc0FjdGl2ZU1hdGNoT3B0aW9uczogSXNBY3RpdmVNYXRjaE9wdGlvbnMgPSB7XHJcbiAgICBwYXRoczogXCJzdWJzZXRcIixcclxuICAgIG1hdHJpeFBhcmFtczogXCJpZ25vcmVkXCIsXHJcbiAgICBxdWVyeVBhcmFtczogXCJpZ25vcmVkXCIsXHJcbiAgICBmcmFnbWVudDogXCJpZ25vcmVkXCIsXHJcbiAgfVxyXG4gIGdldCB1aWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pdGVtID8gdGhpcy5pdGVtLnVpZCA6IFwiXCI7XHJcbiAgfVxyXG4gIG5nU3R5bGVJdGVtOiBOZ1N0eWxlSW50ZXJmYWNlID0ge307XHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfY2RyOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgIHByaXZhdGUgdGRzTWVudVNlcnZpY2U6IFREU01lbnVTZXJ2aWNlLFxyXG4gICAgQE9wdGlvbmFsKCkgcHJpdmF0ZSByb3V0ZXJMaW5rPzogUm91dGVyTGluayxcclxuICAgIEBPcHRpb25hbCgpIHByaXZhdGUgcm91dGVyTGlua1dpdGhIcmVmPzogUm91dGVyTGlua1dpdGhIcmVmLFxyXG4gICAgQE9wdGlvbmFsKCkgcHJpdmF0ZSByb3V0ZXI/OiBSb3V0ZXJcclxuICApIHtcclxuXHJcbiAgICBpZiAocm91dGVyKSB7XHJcbiAgICAgIHRoaXMucm91dGVyIS5ldmVudHMucGlwZShcclxuICAgICAgICB0YWtlVW50aWwodGhpcy5kZXN0cm95JCksXHJcbiAgICAgICAgZmlsdGVyKGUgPT4gZSBpbnN0YW5jZW9mIE5hdmlnYXRpb25FbmQpXHJcbiAgICAgICkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVJvdXRlckFjdGl2ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLm5nU3R5bGVJdGVtID0gdGhpcy5nZXRTdHlsZUl0ZW0oKTtcclxuICB9XHJcbiAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xyXG4gICAgdGhpcy5saXN0ZW5JdGVtQ2hhbmdlU2VsZWN0ZWQoKTtcclxuICB9XHJcbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmhhc0xpc3RDaGlsZCB8fCB0aGlzLmhhc0FsbEhpZGRlbikge1xyXG4gICAgICB0aGlzLnVwZGF0ZVJvdXRlckFjdGl2ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG5cclxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XHJcbiAgICBpZiAoY2hhbmdlc1snaXRlbSddKSB7XHJcbiAgICAgIHRoaXMuX2Nkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgIH1cclxuICAgIGlmIChjaGFuZ2VzLmlzU2VsZWN0ZWQpIHtcclxuICAgICAgXHJcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWRTdGF0ZSh0aGlzLmlzU2VsZWN0ZWQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvbkNsaWNrSXRlbShlOiBFdmVudCkge1xyXG4gICAgaWYgKHRoaXMuaXRlbS5kaXNhYmxlZCkge1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5oYXNMaXN0Q2hpbGQgJiYgIXRoaXMuaGFzQWxsSGlkZGVuKSB7XHJcbiAgICAgIHRoaXMudGRzTWVudVNlcnZpY2UuZ3JvdXBNZW51T3BlbiQubmV4dCh0aGlzKTtcclxuICAgICAgLy8gdGhpcy5pdGVtLmlzT3BlbiA9ICF0aGlzLml0ZW0uaXNPcGVuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCF0aGlzLmlzU2VsZWN0ZWQpXHJcbiAgICAgICAgdGhpcy50ZHNNZW51U2VydmljZS5vbkRlc2NlbmRhbnRNZW51SXRlbUNsaWNrKHRoaXMpO1xyXG4gICAgICBpZiAodGhpcy5oYXNMaW5rKVxyXG4gICAgICAgIHRoaXMucF9OYXZpZ2F0ZUJ5VXJsKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldCBoYXNMaXN0Q2hpbGQoKSB7XHJcbiAgICByZXR1cm4gVERTSGVscGVyQXJyYXkuaGFzTGlzdFZhbHVlKHRoaXMuaXRlbS5saXN0Q2hpbGQpO1xyXG4gIH1cclxuICBnZXQgaGFzQWxsSGlkZGVuKCkge1xyXG4gICAgbGV0IGNoaWxkcyA9IHRoaXMuaXRlbS5saXN0Q2hpbGQ/LmZpbmQoZiA9PiB7IHJldHVybiAhZi5oaWRkZW4gfSk7XHJcbiAgICByZXR1cm4gY2hpbGRzID09IHVuZGVmaW5lZFxyXG4gIH1cclxuICBnZXQgaGFzR3JvdXBUaXRsZSgpIHtcclxuICAgIHJldHVybiB0aGlzLml0ZW0gJiYgVERTSGVscGVyU3RyaW5nLmhhc1ZhbHVlU3RyaW5nKHRoaXMuaXRlbS5ncm91cFRpdGxlKTtcclxuICB9XHJcbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICB0aGlzLmRlc3Ryb3kkLm5leHQoKTtcclxuICAgIHRoaXMuZGVzdHJveSQuY29tcGxldGUoKTtcclxuICB9XHJcbiAgc2V0U2VsZWN0ZWRTdGF0ZSh2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgdGhpcy5pc1NlbGVjdGVkID0gdmFsdWU7XHJcbiAgICB0aGlzLml0ZW0uaXNTZWxlY3RlZCA9IHZhbHVlO1xyXG4gICAgaWYgKHRoaXMuaXNTZWxlY3RlZCkge1xyXG4gICAgICBpZiAoIXRoaXMuaXRlbS5pc09wZW4pIHtcclxuICAgICAgICB0aGlzLml0ZW0uaXNPcGVuID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5uZ1N0eWxlSXRlbSA9IHRoaXMuZ2V0U3R5bGVJdGVtKCk7XHJcbiAgICB0aGlzLl9jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZVJvdXRlckFjdGl2ZSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmhhc0xpc3RDaGlsZCB8fCAhdGhpcy5saXN0T2ZSb3V0ZXJMaW5rIHx8ICF0aGlzLmxpc3RPZlJvdXRlckxpbmtXaXRoSHJlZiB8fCAhdGhpcy5yb3V0ZXIgfHwgIXRoaXMucm91dGVyLm5hdmlnYXRlZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcclxuICAgICAgY29uc3QgaGFzQWN0aXZlTGlua3MgPSB0aGlzLmhhc0FjdGl2ZUxpbmtzKCk7XHJcbiAgICAgIGlmICh0aGlzLmlzU2VsZWN0ZWQgIT09IGhhc0FjdGl2ZUxpbmtzKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFN0YXRlKGhhc0FjdGl2ZUxpbmtzKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhc0FjdGl2ZUxpbmtzKCk6IGJvb2xlYW4ge1xyXG5cclxuICAgIGNvbnN0IGlzQWN0aXZlQ2hlY2tGbiA9IHRoaXMuaXNMaW5rQWN0aXZlKHRoaXMucm91dGVyISk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgKHRoaXMucm91dGVyTGluayAmJiBpc0FjdGl2ZUNoZWNrRm4odGhpcy5yb3V0ZXJMaW5rKSkgfHxcclxuICAgICAgKHRoaXMucm91dGVyTGlua1dpdGhIcmVmICYmIGlzQWN0aXZlQ2hlY2tGbih0aGlzLnJvdXRlckxpbmtXaXRoSHJlZikpIHx8XHJcbiAgICAgIHRoaXMubGlzdE9mUm91dGVyTGluay5zb21lKGlzQWN0aXZlQ2hlY2tGbikgfHxcclxuICAgICAgdGhpcy5saXN0T2ZSb3V0ZXJMaW5rV2l0aEhyZWYuc29tZShpc0FjdGl2ZUNoZWNrRm4pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc0xpbmtBY3RpdmUocm91dGVyOiBSb3V0ZXIpOiAobGluazogUm91dGVyTGluayB8IFJvdXRlckxpbmtXaXRoSHJlZikgPT4gYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gKGxpbms6IFJvdXRlckxpbmsgfCBSb3V0ZXJMaW5rV2l0aEhyZWYpID0+IHJvdXRlci5pc0FjdGl2ZShsaW5rLnVybFRyZWUhLCB0aGlzLklzQWN0aXZlTWF0Y2hPcHRpb25zKTtcclxuICB9XHJcblxyXG4gIHNldFNlbGVjdGVkU3RhdGVMaXN0Q2hpbGRyZW4odWlkOiBzdHJpbmcpIHtcclxuICAgIGlmIChURFNIZWxwZXJBcnJheS5oYXNMaXN0VmFsdWUodGhpcy5saXN0SXRlbSkpIHtcclxuICAgICAgdGhpcy5saXN0SXRlbS5mb3JFYWNoKGYgPT4ge1xyXG4gICAgICAgIGYuc2V0U2VsZWN0ZWRTdGF0ZUxpc3RDaGlsZHJlbih1aWQpO1xyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZXRTZWxlY3RlZFN0YXRlKHVpZCA9PT0gdGhpcy51aWQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBnZXQgaGFzTGluaygpIHtcclxuICAgIHJldHVybiAhdGhpcy5pdGVtLmRpc2FibGVkICYmICghdGhpcy5oYXNMaXN0Q2hpbGQgfHwgdGhpcy5oYXNBbGxIaWRkZW4pICYmIFREU0hlbHBlck9iamVjdC5oYXNWYWx1ZSh0aGlzLml0ZW0ubGluayk7XHJcbiAgfVxyXG4gIGdldCBoYXNJY29uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc2hvd0ljb24gJiYgdGhpcy5pdGVtICYmIFREU0hlbHBlclN0cmluZy5oYXNWYWx1ZVN0cmluZyh0aGlzLml0ZW0uaWNvbik7XHJcbiAgfVxyXG5cclxuICBsaXN0ZW5JdGVtQ2hhbmdlU2VsZWN0ZWQoKSB7XHJcblxyXG4gICAgaWYgKFREU0hlbHBlckFycmF5Lmhhc0xpc3RWYWx1ZSh0aGlzLmxpc3RJdGVtKSkge1xyXG4gICAgICBjb25zdCBsaXN0T2ZURFNNZW51SXRlbUNvbXBvbmVudCA9IHRoaXMubGlzdEl0ZW07XHJcbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBsaXN0T2ZURFNNZW51SXRlbUNvbXBvbmVudCEuY2hhbmdlcztcclxuICAgICAgY29uc3QgbWVyZ2VkT2JzZXJ2YWJsZSA9IG1lcmdlKC4uLltjaGFuZ2VzLCAuLi5saXN0T2ZURFNNZW51SXRlbUNvbXBvbmVudCEubWFwKG1lbnUgPT4gbWVudS5zZWxlY3RlZCQpXSk7XHJcbiAgICAgIGNoYW5nZXNcclxuICAgICAgICAucGlwZShcclxuICAgICAgICAgIHN0YXJ0V2l0aChsaXN0T2ZURFNNZW51SXRlbUNvbXBvbmVudCksXHJcbiAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gbWVyZ2VkT2JzZXJ2YWJsZSksXHJcbiAgICAgICAgICBzdGFydFdpdGgodHJ1ZSksXHJcbiAgICAgICAgICAvLyBkZWJvdW5jZVRpbWUoMjAwKSxcclxuICAgICAgICAgIG1hcCgoKSA9PiBsaXN0T2ZURFNNZW51SXRlbUNvbXBvbmVudCEuc29tZShlID0+IGUuaXNTZWxlY3RlZCkpLFxyXG4gICAgICAgICAgdGFrZVVudGlsKHRoaXMuZGVzdHJveSQpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5zdWJzY3JpYmUoc2VsZWN0ZWQgPT4ge1xyXG4gICAgICAgICAgaWYgKHNlbGVjdGVkICE9IHRoaXMuaXNTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzQWxsSGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFN0YXRlKHNlbGVjdGVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAvL2zhuqV5IGxpbmsgaGnhu4duIHThuqFpIGtoaSB04bqldCDhuqluIHThuqV0IGPhuqMgbWVudSBjb25cclxuICAgICAgICAgICAgICBjb25zdCBoYXNBY3RpdmVMaW5rcyA9IHRoaXMuaGFzQWN0aXZlTGlua3MoKTtcclxuICAgICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkU3RhdGUoaGFzQWN0aXZlTGlua3MgfHwgc2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuICBzZXRPcGVuU3RhdGVMaXN0Q2hpbGRyZW4odmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIGlmIChURFNIZWxwZXJBcnJheS5oYXNMaXN0VmFsdWUodGhpcy5saXN0SXRlbSkpIHtcclxuICAgICAgdGhpcy5saXN0SXRlbS5mb3JFYWNoKGYgPT4ge1xyXG4gICAgICAgIGlmICghZi5oYXNMaXN0Q2hpbGQpXHJcbiAgICAgICAgICBmLnNldE9wZW5DaGlsZHJlbih2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLml0ZW0uaXNPcGVuID0gdmFsdWU7XHJcbiAgICAgIHRoaXMuX2Nkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBnZXRTdHlsZUl0ZW0oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBbYCR7dGhpcy5vcHRpb25zLmJhY2tncm91bmRJdGVtU2VsZWN0ZWR9YF06IHRoaXMuaXNTZWxlY3RlZCxcclxuICAgICAgW2Ake3RoaXMub3B0aW9ucy5iYWNrZ3JvdW5kSXRlbX1gXTogIXRoaXMuaXNTZWxlY3RlZCxcclxuICAgICAgW2Ake3RoaXMub3B0aW9ucy5iYWNrZ3JvdW5kSXRlbUhvdmVyfWBdOiB0cnVlLFxyXG4gICAgICBbYGN1cnNvci1wb2ludGVyYF06ICF0aGlzLml0ZW0uZGlzYWJsZWQsXHJcbiAgICAgIFsncHktMi41J106IHRoaXMuc2hvd0ljb24sXHJcbiAgICAgIFsncHktMiddOiAhdGhpcy5zaG93SWNvblxyXG4gICAgfVxyXG5cclxuICB9XHJcbiAgcHJpdmF0ZSBwX05hdmlnYXRlQnlVcmwoKSB7XHJcbiAgICBpZiAoIVREU0hlbHBlck9iamVjdC5oYXNWYWx1ZSh0aGlzLml0ZW0ubGlua1Byb3BzKSkge1xyXG4gICAgICB0aGlzLnJvdXRlcj8ubmF2aWdhdGVCeVVybCh0aGlzLml0ZW0ubGluaylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucm91dGVyPy5uYXZpZ2F0ZShbdGhpcy5pdGVtLmxpbmtdLCB7XHJcbiAgICAgICAgcXVlcnlQYXJhbXM6IHRoaXMuaXRlbS5saW5rUHJvcHM/LnF1ZXJ5UGFyYW1zLFxyXG4gICAgICAgIGZyYWdtZW50OiB0aGlzLml0ZW0ubGlua1Byb3BzPy5mcmFnbWVudCxcclxuICAgICAgICBxdWVyeVBhcmFtc0hhbmRsaW5nOiB0aGlzLml0ZW0ubGlua1Byb3BzPy5xdWVyeVBhcmFtc0hhbmRsaW5nLFxyXG4gICAgICAgIHByZXNlcnZlRnJhZ21lbnQ6IHRoaXMuaXRlbS5saW5rUHJvcHM/LnByZXNlcnZlRnJhZ21lbnQsXHJcbiAgICAgICAgc2tpcExvY2F0aW9uQ2hhbmdlOiB0aGlzLml0ZW0ubGlua1Byb3BzPy5za2lwTG9jYXRpb25DaGFuZ2UsXHJcbiAgICAgICAgcmVwbGFjZVVybDogdGhpcy5pdGVtLmxpbmtQcm9wcz8ucmVwbGFjZVVybCxcclxuICAgICAgICBzdGF0ZTogdGhpcy5pdGVtLmxpbmtQcm9wcz8uc3RhdGVcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiPGRpdiAqbmdJZj1cImhhc0dyb3VwVGl0bGVcIiBbY2xhc3NdPVwib3B0aW9ucy5iYWNrZ3JvdW5kXCJcclxuICAgIGNsYXNzPVwidy1mdWxsIGZsZXggdGV4dCBib2R5LTIgZm9udC1zZW1pYm9sZCBpdGVtcy1jZW50ZXIgIHB4LTMgIHJvdW5kZWQgZ3JvdXAgIHRleHQtbmV1dHJhbC0xLTUwMCBkYXJrOnRleHQtZC1uZXV0cmFsLTEtNDAwXCJcclxuICAgIFtuZ0NsYXNzXT1cInsncHktMyc6c2hvd0ljb24sXHJcbiAgICAncHktMic6IXNob3dJY29ufVwiPlxyXG4gICAge3tpdGVtLmdyb3VwVGl0bGV9fVxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cInctZnVsbCBmbGV4ICBpdGVtcy1jZW50ZXIgIHBsLTMgcHItMi41ICByb3VuZGVkIGdyb3VwXCIgW25nQ2xhc3NdPVwieydoaWRkZW4nOml0ZW0uaGlkZGVufVwiIGNka092ZXJsYXlPcmlnaW5cclxuICAgICNvcmlnaW49XCJjZGtPdmVybGF5T3JpZ2luXCIgW25nQ2xhc3NdPVwibmdTdHlsZUl0ZW1cIiAoY2xpY2spPVwib25DbGlja0l0ZW0oJGV2ZW50KVwiPlxyXG4gICAgPGRpdiAqbmdJZj0nc2hvd0ljb24nIGNsYXNzPVwiaC02IHctNiBmbGV4IG1yLTJcIiBbbmdDbGFzc109XCJ7J2Rhcms6dGV4dC1kLW5ldXRyYWwtMS05MDAgdGV4dC1wcmltYXJ5LTEnOmlzU2VsZWN0ZWQsXHJcbiAgICAndGV4dC1uZXV0cmFsLTEtMzAwIGRhcms6dGV4dC1kLW5ldXRyYWwtMS05MDAnOiFpc1NlbGVjdGVkfVwiPlxyXG4gICAgICAgIDxzcGFuICpuZ0lmPVwiaXRlbS5odG1sSWNvblwiIFtpbm5lckhUTUxdPVwiaXRlbS5odG1sSWNvblwiPjwvc3Bhbj5cclxuICAgICAgICA8c3BhbiAqbmdJZj1cImhhc0ljb24gJiYgIWl0ZW0uaHRtbEljb25cIiBbbmdDbGFzc109XCJpdGVtLmljb24hXCJcclxuICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LTJ4bCBsZWFkaW5nLTYgZGFyazpncm91cC1ob3Zlcjp0ZXh0LWQtbmV1dHJhbC0xLTkwMCAgZGFyazp0ZXh0LWQtbmV1dHJhbC0xLTkwMFwiPjwvc3Bhbj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImZsZXgtYXV0byAgZm9udC1zZW1pYm9sZCAgdGV4dC1ib2R5LTIgZGFyazpmb250LXJlZ3VsYXJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidy1mdWxsIGZsZXgganVzdGlmeS1iZXR3ZWVuICBkYXJrOmdyb3VwLWhvdmVyOnRleHQtZC1uZXV0cmFsLTEtOTAwXCIgW25nQ2xhc3NdPVwieydkYXJrOnRleHQtZC1uZXV0cmFsLTEtOTAwJzppc1NlbGVjdGVkLFxyXG4gICAgJ3RleHQtbmV1dHJhbC0xLTkwMCBkYXJrOnRleHQtZC1uZXV0cmFsLTEtNDAwJzohaXNTZWxlY3RlZH1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctZnVsbCBtci0yXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiIChjbGljayk9XCJvbkNsaWNrSXRlbSgkZXZlbnQpXCIgW3JvdXRlckxpbmtdPVwiW2l0ZW0ubGlua11cIlxyXG4gICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiaGFzTGlua1wiIFtxdWVyeVBhcmFtc109XCJpdGVtLmxpbmtQcm9wcz8ucXVlcnlQYXJhbXNcIiBbZnJhZ21lbnRdPVwiaXRlbS5saW5rUHJvcHM/LmZyYWdtZW50XCJcclxuICAgICAgICAgICAgICAgICAgICBbcXVlcnlQYXJhbXNIYW5kbGluZ109XCJpdGVtLmxpbmtQcm9wcz8ucXVlcnlQYXJhbXNIYW5kbGluZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgW3ByZXNlcnZlRnJhZ21lbnRdPVwiaXRlbS5saW5rUHJvcHM/LnByZXNlcnZlRnJhZ21lbnQhXCJcclxuICAgICAgICAgICAgICAgICAgICBbc2tpcExvY2F0aW9uQ2hhbmdlXT1cIml0ZW0ubGlua1Byb3BzPy5za2lwTG9jYXRpb25DaGFuZ2UhXCIgW3JlcGxhY2VVcmxdPVwiaXRlbS5saW5rUHJvcHM/LnJlcGxhY2VVcmwhXCJcclxuICAgICAgICAgICAgICAgICAgICBbc3RhdGVdPVwiaXRlbS5saW5rUHJvcHM/LnN0YXRlXCI+IFxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7aXRlbS5uYW1lfX08L3NwYW4+ICBcclxuICAgICAgICAgICAgICAgICAgICA8dGRzLWJhZGdlICpuZ0lmPVwiaXRlbS5iYWRnZVwiIFtzdGFuZGFsb25lXT1cInRydWVcIiBbb3ZlcmZsb3dDb3VudF09XCJpdGVtLmJhZGdlLm92ZXJmbG93Q291bnQhXCIgW2NvdW50XT1cIml0ZW0uYmFkZ2UuY291bnRcIiBbdGRzU3R5bGVdPVwiaXRlbS5iYWRnZS50ZHNTdHlsZSFcIj48L3Rkcy1iYWRnZT5cclxuICAgICAgICAgICAgICAgICAgICA8dGRzLXRhZyAqbmdJZj1cIml0ZW0udGFnXCIgW3N0YXR1c109J2l0ZW0udGFnLnN0YXR1cyEnIFtyb3VuZGVkXT1cIml0ZW0udGFnLnJvdW5kZWQhXCIgW3R5cGVdPVwiaXRlbS50YWcudHlwZSFcIj57e2l0ZW0udGFnLnRleHR9fTwvdGRzLXRhZz5cclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCIgKm5nSWY9XCIhaGFzTGlua1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7aXRlbS5uYW1lfX08L3NwYW4+ICBcclxuICAgICAgICAgICAgICAgICAgICA8dGRzLWJhZGdlICpuZ0lmPVwiaXRlbS5iYWRnZVwiIFtzdGFuZGFsb25lXT1cInRydWVcIiBbb3ZlcmZsb3dDb3VudF09XCJpdGVtLmJhZGdlLm92ZXJmbG93Q291bnRcIiBbY291bnRdPVwiaXRlbS5iYWRnZS5jb3VudFwiIFt0ZHNTdHlsZV09XCJpdGVtLmJhZGdlLnRkc1N0eWxlIVwiPjwvdGRzLWJhZGdlPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZHMtdGFnICpuZ0lmPVwiaXRlbS50YWdcIiBbc3RhdHVzXT0naXRlbS50YWcuc3RhdHVzIScgW3JvdW5kZWRdPVwiaXRlbS50YWcucm91bmRlZCFcIiBbdHlwZV09XCJpdGVtLnRhZy50eXBlIVwiPnt7aXRlbS50YWcudGV4dH19PC90ZHMtdGFnPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cImhhc0xpc3RDaGlsZCAmJiAhaGFzQWxsSGlkZGVuXCIgW25nQ2xhc3NdPVwieydyb3RhdGUtOTAgJzppdGVtLmlzT3Blbiwncm90YXRlLTAnOiFpdGVtLmlzT3BlbixcclxuICAgICAgICAgICAgICAgICdkYXJrOnRleHQtZC1uZXV0cmFsLTEtOTAwIHRleHQtbmV1dHJhbC0xLTkwMCc6aXNTZWxlY3RlZCxcclxuICAgICAgICAgICAgICAgICdkYXJrOnRleHQtZC1uZXV0cmFsLTEtNDAwIHRleHQtbmV1dHJhbC0xLTUwMCc6IWlzU2VsZWN0ZWR9XCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQtYmFzZSBsZWFkaW5nLTQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGRzaS1hcnJvdy1yaWdodC1saW5lIHRyYW5zZm9ybSBkZWxheS0xMDAgZHVyYXRpb24tMzAwXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuPGRpdiAqbmdJZj1cImhhc0xpc3RDaGlsZFwiIGNsYXNzPVwidy1mdWxsIGZsZXggZmxleC1jb2xcIlxyXG4gICAgW0BtZW51Q29sbGFwc2VNb3Rpb25dPVwiaXRlbS5pc09wZW4gJiYgIWhhc0FsbEhpZGRlbiA/ICdleHBhbmRlZCcgOiAnY29sbGFwc2VkJ1wiPlxyXG4gICAgPGRpdiBjbGFzcz1cInctZnVsbCBmbGV4IGZsZXgtY29sXCIgW25nQ2xhc3NdPVwieydweS0yJzpzaG93SWNvbixcclxuICAgICdweS0xJzohc2hvd0ljb259XCI+XHJcbiAgICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PiJdfQ==