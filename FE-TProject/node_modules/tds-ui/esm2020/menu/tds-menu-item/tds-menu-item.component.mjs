import { __decorate } from "tslib";
import { CdkOverlayOrigin } from '@angular/cdk/overlay';
import { ChangeDetectionStrategy, Component, ElementRef, Input, Optional, ViewChild, ViewChildren, ViewEncapsulation } from '@angular/core';
import { NavigationEnd, RouterLink, RouterLinkWithHref } from '@angular/router';
import { merge, Subject } from 'rxjs';
import { debounceTime, distinctUntilChanged, filter, map, startWith, switchMap, takeUntil } from 'rxjs/operators';
import { menuCollapseMotion } from 'tds-ui/core/animation';
import { InputBoolean, TDSHelperArray, TDSHelperObject, TDSHelperString } from 'tds-ui/shared/utility';
import * as i0 from "@angular/core";
import * as i1 from "../services/menu.service";
import * as i2 from "@angular/router";
import * as i3 from "@angular/common";
import * as i4 from "tds-ui/badges";
import * as i5 from "tds-ui/tag";
function TDSMenuItemComponent_a_6_tds_badge_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "tds-badge", 13);
} if (rf & 2) {
    const ctx_r4 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("standalone", true)("count", ctx_r4.item.badge.count)("tdsStyle", ctx_r4.item.badge.tdsStyle);
} }
function TDSMenuItemComponent_a_6_tds_tag_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "tds-tag", 14);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r5 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("status", ctx_r5.item.tag.status)("rounded", ctx_r5.item.tag.rounded)("type", ctx_r5.item.tag.type);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r5.item.tag.text);
} }
const _c0 = function (a0) { return { "cursor-pointer": a0 }; };
const _c1 = function (a0) { return [a0]; };
function TDSMenuItemComponent_a_6_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "a", 10)(1, "span");
    i0.ɵɵtext(2);
    i0.ɵɵelementEnd();
    i0.ɵɵtemplate(3, TDSMenuItemComponent_a_6_tds_badge_3_Template, 1, 3, "tds-badge", 11);
    i0.ɵɵtemplate(4, TDSMenuItemComponent_a_6_tds_tag_4_Template, 2, 4, "tds-tag", 12);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(12, _c0, !ctx_r0.item.disabled))("routerLink", i0.ɵɵpureFunction1(14, _c1, ctx_r0.item.link))("queryParams", ctx_r0.item.linkProps == null ? null : ctx_r0.item.linkProps.queryParams)("fragment", ctx_r0.item.linkProps == null ? null : ctx_r0.item.linkProps.fragment)("queryParamsHandling", ctx_r0.item.linkProps == null ? null : ctx_r0.item.linkProps.queryParamsHandling)("preserveFragment", ctx_r0.item.linkProps == null ? null : ctx_r0.item.linkProps.preserveFragment)("skipLocationChange", ctx_r0.item.linkProps == null ? null : ctx_r0.item.linkProps.skipLocationChange)("replaceUrl", ctx_r0.item.linkProps == null ? null : ctx_r0.item.linkProps.replaceUrl)("state", ctx_r0.item.linkProps == null ? null : ctx_r0.item.linkProps.state);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r0.item.name);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r0.item.badge);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r0.item.tag);
} }
function TDSMenuItemComponent_span_7_tds_badge_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "tds-badge", 13);
} if (rf & 2) {
    const ctx_r6 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("standalone", true)("count", ctx_r6.item.badge.count)("tdsStyle", ctx_r6.item.badge.tdsStyle);
} }
function TDSMenuItemComponent_span_7_tds_tag_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "tds-tag", 14);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r7 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("status", ctx_r7.item.tag.status)("rounded", ctx_r7.item.tag.rounded)("type", ctx_r7.item.tag.type);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r7.item.tag.text);
} }
function TDSMenuItemComponent_span_7_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 15)(1, "span");
    i0.ɵɵtext(2);
    i0.ɵɵelementEnd();
    i0.ɵɵtemplate(3, TDSMenuItemComponent_span_7_tds_badge_3_Template, 1, 3, "tds-badge", 11);
    i0.ɵɵtemplate(4, TDSMenuItemComponent_span_7_tds_tag_4_Template, 2, 4, "tds-tag", 12);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r1 = i0.ɵɵnextContext();
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r1.item.name);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r1.item.badge);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r1.item.tag);
} }
const _c2 = function (a0, a1, a2, a3) { return { "rotate-90 ": a0, "rotate-0": a1, "dark:text-d-neutral-1-900 text-neutral-1-900": a2, "dark:text-d-neutral-1-400 text-neutral-1-500": a3 }; };
function TDSMenuItemComponent_div_8_span_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "span", 18);
} if (rf & 2) {
    const ctx_r8 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction4(1, _c2, ctx_r8.item.isOpen, !ctx_r8.item.isOpen, ctx_r8.isSelected, !ctx_r8.isSelected));
} }
function TDSMenuItemComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 16);
    i0.ɵɵtemplate(1, TDSMenuItemComponent_div_8_span_1_Template, 1, 6, "span", 17);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.hasListChild && !ctx_r2.hasAllHidden);
} }
function TDSMenuItemComponent_div_9_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "tds-menu-item", 22);
} if (rf & 2) {
    const menu_r10 = ctx.$implicit;
    const ctx_r9 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("options", ctx_r9.options)("item", menu_r10)("isSelected", menu_r10.isSelected);
} }
const _c3 = function (a0, a1) { return { "pl-10 pr-2.5 ": a0, "pl-3": a1 }; };
function TDSMenuItemComponent_div_9_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 19)(1, "div", 20);
    i0.ɵɵtemplate(2, TDSMenuItemComponent_div_9_ng_template_2_Template, 1, 3, "ng-template", 21);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r3 = i0.ɵɵnextContext();
    i0.ɵɵproperty("@menuCollapseMotion", ctx_r3.item.isOpen && !ctx_r3.hasAllHidden ? "expanded" : "collapsed")("ngClass", i0.ɵɵpureFunction2(3, _c3, ctx_r3.parentIsGroup, !ctx_r3.parentIsGroup));
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngForOf", ctx_r3.item.listChild);
} }
const _c4 = function (a0, a1, a2) { return { "h-6 w-6": a0, "w-2": a1, "pl-1": a2 }; };
const _c5 = function (a0) { return { "invisible": a0 }; };
const _c6 = function (a0) { return { "text-neutral-1-500 dark:text-d-neutral-1-400": a0 }; };
const _c7 = function (a0, a1) { return { "dark:text-d-neutral-1-900 dark:font-regular text-neutral-1-900 font-semibold": a0, "dark:text-d-neutral-1-400 text-neutral-1-500": a1 }; };
export class TDSMenuItemComponent {
    constructor(_cdr, tdsMenuService, routerLink, routerLinkWithHref, router) {
        this._cdr = _cdr;
        this.tdsMenuService = tdsMenuService;
        this.routerLink = routerLink;
        this.routerLinkWithHref = routerLinkWithHref;
        this.router = router;
        this.destroy$ = new Subject();
        this.showIcon = true;
        this.isSelected = false;
        this.parentIsGroup = false;
        this.inlineCollapsed = false;
        this.options = {
            background: 'bg-white dark:bg-d-neutral-3-200',
            backgroundItem: 'bg-white dark:bg-d-neutral-3-200',
            backgroundItemSelected: 'bg-white dark:bg-d-neutral-3-200',
            backgroundItemHover: 'dark:hover:bg-d-neutral-3-300  hover:bg-neutral-3-50'
        };
        this.selected$ = new Subject();
        this.isOpenPopup = false;
        this.cdkOverlayOrigin = null;
        this.IsActiveMatchOptions = {
            paths: "subset",
            matrixParams: "ignored",
            queryParams: "ignored",
            fragment: "ignored",
        };
        this.ngStyleItem = {};
        if (router) {
            this.router.events.pipe(takeUntil(this.destroy$), filter(e => e instanceof NavigationEnd)).subscribe(() => {
                this.updateRouterActive();
            });
        }
    }
    get uid() {
        return this.item ? this.item.uid : "";
    }
    ngOnInit() {
    }
    ngAfterViewInit() {
        this.listenItemChangeSelected();
    }
    ngOnChanges(changes) {
        if (changes['item']) {
            this._cdr.markForCheck();
        }
        if (changes.isSelected) {
            this.setSelectedState(this.isSelected);
        }
    }
    onClickItem(e) {
        if (this.item.disabled) {
            e.stopPropagation();
            e.preventDefault();
        }
        if (this.hasListChild) {
            this.item.isOpen = !this.item.isOpen;
        }
        else {
            if (this.hasLink) {
                this.p_NavigateByUrl();
            }
            this.tdsMenuService.onDescendantMenuItemClick(this);
        }
    }
    get hasListChild() {
        return TDSHelperArray.hasListValue(this.item.listChild);
    }
    get hasAllHidden() {
        let childs = this.item.listChild?.find(f => { return !f.hidden; });
        return childs == undefined;
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
    setSelectedState(value) {
        this.isSelected = value;
        this.item.isSelected = value;
        this.selected$.next(value);
        if (this.isSelected) {
            if (!this.item.isOpen) {
                this.item.isOpen = true;
            }
        }
        this.ngStyleItem = this.getStyleItem();
        this._cdr.markForCheck();
    }
    updateRouterActive() {
        if (this.hasListChild || !this.listOfRouterLink || !this.listOfRouterLinkWithHref || !this.router || !this.router.navigated) {
            return;
        }
        Promise.resolve().then(() => {
            const hasActiveLinks = this.hasActiveLinks();
            if (!this.hasListChild)
                if (this.isSelected !== hasActiveLinks) {
                    this.isSelected = hasActiveLinks;
                    this.setSelectedState(this.isSelected);
                }
        });
    }
    hasActiveLinks() {
        const isActiveCheckFn = this.isLinkActive(this.router);
        return ((this.routerLink && isActiveCheckFn(this.routerLink)) ||
            (this.routerLinkWithHref && isActiveCheckFn(this.routerLinkWithHref)) ||
            this.listOfRouterLink.some(isActiveCheckFn) ||
            this.listOfRouterLinkWithHref.some(isActiveCheckFn));
    }
    isLinkActive(router) {
        return (link) => router.isActive(link.urlTree, this.IsActiveMatchOptions);
    }
    setSelectedStateListChildren(uid) {
        if (TDSHelperArray.hasListValue(this.listItem)) {
            this.listItem.forEach(f => {
                f.setSelectedStateListChildren(uid);
            });
        }
        else {
            this.setSelectedState(uid === this.uid);
        }
    }
    get hasLink() {
        return !this.item.disabled && !this.hasListChild && TDSHelperObject.hasValue(this.item.link);
    }
    get hasIcon() {
        return this.item && TDSHelperString.hasValueString(this.item.icon);
    }
    listenItemChangeSelected() {
        if (this.listOfRouterLink)
            this.listOfRouterLink.changes.pipe(takeUntil(this.destroy$)).subscribe(() => this.updateRouterActive());
        if (this.listOfRouterLinkWithHref)
            this.listOfRouterLinkWithHref.changes.pipe(takeUntil(this.destroy$)).subscribe(() => this.updateRouterActive());
        if (TDSHelperArray.hasListValue(this.listItem)) {
            const listOfTDSMenuItemComponent = this.listItem;
            const changes = listOfTDSMenuItemComponent.changes;
            const mergedObservable = merge(...[changes, ...listOfTDSMenuItemComponent.map(menu => menu.selected$)]);
            changes
                .pipe(startWith(listOfTDSMenuItemComponent), switchMap(() => mergedObservable), startWith(true), map(() => listOfTDSMenuItemComponent.some(e => e.isSelected)), debounceTime(100), distinctUntilChanged(), takeUntil(this.destroy$))
                .subscribe(selected => {
                this.setSelectedState(selected);
            });
        }
        this.updateRouterActive();
    }
    setOpen(value) {
        if (this.item.isOpen != value) {
            this.item.isOpen = value;
            this._cdr.markForCheck();
        }
    }
    setOpenChildren(value) {
        if (this.listItem.length) {
            this.listItem.forEach(f => {
                f.setOpenChildren(value);
            });
            this.setOpen(value);
        }
        this._cdr.markForCheck();
    }
    getStyleItem() {
        return {
            // [`${this.options.backgroundItemSelected}`]: this.isSelected,
            ['h-0 invisible select-none']: this.item.hidden,
            [`pl-3 pr-2.5  ${this.options.backgroundItemHover}`]: this.parentIsGroup,
            [`cursor-pointer`]: !this.item.disabled,
            ['py-2.5']: !this.item.hidden && this.showIcon,
            ['py-2']: !this.item.hidden && !this.showIcon
        };
    }
    p_NavigateByUrl() {
        if (!TDSHelperObject.hasValue(this.item.linkProps)) {
            this.router?.navigateByUrl(this.item.link);
        }
        else {
            this.router?.navigate([this.item.link], {
                queryParams: this.item.linkProps?.queryParams,
                fragment: this.item.linkProps?.fragment,
                queryParamsHandling: this.item.linkProps?.queryParamsHandling,
                preserveFragment: this.item.linkProps?.preserveFragment,
                skipLocationChange: this.item.linkProps?.skipLocationChange,
                replaceUrl: this.item.linkProps?.replaceUrl,
                state: this.item.linkProps?.state
            });
        }
    }
}
TDSMenuItemComponent.ɵfac = function TDSMenuItemComponent_Factory(t) { return new (t || TDSMenuItemComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.TDSMenuService), i0.ɵɵdirectiveInject(i2.RouterLink, 8), i0.ɵɵdirectiveInject(i2.RouterLinkWithHref, 8), i0.ɵɵdirectiveInject(i2.Router, 8)); };
TDSMenuItemComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TDSMenuItemComponent, selectors: [["tds-menu-item"]], viewQuery: function TDSMenuItemComponent_Query(rf, ctx) { if (rf & 1) {
        i0.ɵɵviewQuery(CdkOverlayOrigin, 7, ElementRef);
        i0.ɵɵviewQuery(TDSMenuItemComponent, 5);
        i0.ɵɵviewQuery(RouterLink, 5);
        i0.ɵɵviewQuery(RouterLinkWithHref, 5);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.cdkOverlayOrigin = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.listItem = _t);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.listOfRouterLink = _t);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.listOfRouterLinkWithHref = _t);
    } }, hostAttrs: ["clas", "w-full flex flex-col box-border"], inputs: { showIcon: "showIcon", item: "item", isSelected: "isSelected", parentIsGroup: "parentIsGroup", inlineCollapsed: "inlineCollapsed", options: "options", isOpenPopup: "isOpenPopup" }, features: [i0.ɵɵNgOnChangesFeature], decls: 10, vars: 20, consts: [[1, "w-full", "flex", "items-center", "group", "rounded", 3, "ngClass", "click"], [1, "flex", "mr-2", "flex-row-reverse", "items-center", "justify-between", 3, "ngClass"], ["status", "primary", 1, "!flex", "flex-row-reverse", "items-center", "justify-center", 3, "ngClass"], [1, "flex-auto", "text-body-2", "dark:font-regular", "group-hover:text-d-neutral-1-900", 3, "ngClass"], [1, "w-full", "flex", "justify-between", "group-hover:text-neutral-1-900", "dark:group-hover:text-d-neutral-1-900", 3, "ngClass"], [1, "pr-2", "w-full"], ["class", "w-full flex items-center justify-between", "routerLinkActive", "", 3, "ngClass", "routerLink", "queryParams", "fragment", "queryParamsHandling", "preserveFragment", "skipLocationChange", "replaceUrl", "state", 4, "ngIf"], ["class", "w-full flex items-center justify-between", 4, "ngIf"], ["class", "flex items-center", 4, "ngIf"], ["class", "w-full flex flex-col py-1", 3, "ngClass", 4, "ngIf"], ["routerLinkActive", "", 1, "w-full", "flex", "items-center", "justify-between", 3, "ngClass", "routerLink", "queryParams", "fragment", "queryParamsHandling", "preserveFragment", "skipLocationChange", "replaceUrl", "state"], [3, "standalone", "count", "tdsStyle", 4, "ngIf"], [3, "status", "rounded", "type", 4, "ngIf"], [3, "standalone", "count", "tdsStyle"], [3, "status", "rounded", "type"], [1, "w-full", "flex", "items-center", "justify-between"], [1, "flex", "items-center"], ["class", "text-base leading-4 flex items-center justify-center tdsi-arrow-right-line transform delay-100 duration-300", 3, "ngClass", 4, "ngIf"], [1, "text-base", "leading-4", "flex", "items-center", "justify-center", "tdsi-arrow-right-line", "transform", "delay-100", "duration-300", 3, "ngClass"], [1, "w-full", "flex", "flex-col", "py-1", 3, "ngClass"], [1, "w-full", "flex", "flex-col"], ["ngFor", "", 3, "ngForOf"], [3, "options", "item", "isSelected"]], template: function TDSMenuItemComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵelementStart(0, "div", 0);
        i0.ɵɵlistener("click", function TDSMenuItemComponent_Template_div_click_0_listener($event) { return ctx.onClickItem($event); });
        i0.ɵɵelementStart(1, "div", 1);
        i0.ɵɵelement(2, "tds-badge", 2);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(3, "div", 3)(4, "div", 4)(5, "div", 5);
        i0.ɵɵtemplate(6, TDSMenuItemComponent_a_6_Template, 5, 16, "a", 6);
        i0.ɵɵtemplate(7, TDSMenuItemComponent_span_7_Template, 5, 3, "span", 7);
        i0.ɵɵelementEnd();
        i0.ɵɵtemplate(8, TDSMenuItemComponent_div_8_Template, 2, 1, "div", 8);
        i0.ɵɵelementEnd()()();
        i0.ɵɵtemplate(9, TDSMenuItemComponent_div_9_Template, 3, 6, "div", 9);
    } if (rf & 2) {
        i0.ɵɵproperty("ngClass", ctx.ngStyleItem);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction3(9, _c4, ctx.parentIsGroup && ctx.showIcon, !ctx.parentIsGroup || !ctx.showIcon, ctx.parentIsGroup && !ctx.showIcon));
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(13, _c5, !(ctx.isSelected && !ctx.hasListChild)));
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(15, _c6, !ctx.isSelected));
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction2(17, _c7, ctx.isSelected, !ctx.isSelected));
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.hasLink);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", !ctx.hasLink);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.hasListChild && !ctx.hasAllHidden);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.hasListChild);
    } }, directives: [i3.NgClass, i4.TDSBadgeComponent, i3.NgIf, i2.RouterLinkWithHref, i2.RouterLinkActive, i5.TDSTagComponent, i3.NgForOf, TDSMenuItemComponent], styles: [""], encapsulation: 2, data: { animation: [menuCollapseMotion] }, changeDetection: 0 });
__decorate([
    InputBoolean()
], TDSMenuItemComponent.prototype, "parentIsGroup", void 0);
__decorate([
    InputBoolean()
], TDSMenuItemComponent.prototype, "inlineCollapsed", void 0);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(TDSMenuItemComponent, [{
        type: Component,
        args: [{ selector: 'tds-menu-item', changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, animations: [menuCollapseMotion], host: {
                    clas: "w-full flex flex-col box-border",
                }, template: "<div class=\"w-full flex items-center group rounded\" [ngClass]=\"ngStyleItem\" (click)=\"onClickItem($event)\">\r\n    <div class=\" flex mr-2  flex-row-reverse items-center justify-between\"\r\n        [ngClass]=\"{'h-6 w-6':parentIsGroup && showIcon,'w-2':!parentIsGroup || !showIcon,'pl-1':parentIsGroup && !showIcon }\">\r\n        <tds-badge class=\"!flex flex-row-reverse items-center justify-center\"\r\n            [ngClass]=\"{'invisible':!(isSelected && !hasListChild)}\" status=\"primary\">\r\n        </tds-badge>\r\n\r\n    </div>\r\n    <div class=\"flex-auto  text-body-2  dark:font-regular group-hover:text-d-neutral-1-900\"\r\n        [ngClass]=\"{'text-neutral-1-500 dark:text-d-neutral-1-400':!isSelected}\">\r\n        <div class=\"w-full flex justify-between group-hover:text-neutral-1-900 dark:group-hover:text-d-neutral-1-900 \"\r\n            [ngClass]=\"{'dark:text-d-neutral-1-900 dark:font-regular text-neutral-1-900 font-semibold':isSelected,'dark:text-d-neutral-1-400 text-neutral-1-500':!isSelected}\">\r\n            <div class=\"pr-2 w-full\">\r\n                <a [ngClass]=\"{'cursor-pointer':!item.disabled}\" class=\"w-full flex items-center justify-between\"\r\n                    [routerLink]=\"[item.link]\" *ngIf=\"hasLink\" [queryParams]=\"item.linkProps?.queryParams\"\r\n                    [fragment]=\"item.linkProps?.fragment\" [queryParamsHandling]=\"item.linkProps?.queryParamsHandling\"\r\n                    [preserveFragment]=\"item.linkProps?.preserveFragment!\"\r\n                    [skipLocationChange]=\"item.linkProps?.skipLocationChange!\" [replaceUrl]=\"item.linkProps?.replaceUrl!\"\r\n                    [state]=\"item.linkProps?.state\" routerLinkActive>\r\n                    <span>{{item.name}}</span>\r\n                    <tds-badge *ngIf=\"item.badge\" [standalone]=\"true\" [count]=\"item.badge.count\"\r\n                        [tdsStyle]=\"item.badge.tdsStyle!\"></tds-badge>\r\n                    <tds-tag *ngIf=\"item.tag\" [status]='item.tag.status!' [rounded]=\"item.tag.rounded!\"\r\n                        [type]=\"item.tag.type!\">{{item.tag.text}}</tds-tag>\r\n                </a>\r\n                <span class=\"w-full flex items-center justify-between\" *ngIf=\"!hasLink\">\r\n                    <span>{{item.name}}</span>\r\n                    <tds-badge *ngIf=\"item.badge\" [standalone]=\"true\" [count]=\"item.badge.count!\"\r\n                        [tdsStyle]=\"item.badge.tdsStyle!\"></tds-badge>\r\n                    <tds-tag *ngIf=\"item.tag\" [status]='item.tag.status!' [rounded]=\"item.tag.rounded!\"\r\n                        [type]=\"item.tag.type!\">{{item.tag.text!}}</tds-tag>\r\n                </span>\r\n            </div>\r\n            <div *ngIf=\"hasListChild && !hasAllHidden\" class=\"flex items-center\">\r\n                <span *ngIf=\"hasListChild && !hasAllHidden\" [ngClass]=\"{'rotate-90 ':item.isOpen,'rotate-0':!item.isOpen,\r\n                    'dark:text-d-neutral-1-900 text-neutral-1-900':isSelected,\r\n                    'dark:text-d-neutral-1-400 text-neutral-1-500':!isSelected}\"\r\n                    class=\"text-base leading-4 flex items-center justify-center tdsi-arrow-right-line transform delay-100 duration-300\"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- <div *ngIf=\"hasListChild\" class=\"w-full flex flex-col py-2\"\r\n    [@menuCollapseMotion]=\"item.isOpen && !hasAllHidden ? 'expanded' : 'collapsed'\"\r\n    [ngClass]=\"{'h-0 overflow-hidden w-0': !item.isOpen || inlineCollapsed,'pl-10 pr-2.5 ':parentIsGroup,'pl-3':!parentIsGroup && !parentIsRoot}\">\r\n  \r\n</div> -->\r\n<div *ngIf=\"hasListChild\" class=\"w-full flex flex-col py-1\"\r\n    [@menuCollapseMotion]=\"item.isOpen && !hasAllHidden ? 'expanded' : 'collapsed'\"\r\n    [ngClass]=\"{'pl-10 pr-2.5 ':parentIsGroup,'pl-3':!parentIsGroup}\"\r\n    >\r\n    <div class=\"w-full flex flex-col\">\r\n        <ng-template ngFor let-menu [ngForOf]=\"item.listChild\">\r\n            <tds-menu-item [options]=\"options\" [item]=\"menu\" [isSelected]=\"menu.isSelected!\">\r\n            </tds-menu-item>\r\n        </ng-template>\r\n    </div>\r\n</div>", styles: [""] }]
    }], function () { return [{ type: i0.ChangeDetectorRef }, { type: i1.TDSMenuService }, { type: i2.RouterLink, decorators: [{
                type: Optional
            }] }, { type: i2.RouterLinkWithHref, decorators: [{
                type: Optional
            }] }, { type: i2.Router, decorators: [{
                type: Optional
            }] }]; }, { showIcon: [{
            type: Input
        }], item: [{
            type: Input
        }], isSelected: [{
            type: Input
        }], parentIsGroup: [{
            type: Input
        }], inlineCollapsed: [{
            type: Input
        }], options: [{
            type: Input
        }], isOpenPopup: [{
            type: Input
        }], listItem: [{
            type: ViewChildren,
            args: [TDSMenuItemComponent]
        }], cdkOverlayOrigin: [{
            type: ViewChild,
            args: [CdkOverlayOrigin, { static: true, read: ElementRef }]
        }], listOfRouterLink: [{
            type: ViewChildren,
            args: [RouterLink]
        }], listOfRouterLinkWithHref: [{
            type: ViewChildren,
            args: [RouterLinkWithHref]
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGRzLW1lbnUtaXRlbS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy90ZHMtdWkvbWVudS90ZHMtbWVudS1pdGVtL3Rkcy1tZW51LWl0ZW0uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGRzLXVpL21lbnUvdGRzLW1lbnUtaXRlbS90ZHMtbWVudS1pdGVtLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUN4RCxPQUFPLEVBQ0wsdUJBQXVCLEVBRXZCLFNBQVMsRUFDVCxVQUFVLEVBQ1YsS0FBSyxFQUlMLFFBQVEsRUFHUixTQUFTLEVBQ1QsWUFBWSxFQUNaLGlCQUFpQixFQUNsQixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQXdCLGFBQWEsRUFBVSxVQUFVLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM5RyxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUN0QyxPQUFPLEVBQUUsWUFBWSxFQUFFLG9CQUFvQixFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNsSCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUUzRCxPQUFPLEVBQUUsWUFBWSxFQUFFLGNBQWMsRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7Ozs7Ozs7O0lDRm5GLGdDQUNrRDs7O0lBRHBCLGlDQUFtQixrQ0FBQSx3Q0FBQTs7O0lBRWpELG1DQUM0QjtJQUFBLFlBQWlCO0lBQUEsaUJBQVU7OztJQUQ3QiwrQ0FBMkIsb0NBQUEsOEJBQUE7SUFDekIsZUFBaUI7SUFBakIsMENBQWlCOzs7OztJQVZqRCw2QkFLcUQsV0FBQTtJQUMzQyxZQUFhO0lBQUEsaUJBQU87SUFDMUIsc0ZBQ2tEO0lBQ2xELGtGQUN1RDtJQUMzRCxpQkFBSTs7O0lBWEQsNEVBQTZDLDZEQUFBLHlGQUFBLG1GQUFBLHlHQUFBLG1HQUFBLHVHQUFBLHVGQUFBLDZFQUFBO0lBTXRDLGVBQWE7SUFBYixzQ0FBYTtJQUNQLGVBQWdCO0lBQWhCLHdDQUFnQjtJQUVsQixlQUFjO0lBQWQsc0NBQWM7OztJQUt4QixnQ0FDa0Q7OztJQURwQixpQ0FBbUIsa0NBQUEsd0NBQUE7OztJQUVqRCxtQ0FDNEI7SUFBQSxZQUFrQjtJQUFBLGlCQUFVOzs7SUFEOUIsK0NBQTJCLG9DQUFBLDhCQUFBO0lBQ3pCLGVBQWtCO0lBQWxCLDBDQUFrQjs7O0lBTGxELGdDQUF3RSxXQUFBO0lBQzlELFlBQWE7SUFBQSxpQkFBTztJQUMxQix5RkFDa0Q7SUFDbEQscUZBQ3dEO0lBQzVELGlCQUFPOzs7SUFMRyxlQUFhO0lBQWIsc0NBQWE7SUFDUCxlQUFnQjtJQUFoQix3Q0FBZ0I7SUFFbEIsZUFBYztJQUFkLHNDQUFjOzs7O0lBSzVCLDJCQUcrSDs7O0lBSG5GLG9JQUVvQjs7O0lBSHBFLCtCQUFxRTtJQUNqRSw4RUFHK0g7SUFDbkksaUJBQU07OztJQUpLLGVBQW1DO0lBQW5DLGtFQUFtQzs7O0lBb0I5QyxvQ0FDZ0I7Ozs7SUFERCx3Q0FBbUIsa0JBQUEsbUNBQUE7Ozs7SUFOOUMsK0JBR0ssY0FBQTtJQUVHLDRGQUdjO0lBQ2xCLGlCQUFNLEVBQUE7OztJQVJOLDJHQUErRSxvRkFBQTtJQUkvQyxlQUEwQjtJQUExQiwrQ0FBMEI7Ozs7OztBRGQ5RCxNQUFNLE9BQU8sb0JBQW9CO0lBOEIvQixZQUFvQixJQUF1QixFQUNqQyxjQUE4QixFQUNsQixVQUF1QixFQUN2QixrQkFBdUMsRUFDdkMsTUFBZTtRQUpqQixTQUFJLEdBQUosSUFBSSxDQUFtQjtRQUNqQyxtQkFBYyxHQUFkLGNBQWMsQ0FBZ0I7UUFDbEIsZUFBVSxHQUFWLFVBQVUsQ0FBYTtRQUN2Qix1QkFBa0IsR0FBbEIsa0JBQWtCLENBQXFCO1FBQ3ZDLFdBQU0sR0FBTixNQUFNLENBQVM7UUFqQzdCLGFBQVEsR0FBRyxJQUFJLE9BQU8sRUFBUSxDQUFDO1FBQzlCLGFBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsZUFBVSxHQUFZLEtBQUssQ0FBQztRQUNaLGtCQUFhLEdBQVksS0FBSyxDQUFDO1FBQy9CLG9CQUFlLEdBQVksS0FBSyxDQUFDO1FBQ2pELFlBQU8sR0FBcUI7WUFDbkMsVUFBVSxFQUFFLGtDQUFrQztZQUM5QyxjQUFjLEVBQUUsa0NBQWtDO1lBQ2xELHNCQUFzQixFQUFFLGtDQUFrQztZQUMxRCxtQkFBbUIsRUFBRSxzREFBc0Q7U0FDNUUsQ0FBQTtRQUNELGNBQVMsR0FBRyxJQUFJLE9BQU8sRUFBVyxDQUFDO1FBQzFCLGdCQUFXLEdBQVksS0FBSyxDQUFDO1FBRTJCLHFCQUFnQixHQUFzQixJQUFJLENBQUM7UUFHNUcseUJBQW9CLEdBQXlCO1lBQzNDLEtBQUssRUFBRSxRQUFRO1lBQ2YsWUFBWSxFQUFFLFNBQVM7WUFDdkIsV0FBVyxFQUFFLFNBQVM7WUFDdEIsUUFBUSxFQUFFLFNBQVM7U0FDcEIsQ0FBQTtRQUNELGdCQUFXLEdBQXFCLEVBQUUsQ0FBQztRQVlqQyxJQUFJLE1BQU0sRUFBRTtZQUNWLElBQUksQ0FBQyxNQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FDdEIsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFDeEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxZQUFZLGFBQWEsQ0FBQyxDQUN4QyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQ2YsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFDNUIsQ0FBQyxDQUFDLENBQUM7U0FDSjtJQUdILENBQUM7SUFwQkQsSUFBSSxHQUFHO1FBQ0wsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ3hDLENBQUM7SUFvQkQsUUFBUTtJQUVSLENBQUM7SUFDRCxlQUFlO1FBQ2IsSUFBSSxDQUFDLHdCQUF3QixFQUFFLENBQUM7SUFFbEMsQ0FBQztJQUNELFdBQVcsQ0FBQyxPQUFzQjtRQUNoQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1NBQzFCO1FBQ0QsSUFBSSxPQUFPLENBQUMsVUFBVSxFQUFFO1lBQ3RCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDeEM7SUFFSCxDQUFDO0lBRUQsV0FBVyxDQUFDLENBQVE7UUFFbEIsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUN0QixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDcEIsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1NBQ3BCO1FBQ0QsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7U0FDdEM7YUFBTTtZQUNMLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO2FBQ3hCO1lBQ0QsSUFBSSxDQUFDLGNBQWMsQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUVyRDtJQUNILENBQUM7SUFFRCxJQUFJLFlBQVk7UUFDZCxPQUFPLGNBQWMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBQ0QsSUFBSSxZQUFZO1FBQ2QsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsRSxPQUFPLE1BQU0sSUFBSSxTQUFTLENBQUE7SUFDNUIsQ0FBQztJQUNELFdBQVc7UUFDVCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7SUFFM0IsQ0FBQztJQUNELGdCQUFnQixDQUFDLEtBQWM7UUFDN0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1FBQzdCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQzthQUN6QjtTQUNGO1FBQ0QsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDdkMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBRU8sa0JBQWtCO1FBQ3hCLElBQUksSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsSUFBSSxDQUFDLElBQUksQ0FBQyx3QkFBd0IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRTtZQUMzSCxPQUFPO1NBQ1I7UUFDRCxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUMxQixNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDN0MsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZO2dCQUNwQixJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssY0FBYyxFQUFFO29CQUN0QyxJQUFJLENBQUMsVUFBVSxHQUFHLGNBQWMsQ0FBQztvQkFDakMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztpQkFDeEM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFTyxjQUFjO1FBRXBCLE1BQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU8sQ0FBQyxDQUFDO1FBQ3hELE9BQU8sQ0FDTCxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNyRCxDQUFDLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDckUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7WUFDM0MsSUFBSSxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FDcEQsQ0FBQztJQUNKLENBQUM7SUFFTyxZQUFZLENBQUMsTUFBYztRQUVqQyxPQUFPLENBQUMsSUFBcUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBUSxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQzlHLENBQUM7SUFFRCw0QkFBNEIsQ0FBQyxHQUFXO1FBQ3RDLElBQUksY0FBYyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDOUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3hCLENBQUMsQ0FBQyw0QkFBNEIsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN0QyxDQUFDLENBQUMsQ0FBQTtTQUNIO2FBQU07WUFDTCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN6QztJQUNILENBQUM7SUFDRCxJQUFJLE9BQU87UUFDVCxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxJQUFJLGVBQWUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMvRixDQUFDO0lBQ0QsSUFBSSxPQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUMsSUFBSSxJQUFJLGVBQWUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyRSxDQUFDO0lBRUQsd0JBQXdCO1FBQ3RCLElBQUksSUFBSSxDQUFDLGdCQUFnQjtZQUN2QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLENBQUM7UUFDMUcsSUFBSSxJQUFJLENBQUMsd0JBQXdCO1lBQy9CLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQztRQUVsSCxJQUFJLGNBQWMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQzlDLE1BQU0sMEJBQTBCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNqRCxNQUFNLE9BQU8sR0FBRywwQkFBMkIsQ0FBQyxPQUFPLENBQUM7WUFDcEQsTUFBTSxnQkFBZ0IsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxHQUFHLDBCQUEyQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekcsT0FBTztpQkFDSixJQUFJLENBQ0gsU0FBUyxDQUFDLDBCQUEwQixDQUFDLEVBQ3JDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUNqQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQ2YsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLDBCQUEyQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUM5RCxZQUFZLENBQUMsR0FBRyxDQUFDLEVBQ2pCLG9CQUFvQixFQUFFLEVBQ3RCLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQ3pCO2lCQUNBLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRTtnQkFDcEIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2xDLENBQUMsQ0FBQyxDQUFDO1NBQ047UUFDRCxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRUQsT0FBTyxDQUFDLEtBQWM7UUFDcEIsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxLQUFLLEVBQUU7WUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7U0FDMUI7SUFDSCxDQUFDO0lBQ0QsZUFBZSxDQUFDLEtBQWM7UUFDNUIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRTtZQUN4QixJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDeEIsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQTtZQUMxQixDQUFDLENBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDckI7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFDRCxZQUFZO1FBQ1YsT0FBTztZQUNMLCtEQUErRDtZQUMvRCxDQUFDLDJCQUEyQixDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNO1lBQy9DLENBQUMsZ0JBQWdCLElBQUksQ0FBQyxPQUFPLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxhQUFhO1lBQ3hFLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUTtZQUN2QyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLFFBQVE7WUFDOUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVE7U0FDOUMsQ0FBQTtJQUVILENBQUM7SUFDTyxlQUFlO1FBQ3JCLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDbEQsSUFBSSxDQUFDLE1BQU0sRUFBRSxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtTQUMzQzthQUFNO1lBQ0wsSUFBSSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUN0QyxXQUFXLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsV0FBVztnQkFDN0MsUUFBUSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLFFBQVE7Z0JBQ3ZDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLG1CQUFtQjtnQkFDN0QsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsZ0JBQWdCO2dCQUN2RCxrQkFBa0IsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxrQkFBa0I7Z0JBQzNELFVBQVUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxVQUFVO2dCQUMzQyxLQUFLLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSzthQUNsQyxDQUFDLENBQUE7U0FDSDtJQUNILENBQUM7O3dGQTdOVSxvQkFBb0I7dUVBQXBCLG9CQUFvQjt1QkFnQnBCLGdCQUFnQixLQUF3QixVQUFVO3VCQUQvQyxvQkFBb0I7dUJBRXBCLFVBQVU7dUJBQ1Ysa0JBQWtCOzs7Ozs7OztRQ3pEbEMsOEJBQTBHO1FBQTlCLG9HQUFTLHVCQUFtQixJQUFDO1FBQ3JHLDhCQUMySDtRQUN2SCwrQkFFWTtRQUVoQixpQkFBTTtRQUNOLDhCQUM2RSxhQUFBLGFBQUE7UUFJakUsa0VBV0k7UUFDSix1RUFNTztRQUNYLGlCQUFNO1FBQ04scUVBS007UUFDVixpQkFBTSxFQUFBLEVBQUE7UUFTZCxxRUFVTTs7UUExRDhDLHlDQUF1QjtRQUVuRSxlQUFzSDtRQUF0SCxnS0FBc0g7UUFFbEgsZUFBd0Q7UUFBeEQsNkZBQXdEO1FBSzVELGVBQXdFO1FBQXhFLHNFQUF3RTtRQUVwRSxlQUFrSztRQUFsSyxzRkFBa0s7UUFHOUgsZUFBYTtRQUFiLGtDQUFhO1FBV1csZUFBYztRQUFkLG1DQUFjO1FBUXBFLGVBQW1DO1FBQW5DLDREQUFtQztRQWUvQyxlQUFrQjtRQUFsQix1Q0FBa0I7NklEVFgsb0JBQW9CLHNEQU5uQixDQUFDLGtCQUFrQixDQUFDO0FBV1A7SUFBZixZQUFZLEVBQUU7MkRBQWdDO0FBQy9CO0lBQWYsWUFBWSxFQUFFOzZEQUFrQzt1RkFOL0Msb0JBQW9CO2NBWmhDLFNBQVM7MkJBQ0UsZUFBZSxtQkFHUix1QkFBdUIsQ0FBQyxNQUFNLGlCQUNoQyxpQkFBaUIsQ0FBQyxJQUFJLGNBQ3pCLENBQUMsa0JBQWtCLENBQUMsUUFDMUI7b0JBQ0osSUFBSSxFQUFFLGlDQUFpQztpQkFFeEM7O3NCQWtDRSxRQUFROztzQkFDUixRQUFROztzQkFDUixRQUFRO3dCQWhDRixRQUFRO2tCQUFoQixLQUFLO1lBQ0csSUFBSTtrQkFBWixLQUFLO1lBQ0csVUFBVTtrQkFBbEIsS0FBSztZQUNtQixhQUFhO2tCQUFyQyxLQUFLO1lBQ21CLGVBQWU7a0JBQXZDLEtBQUs7WUFDRyxPQUFPO2tCQUFmLEtBQUs7WUFPRyxXQUFXO2tCQUFuQixLQUFLO1lBQzhCLFFBQVE7a0JBQTNDLFlBQVk7bUJBQUMsb0JBQW9CO1lBQytCLGdCQUFnQjtrQkFBaEYsU0FBUzttQkFBQyxnQkFBZ0IsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRTtZQUNyQyxnQkFBZ0I7a0JBQXpDLFlBQVk7bUJBQUMsVUFBVTtZQUNVLHdCQUF3QjtrQkFBekQsWUFBWTttQkFBQyxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDZGtPdmVybGF5T3JpZ2luIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL292ZXJsYXknO1xyXG5pbXBvcnQge1xyXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxyXG4gIENoYW5nZURldGVjdG9yUmVmLFxyXG4gIENvbXBvbmVudCxcclxuICBFbGVtZW50UmVmLFxyXG4gIElucHV0LFxyXG4gIE9uQ2hhbmdlcyxcclxuICBPbkRlc3Ryb3ksXHJcbiAgT25Jbml0LFxyXG4gIE9wdGlvbmFsLFxyXG4gIFF1ZXJ5TGlzdCxcclxuICBTaW1wbGVDaGFuZ2VzLFxyXG4gIFZpZXdDaGlsZCxcclxuICBWaWV3Q2hpbGRyZW4sXHJcbiAgVmlld0VuY2Fwc3VsYXRpb25cclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgSXNBY3RpdmVNYXRjaE9wdGlvbnMsIE5hdmlnYXRpb25FbmQsIFJvdXRlciwgUm91dGVyTGluaywgUm91dGVyTGlua1dpdGhIcmVmIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgbWVyZ2UsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgZGVib3VuY2VUaW1lLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgZmlsdGVyLCBtYXAsIHN0YXJ0V2l0aCwgc3dpdGNoTWFwLCB0YWtlVW50aWwgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcbmltcG9ydCB7IG1lbnVDb2xsYXBzZU1vdGlvbiB9IGZyb20gJ3Rkcy11aS9jb3JlL2FuaW1hdGlvbic7XHJcbmltcG9ydCB7IE5nU3R5bGVJbnRlcmZhY2UgfSBmcm9tICd0ZHMtdWkvY29yZS9jb25maWcnO1xyXG5pbXBvcnQgeyBJbnB1dEJvb2xlYW4sIFREU0hlbHBlckFycmF5LCBURFNIZWxwZXJPYmplY3QsIFREU0hlbHBlclN0cmluZyB9IGZyb20gJ3Rkcy11aS9zaGFyZWQvdXRpbGl0eSc7XHJcbmltcG9ydCB7IFREU01lbnVPcHRpb25EVE8gfSBmcm9tICcuLi9kdG8vdGRzLW1lbnUtb3B0aW9uLmR0byc7XHJcbmltcG9ydCB7IFREU01lbnVEVE8gfSBmcm9tICcuLi9kdG8vdGRzLW1lbnUuZHRvJztcclxuaW1wb3J0IHsgVERTTWVudVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9tZW51LnNlcnZpY2UnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICd0ZHMtbWVudS1pdGVtJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vdGRzLW1lbnUtaXRlbS5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vdGRzLW1lbnUtaXRlbS5jb21wb25lbnQuY3NzJ10sXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICBhbmltYXRpb25zOiBbbWVudUNvbGxhcHNlTW90aW9uXSxcclxuICBob3N0OiB7XHJcbiAgICBjbGFzOiBcInctZnVsbCBmbGV4IGZsZXgtY29sIGJveC1ib3JkZXJcIixcclxuXHJcbiAgfVxyXG59KVxyXG5leHBvcnQgY2xhc3MgVERTTWVudUl0ZW1Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95IHtcclxuICBwcml2YXRlIGRlc3Ryb3kkID0gbmV3IFN1YmplY3Q8dm9pZD4oKTtcclxuICBASW5wdXQoKSBzaG93SWNvbjogYm9vbGVhbiA9IHRydWU7XHJcbiAgQElucHV0KCkgaXRlbSE6IFREU01lbnVEVE87XHJcbiAgQElucHV0KCkgaXNTZWxlY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIEBJbnB1dEJvb2xlYW4oKSBwYXJlbnRJc0dyb3VwOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQElucHV0KCkgQElucHV0Qm9vbGVhbigpIGlubGluZUNvbGxhcHNlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIG9wdGlvbnM6IFREU01lbnVPcHRpb25EVE8gPSB7XHJcbiAgICBiYWNrZ3JvdW5kOiAnYmctd2hpdGUgZGFyazpiZy1kLW5ldXRyYWwtMy0yMDAnLFxyXG4gICAgYmFja2dyb3VuZEl0ZW06ICdiZy13aGl0ZSBkYXJrOmJnLWQtbmV1dHJhbC0zLTIwMCcsXHJcbiAgICBiYWNrZ3JvdW5kSXRlbVNlbGVjdGVkOiAnYmctd2hpdGUgZGFyazpiZy1kLW5ldXRyYWwtMy0yMDAnLFxyXG4gICAgYmFja2dyb3VuZEl0ZW1Ib3ZlcjogJ2Rhcms6aG92ZXI6YmctZC1uZXV0cmFsLTMtMzAwICBob3ZlcjpiZy1uZXV0cmFsLTMtNTAnXHJcbiAgfVxyXG4gIHNlbGVjdGVkJCA9IG5ldyBTdWJqZWN0PGJvb2xlYW4+KCk7XHJcbiAgQElucHV0KCkgaXNPcGVuUG9wdXA6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBAVmlld0NoaWxkcmVuKFREU01lbnVJdGVtQ29tcG9uZW50KSBsaXN0SXRlbSE6IFF1ZXJ5TGlzdDxURFNNZW51SXRlbUNvbXBvbmVudD47XHJcbiAgQFZpZXdDaGlsZChDZGtPdmVybGF5T3JpZ2luLCB7IHN0YXRpYzogdHJ1ZSwgcmVhZDogRWxlbWVudFJlZiB9KSBjZGtPdmVybGF5T3JpZ2luOiBFbGVtZW50UmVmIHwgbnVsbCA9IG51bGw7XHJcbiAgQFZpZXdDaGlsZHJlbihSb3V0ZXJMaW5rKSBsaXN0T2ZSb3V0ZXJMaW5rITogUXVlcnlMaXN0PFJvdXRlckxpbms+O1xyXG4gIEBWaWV3Q2hpbGRyZW4oUm91dGVyTGlua1dpdGhIcmVmKSBsaXN0T2ZSb3V0ZXJMaW5rV2l0aEhyZWYhOiBRdWVyeUxpc3Q8Um91dGVyTGlua1dpdGhIcmVmPjtcclxuICBJc0FjdGl2ZU1hdGNoT3B0aW9uczogSXNBY3RpdmVNYXRjaE9wdGlvbnMgPSB7XHJcbiAgICBwYXRoczogXCJzdWJzZXRcIixcclxuICAgIG1hdHJpeFBhcmFtczogXCJpZ25vcmVkXCIsXHJcbiAgICBxdWVyeVBhcmFtczogXCJpZ25vcmVkXCIsXHJcbiAgICBmcmFnbWVudDogXCJpZ25vcmVkXCIsXHJcbiAgfVxyXG4gIG5nU3R5bGVJdGVtOiBOZ1N0eWxlSW50ZXJmYWNlID0ge307XHJcblxyXG4gIGdldCB1aWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pdGVtID8gdGhpcy5pdGVtLnVpZCA6IFwiXCI7XHJcbiAgfVxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2NkcjogQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgICBwcml2YXRlIHRkc01lbnVTZXJ2aWNlOiBURFNNZW51U2VydmljZSxcclxuICAgIEBPcHRpb25hbCgpIHByaXZhdGUgcm91dGVyTGluaz86IFJvdXRlckxpbmssXHJcbiAgICBAT3B0aW9uYWwoKSBwcml2YXRlIHJvdXRlckxpbmtXaXRoSHJlZj86IFJvdXRlckxpbmtXaXRoSHJlZixcclxuICAgIEBPcHRpb25hbCgpIHByaXZhdGUgcm91dGVyPzogUm91dGVyXHJcbiAgKSB7XHJcblxyXG4gICAgaWYgKHJvdXRlcikge1xyXG4gICAgICB0aGlzLnJvdXRlciEuZXZlbnRzLnBpcGUoXHJcbiAgICAgICAgdGFrZVVudGlsKHRoaXMuZGVzdHJveSQpLFxyXG4gICAgICAgIGZpbHRlcihlID0+IGUgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uRW5kKVxyXG4gICAgICApLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVSb3V0ZXJBY3RpdmUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG5cclxuICB9XHJcbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5saXN0ZW5JdGVtQ2hhbmdlU2VsZWN0ZWQoKTtcclxuXHJcbiAgfVxyXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcclxuICAgIGlmIChjaGFuZ2VzWydpdGVtJ10pIHtcclxuICAgICAgdGhpcy5fY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgfVxyXG4gICAgaWYgKGNoYW5nZXMuaXNTZWxlY3RlZCkge1xyXG4gICAgICB0aGlzLnNldFNlbGVjdGVkU3RhdGUodGhpcy5pc1NlbGVjdGVkKTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBvbkNsaWNrSXRlbShlOiBFdmVudCkge1xyXG5cclxuICAgIGlmICh0aGlzLml0ZW0uZGlzYWJsZWQpIHtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuaGFzTGlzdENoaWxkKSB7XHJcbiAgICAgIHRoaXMuaXRlbS5pc09wZW4gPSAhdGhpcy5pdGVtLmlzT3BlbjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLmhhc0xpbmspIHtcclxuICAgICAgICB0aGlzLnBfTmF2aWdhdGVCeVVybCgpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudGRzTWVudVNlcnZpY2Uub25EZXNjZW5kYW50TWVudUl0ZW1DbGljayh0aGlzKTtcclxuXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgaGFzTGlzdENoaWxkKCkge1xyXG4gICAgcmV0dXJuIFREU0hlbHBlckFycmF5Lmhhc0xpc3RWYWx1ZSh0aGlzLml0ZW0ubGlzdENoaWxkKTtcclxuICB9XHJcbiAgZ2V0IGhhc0FsbEhpZGRlbigpIHtcclxuICAgIGxldCBjaGlsZHMgPSB0aGlzLml0ZW0ubGlzdENoaWxkPy5maW5kKGYgPT4geyByZXR1cm4gIWYuaGlkZGVuIH0pO1xyXG4gICAgcmV0dXJuIGNoaWxkcyA9PSB1bmRlZmluZWRcclxuICB9XHJcbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICB0aGlzLmRlc3Ryb3kkLm5leHQoKTtcclxuICAgIHRoaXMuZGVzdHJveSQuY29tcGxldGUoKTtcclxuXHJcbiAgfVxyXG4gIHNldFNlbGVjdGVkU3RhdGUodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMuaXNTZWxlY3RlZCA9IHZhbHVlO1xyXG4gICAgdGhpcy5pdGVtLmlzU2VsZWN0ZWQgPSB2YWx1ZTtcclxuICAgIHRoaXMuc2VsZWN0ZWQkLm5leHQodmFsdWUpO1xyXG4gICAgaWYgKHRoaXMuaXNTZWxlY3RlZCkge1xyXG4gICAgICBpZiAoIXRoaXMuaXRlbS5pc09wZW4pIHtcclxuICAgICAgICB0aGlzLml0ZW0uaXNPcGVuID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5uZ1N0eWxlSXRlbSA9IHRoaXMuZ2V0U3R5bGVJdGVtKCk7XHJcbiAgICB0aGlzLl9jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZVJvdXRlckFjdGl2ZSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmhhc0xpc3RDaGlsZCB8fCAhdGhpcy5saXN0T2ZSb3V0ZXJMaW5rIHx8ICF0aGlzLmxpc3RPZlJvdXRlckxpbmtXaXRoSHJlZiB8fCAhdGhpcy5yb3V0ZXIgfHwgIXRoaXMucm91dGVyLm5hdmlnYXRlZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcclxuICAgICAgY29uc3QgaGFzQWN0aXZlTGlua3MgPSB0aGlzLmhhc0FjdGl2ZUxpbmtzKCk7XHJcbiAgICAgIGlmICghdGhpcy5oYXNMaXN0Q2hpbGQpXHJcbiAgICAgICAgaWYgKHRoaXMuaXNTZWxlY3RlZCAhPT0gaGFzQWN0aXZlTGlua3MpIHtcclxuICAgICAgICAgIHRoaXMuaXNTZWxlY3RlZCA9IGhhc0FjdGl2ZUxpbmtzO1xyXG4gICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFN0YXRlKHRoaXMuaXNTZWxlY3RlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhc0FjdGl2ZUxpbmtzKCk6IGJvb2xlYW4ge1xyXG5cclxuICAgIGNvbnN0IGlzQWN0aXZlQ2hlY2tGbiA9IHRoaXMuaXNMaW5rQWN0aXZlKHRoaXMucm91dGVyISk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAodGhpcy5yb3V0ZXJMaW5rICYmIGlzQWN0aXZlQ2hlY2tGbih0aGlzLnJvdXRlckxpbmspKSB8fFxyXG4gICAgICAodGhpcy5yb3V0ZXJMaW5rV2l0aEhyZWYgJiYgaXNBY3RpdmVDaGVja0ZuKHRoaXMucm91dGVyTGlua1dpdGhIcmVmKSkgfHxcclxuICAgICAgdGhpcy5saXN0T2ZSb3V0ZXJMaW5rLnNvbWUoaXNBY3RpdmVDaGVja0ZuKSB8fFxyXG4gICAgICB0aGlzLmxpc3RPZlJvdXRlckxpbmtXaXRoSHJlZi5zb21lKGlzQWN0aXZlQ2hlY2tGbilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzTGlua0FjdGl2ZShyb3V0ZXI6IFJvdXRlcik6IChsaW5rOiBSb3V0ZXJMaW5rIHwgUm91dGVyTGlua1dpdGhIcmVmKSA9PiBib29sZWFuIHtcclxuXHJcbiAgICByZXR1cm4gKGxpbms6IFJvdXRlckxpbmsgfCBSb3V0ZXJMaW5rV2l0aEhyZWYpID0+IHJvdXRlci5pc0FjdGl2ZShsaW5rLnVybFRyZWUhLCB0aGlzLklzQWN0aXZlTWF0Y2hPcHRpb25zKTtcclxuICB9XHJcblxyXG4gIHNldFNlbGVjdGVkU3RhdGVMaXN0Q2hpbGRyZW4odWlkOiBzdHJpbmcpIHtcclxuICAgIGlmIChURFNIZWxwZXJBcnJheS5oYXNMaXN0VmFsdWUodGhpcy5saXN0SXRlbSkpIHtcclxuICAgICAgdGhpcy5saXN0SXRlbS5mb3JFYWNoKGYgPT4ge1xyXG4gICAgICAgIGYuc2V0U2VsZWN0ZWRTdGF0ZUxpc3RDaGlsZHJlbih1aWQpO1xyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZXRTZWxlY3RlZFN0YXRlKHVpZCA9PT0gdGhpcy51aWQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBnZXQgaGFzTGluaygpIHtcclxuICAgIHJldHVybiAhdGhpcy5pdGVtLmRpc2FibGVkICYmICF0aGlzLmhhc0xpc3RDaGlsZCAmJiBURFNIZWxwZXJPYmplY3QuaGFzVmFsdWUodGhpcy5pdGVtLmxpbmspO1xyXG4gIH1cclxuICBnZXQgaGFzSWNvbigpIHtcclxuICAgIHJldHVybiB0aGlzLml0ZW0gJiYgVERTSGVscGVyU3RyaW5nLmhhc1ZhbHVlU3RyaW5nKHRoaXMuaXRlbS5pY29uKTtcclxuICB9XHJcblxyXG4gIGxpc3Rlbkl0ZW1DaGFuZ2VTZWxlY3RlZCgpIHtcclxuICAgIGlmICh0aGlzLmxpc3RPZlJvdXRlckxpbmspXHJcbiAgICAgIHRoaXMubGlzdE9mUm91dGVyTGluay5jaGFuZ2VzLnBpcGUodGFrZVVudGlsKHRoaXMuZGVzdHJveSQpKS5zdWJzY3JpYmUoKCkgPT4gdGhpcy51cGRhdGVSb3V0ZXJBY3RpdmUoKSk7XHJcbiAgICBpZiAodGhpcy5saXN0T2ZSb3V0ZXJMaW5rV2l0aEhyZWYpXHJcbiAgICAgIHRoaXMubGlzdE9mUm91dGVyTGlua1dpdGhIcmVmLmNoYW5nZXMucGlwZSh0YWtlVW50aWwodGhpcy5kZXN0cm95JCkpLnN1YnNjcmliZSgoKSA9PiB0aGlzLnVwZGF0ZVJvdXRlckFjdGl2ZSgpKTtcclxuXHJcbiAgICBpZiAoVERTSGVscGVyQXJyYXkuaGFzTGlzdFZhbHVlKHRoaXMubGlzdEl0ZW0pKSB7XHJcbiAgICAgIGNvbnN0IGxpc3RPZlREU01lbnVJdGVtQ29tcG9uZW50ID0gdGhpcy5saXN0SXRlbTtcclxuICAgICAgY29uc3QgY2hhbmdlcyA9IGxpc3RPZlREU01lbnVJdGVtQ29tcG9uZW50IS5jaGFuZ2VzO1xyXG4gICAgICBjb25zdCBtZXJnZWRPYnNlcnZhYmxlID0gbWVyZ2UoLi4uW2NoYW5nZXMsIC4uLmxpc3RPZlREU01lbnVJdGVtQ29tcG9uZW50IS5tYXAobWVudSA9PiBtZW51LnNlbGVjdGVkJCldKTtcclxuICAgICAgY2hhbmdlc1xyXG4gICAgICAgIC5waXBlKFxyXG4gICAgICAgICAgc3RhcnRXaXRoKGxpc3RPZlREU01lbnVJdGVtQ29tcG9uZW50KSxcclxuICAgICAgICAgIHN3aXRjaE1hcCgoKSA9PiBtZXJnZWRPYnNlcnZhYmxlKSxcclxuICAgICAgICAgIHN0YXJ0V2l0aCh0cnVlKSxcclxuICAgICAgICAgIG1hcCgoKSA9PiBsaXN0T2ZURFNNZW51SXRlbUNvbXBvbmVudCEuc29tZShlID0+IGUuaXNTZWxlY3RlZCkpLFxyXG4gICAgICAgICAgZGVib3VuY2VUaW1lKDEwMCksXHJcbiAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxyXG4gICAgICAgICAgdGFrZVVudGlsKHRoaXMuZGVzdHJveSQpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5zdWJzY3JpYmUoc2VsZWN0ZWQgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFN0YXRlKHNlbGVjdGVkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlUm91dGVyQWN0aXZlKCk7XHJcbiAgfVxyXG5cclxuICBzZXRPcGVuKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICBpZiAodGhpcy5pdGVtLmlzT3BlbiAhPSB2YWx1ZSkge1xyXG4gICAgICB0aGlzLml0ZW0uaXNPcGVuID0gdmFsdWU7XHJcbiAgICAgIHRoaXMuX2Nkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgIH1cclxuICB9XHJcbiAgc2V0T3BlbkNoaWxkcmVuKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICBpZiAodGhpcy5saXN0SXRlbS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5saXN0SXRlbS5mb3JFYWNoKGYgPT4ge1xyXG4gICAgICAgIGYuc2V0T3BlbkNoaWxkcmVuKHZhbHVlKVxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZXRPcGVuKHZhbHVlKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2Nkci5tYXJrRm9yQ2hlY2soKTtcclxuICB9XHJcbiAgZ2V0U3R5bGVJdGVtKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLy8gW2Ake3RoaXMub3B0aW9ucy5iYWNrZ3JvdW5kSXRlbVNlbGVjdGVkfWBdOiB0aGlzLmlzU2VsZWN0ZWQsXHJcbiAgICAgIFsnaC0wIGludmlzaWJsZSBzZWxlY3Qtbm9uZSddOiB0aGlzLml0ZW0uaGlkZGVuLFxyXG4gICAgICBbYHBsLTMgcHItMi41ICAke3RoaXMub3B0aW9ucy5iYWNrZ3JvdW5kSXRlbUhvdmVyfWBdOiB0aGlzLnBhcmVudElzR3JvdXAsXHJcbiAgICAgIFtgY3Vyc29yLXBvaW50ZXJgXTogIXRoaXMuaXRlbS5kaXNhYmxlZCxcclxuICAgICAgWydweS0yLjUnXTogIXRoaXMuaXRlbS5oaWRkZW4gJiYgdGhpcy5zaG93SWNvbixcclxuICAgICAgWydweS0yJ106ICF0aGlzLml0ZW0uaGlkZGVuICYmICF0aGlzLnNob3dJY29uXHJcbiAgICB9XHJcblxyXG4gIH1cclxuICBwcml2YXRlIHBfTmF2aWdhdGVCeVVybCgpIHtcclxuICAgIGlmICghVERTSGVscGVyT2JqZWN0Lmhhc1ZhbHVlKHRoaXMuaXRlbS5saW5rUHJvcHMpKSB7XHJcbiAgICAgIHRoaXMucm91dGVyPy5uYXZpZ2F0ZUJ5VXJsKHRoaXMuaXRlbS5saW5rKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yb3V0ZXI/Lm5hdmlnYXRlKFt0aGlzLml0ZW0ubGlua10sIHtcclxuICAgICAgICBxdWVyeVBhcmFtczogdGhpcy5pdGVtLmxpbmtQcm9wcz8ucXVlcnlQYXJhbXMsXHJcbiAgICAgICAgZnJhZ21lbnQ6IHRoaXMuaXRlbS5saW5rUHJvcHM/LmZyYWdtZW50LFxyXG4gICAgICAgIHF1ZXJ5UGFyYW1zSGFuZGxpbmc6IHRoaXMuaXRlbS5saW5rUHJvcHM/LnF1ZXJ5UGFyYW1zSGFuZGxpbmcsXHJcbiAgICAgICAgcHJlc2VydmVGcmFnbWVudDogdGhpcy5pdGVtLmxpbmtQcm9wcz8ucHJlc2VydmVGcmFnbWVudCxcclxuICAgICAgICBza2lwTG9jYXRpb25DaGFuZ2U6IHRoaXMuaXRlbS5saW5rUHJvcHM/LnNraXBMb2NhdGlvbkNoYW5nZSxcclxuICAgICAgICByZXBsYWNlVXJsOiB0aGlzLml0ZW0ubGlua1Byb3BzPy5yZXBsYWNlVXJsLFxyXG4gICAgICAgIHN0YXRlOiB0aGlzLml0ZW0ubGlua1Byb3BzPy5zdGF0ZVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCI8ZGl2IGNsYXNzPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdyb3VwIHJvdW5kZWRcIiBbbmdDbGFzc109XCJuZ1N0eWxlSXRlbVwiIChjbGljayk9XCJvbkNsaWNrSXRlbSgkZXZlbnQpXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiIGZsZXggbXItMiAgZmxleC1yb3ctcmV2ZXJzZSBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCJcclxuICAgICAgICBbbmdDbGFzc109XCJ7J2gtNiB3LTYnOnBhcmVudElzR3JvdXAgJiYgc2hvd0ljb24sJ3ctMic6IXBhcmVudElzR3JvdXAgfHwgIXNob3dJY29uLCdwbC0xJzpwYXJlbnRJc0dyb3VwICYmICFzaG93SWNvbiB9XCI+XHJcbiAgICAgICAgPHRkcy1iYWRnZSBjbGFzcz1cIiFmbGV4IGZsZXgtcm93LXJldmVyc2UgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcclxuICAgICAgICAgICAgW25nQ2xhc3NdPVwieydpbnZpc2libGUnOiEoaXNTZWxlY3RlZCAmJiAhaGFzTGlzdENoaWxkKX1cIiBzdGF0dXM9XCJwcmltYXJ5XCI+XHJcbiAgICAgICAgPC90ZHMtYmFkZ2U+XHJcblxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiZmxleC1hdXRvICB0ZXh0LWJvZHktMiAgZGFyazpmb250LXJlZ3VsYXIgZ3JvdXAtaG92ZXI6dGV4dC1kLW5ldXRyYWwtMS05MDBcIlxyXG4gICAgICAgIFtuZ0NsYXNzXT1cInsndGV4dC1uZXV0cmFsLTEtNTAwIGRhcms6dGV4dC1kLW5ldXRyYWwtMS00MDAnOiFpc1NlbGVjdGVkfVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWJldHdlZW4gZ3JvdXAtaG92ZXI6dGV4dC1uZXV0cmFsLTEtOTAwIGRhcms6Z3JvdXAtaG92ZXI6dGV4dC1kLW5ldXRyYWwtMS05MDAgXCJcclxuICAgICAgICAgICAgW25nQ2xhc3NdPVwieydkYXJrOnRleHQtZC1uZXV0cmFsLTEtOTAwIGRhcms6Zm9udC1yZWd1bGFyIHRleHQtbmV1dHJhbC0xLTkwMCBmb250LXNlbWlib2xkJzppc1NlbGVjdGVkLCdkYXJrOnRleHQtZC1uZXV0cmFsLTEtNDAwIHRleHQtbmV1dHJhbC0xLTUwMCc6IWlzU2VsZWN0ZWR9XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwci0yIHctZnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgPGEgW25nQ2xhc3NdPVwieydjdXJzb3ItcG9pbnRlcic6IWl0ZW0uZGlzYWJsZWR9XCIgY2xhc3M9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCJcclxuICAgICAgICAgICAgICAgICAgICBbcm91dGVyTGlua109XCJbaXRlbS5saW5rXVwiICpuZ0lmPVwiaGFzTGlua1wiIFtxdWVyeVBhcmFtc109XCJpdGVtLmxpbmtQcm9wcz8ucXVlcnlQYXJhbXNcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtmcmFnbWVudF09XCJpdGVtLmxpbmtQcm9wcz8uZnJhZ21lbnRcIiBbcXVlcnlQYXJhbXNIYW5kbGluZ109XCJpdGVtLmxpbmtQcm9wcz8ucXVlcnlQYXJhbXNIYW5kbGluZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgW3ByZXNlcnZlRnJhZ21lbnRdPVwiaXRlbS5saW5rUHJvcHM/LnByZXNlcnZlRnJhZ21lbnQhXCJcclxuICAgICAgICAgICAgICAgICAgICBbc2tpcExvY2F0aW9uQ2hhbmdlXT1cIml0ZW0ubGlua1Byb3BzPy5za2lwTG9jYXRpb25DaGFuZ2UhXCIgW3JlcGxhY2VVcmxdPVwiaXRlbS5saW5rUHJvcHM/LnJlcGxhY2VVcmwhXCJcclxuICAgICAgICAgICAgICAgICAgICBbc3RhdGVdPVwiaXRlbS5saW5rUHJvcHM/LnN0YXRlXCIgcm91dGVyTGlua0FjdGl2ZT5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57e2l0ZW0ubmFtZX19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZHMtYmFkZ2UgKm5nSWY9XCJpdGVtLmJhZGdlXCIgW3N0YW5kYWxvbmVdPVwidHJ1ZVwiIFtjb3VudF09XCJpdGVtLmJhZGdlLmNvdW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW3Rkc1N0eWxlXT1cIml0ZW0uYmFkZ2UudGRzU3R5bGUhXCI+PC90ZHMtYmFkZ2U+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkcy10YWcgKm5nSWY9XCJpdGVtLnRhZ1wiIFtzdGF0dXNdPSdpdGVtLnRhZy5zdGF0dXMhJyBbcm91bmRlZF09XCJpdGVtLnRhZy5yb3VuZGVkIVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0eXBlXT1cIml0ZW0udGFnLnR5cGUhXCI+e3tpdGVtLnRhZy50ZXh0fX08L3Rkcy10YWc+XHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIiAqbmdJZj1cIiFoYXNMaW5rXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3tpdGVtLm5hbWV9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8dGRzLWJhZGdlICpuZ0lmPVwiaXRlbS5iYWRnZVwiIFtzdGFuZGFsb25lXT1cInRydWVcIiBbY291bnRdPVwiaXRlbS5iYWRnZS5jb3VudCFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGRzU3R5bGVdPVwiaXRlbS5iYWRnZS50ZHNTdHlsZSFcIj48L3Rkcy1iYWRnZT5cclxuICAgICAgICAgICAgICAgICAgICA8dGRzLXRhZyAqbmdJZj1cIml0ZW0udGFnXCIgW3N0YXR1c109J2l0ZW0udGFnLnN0YXR1cyEnIFtyb3VuZGVkXT1cIml0ZW0udGFnLnJvdW5kZWQhXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW3R5cGVdPVwiaXRlbS50YWcudHlwZSFcIj57e2l0ZW0udGFnLnRleHQhfX08L3Rkcy10YWc+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiaGFzTGlzdENoaWxkICYmICFoYXNBbGxIaWRkZW5cIiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cImhhc0xpc3RDaGlsZCAmJiAhaGFzQWxsSGlkZGVuXCIgW25nQ2xhc3NdPVwieydyb3RhdGUtOTAgJzppdGVtLmlzT3Blbiwncm90YXRlLTAnOiFpdGVtLmlzT3BlbixcclxuICAgICAgICAgICAgICAgICAgICAnZGFyazp0ZXh0LWQtbmV1dHJhbC0xLTkwMCB0ZXh0LW5ldXRyYWwtMS05MDAnOmlzU2VsZWN0ZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2Rhcms6dGV4dC1kLW5ldXRyYWwtMS00MDAgdGV4dC1uZXV0cmFsLTEtNTAwJzohaXNTZWxlY3RlZH1cIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC1iYXNlIGxlYWRpbmctNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZHNpLWFycm93LXJpZ2h0LWxpbmUgdHJhbnNmb3JtIGRlbGF5LTEwMCBkdXJhdGlvbi0zMDBcIj48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG5cclxuPCEtLSA8ZGl2ICpuZ0lmPVwiaGFzTGlzdENoaWxkXCIgY2xhc3M9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbCBweS0yXCJcclxuICAgIFtAbWVudUNvbGxhcHNlTW90aW9uXT1cIml0ZW0uaXNPcGVuICYmICFoYXNBbGxIaWRkZW4gPyAnZXhwYW5kZWQnIDogJ2NvbGxhcHNlZCdcIlxyXG4gICAgW25nQ2xhc3NdPVwieydoLTAgb3ZlcmZsb3ctaGlkZGVuIHctMCc6ICFpdGVtLmlzT3BlbiB8fCBpbmxpbmVDb2xsYXBzZWQsJ3BsLTEwIHByLTIuNSAnOnBhcmVudElzR3JvdXAsJ3BsLTMnOiFwYXJlbnRJc0dyb3VwICYmICFwYXJlbnRJc1Jvb3R9XCI+XHJcbiAgXHJcbjwvZGl2PiAtLT5cclxuPGRpdiAqbmdJZj1cImhhc0xpc3RDaGlsZFwiIGNsYXNzPVwidy1mdWxsIGZsZXggZmxleC1jb2wgcHktMVwiXHJcbiAgICBbQG1lbnVDb2xsYXBzZU1vdGlvbl09XCJpdGVtLmlzT3BlbiAmJiAhaGFzQWxsSGlkZGVuID8gJ2V4cGFuZGVkJyA6ICdjb2xsYXBzZWQnXCJcclxuICAgIFtuZ0NsYXNzXT1cInsncGwtMTAgcHItMi41ICc6cGFyZW50SXNHcm91cCwncGwtMyc6IXBhcmVudElzR3JvdXB9XCJcclxuICAgID5cclxuICAgIDxkaXYgY2xhc3M9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxyXG4gICAgICAgIDxuZy10ZW1wbGF0ZSBuZ0ZvciBsZXQtbWVudSBbbmdGb3JPZl09XCJpdGVtLmxpc3RDaGlsZFwiPlxyXG4gICAgICAgICAgICA8dGRzLW1lbnUtaXRlbSBbb3B0aW9uc109XCJvcHRpb25zXCIgW2l0ZW1dPVwibWVudVwiIFtpc1NlbGVjdGVkXT1cIm1lbnUuaXNTZWxlY3RlZCFcIj5cclxuICAgICAgICAgICAgPC90ZHMtbWVudS1pdGVtPlxyXG4gICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+Il19