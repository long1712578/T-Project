import { __decorate } from "tslib";
import { coerceBooleanProperty } from "@angular/cdk/coercion";
import { DOWN_ARROW, ENTER, ESCAPE, SPACE, TAB, UP_ARROW } from "@angular/cdk/keycodes";
import { CdkConnectedOverlay, CdkOverlayOrigin } from "@angular/cdk/overlay";
import { CdkVirtualScrollViewport } from "@angular/cdk/scrolling";
import { ChangeDetectionStrategy, Component, ContentChild, ContentChildren, EventEmitter, forwardRef, Host, Inject, Input, Optional, Output, Self, TemplateRef, ViewChild, ViewEncapsulation } from "@angular/core";
import { BehaviorSubject, combineLatest, fromEvent, Subject } from "rxjs";
import { takeUntil } from "rxjs/operators";
import { reqAnimFrame } from "tds-ui/core/animation";
import { TDSOptgroup, TDSOption } from "tds-ui/core/option";
import { TDSFormFieldControl, TDS_FORM_FIELD } from "tds-ui/form-field";
import { TDSIsErrorState } from "tds-ui/shared/common";
import { InputBoolean, TDSHelperArray, TDSHelperObject, TDSHelperString } from "tds-ui/shared/utility";
import { TDSSelectSearchComponent } from "./select-search";
import { TDSFooterTemplateDirective, TDSHeaderTemplateDirective, TDSLabelTemplateDirective, TDSLoadingSpinnerTemplateDirective, TDSLoadingTextTemplateDirective, TDSMultiLabelTemplateDirective, TDSNotFoundTemplateDirective, TDSOptionTemplateDirective, TDSTagTemplateDirective, TDSTypeToSearchTemplateDirective } from "./select.directive";
import * as i0 from "@angular/core";
import * as i1 from "@angular/cdk/a11y";
import * as i2 from "@angular/forms";
import * as i3 from "@angular/cdk/platform";
import * as i4 from "@angular/common";
import * as i5 from "./select-placeholder";
import * as i6 from "./select-search";
import * as i7 from "@angular/cdk/overlay";
import * as i8 from "tds-ui/progress-spinner";
import * as i9 from "tds-ui/empty";
import * as i10 from "@angular/cdk/scrolling";
import * as i11 from "./select-option-group";
import * as i12 from "./select-option-item";
import * as i13 from "tds-ui/form-field";
const _c0 = ["selectOverlay"];
const _c1 = ["rigthContainer"];
function TDSSelect_ng_container_5_tds_select_placeholder_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "tds-select-placeholder", 21);
} if (rf & 2) {
    const ctx_r13 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("placeholder", ctx_r13.placeholder);
} }
function TDSSelect_ng_container_5_div_4_ng_template_3_Template(rf, ctx) { }
const _c2 = function (a0, a1, a2, a3) { return { label: a0, value: a1, $implicit: a2, item: a3 }; };
function TDSSelect_ng_container_5_div_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 22)(1, "div", 23)(2, "div", 24);
    i0.ɵɵtemplate(3, TDSSelect_ng_container_5_div_4_ng_template_3_Template, 0, 0, "ng-template", 25);
    i0.ɵɵelementEnd()()();
} if (rf & 2) {
    const ctx_r14 = i0.ɵɵnextContext(2);
    const _r9 = i0.ɵɵreference(16);
    i0.ɵɵadvance(3);
    i0.ɵɵproperty("ngTemplateOutlet", ctx_r14.labelTemplate || _r9)("ngTemplateOutletContext", i0.ɵɵpureFunction4(2, _c2, ctx_r14.listOfTopItem[0].textField, ctx_r14.listOfTopItem[0].valueField, ctx_r14.listOfTopItem[0], ctx_r14.listOfTopItem[0]));
} }
function TDSSelect_ng_container_5_div_5_Template(rf, ctx) { if (rf & 1) {
    const _r19 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 26)(1, "tds-select-search", 27, 28);
    i0.ɵɵlistener("isComposingChange", function TDSSelect_ng_container_5_div_5_Template_tds_select_search_isComposingChange_1_listener($event) { i0.ɵɵrestoreView(_r19); const ctx_r18 = i0.ɵɵnextContext(2); return ctx_r18.isComposingChange($event); })("valueChange", function TDSSelect_ng_container_5_div_5_Template_tds_select_search_valueChange_1_listener($event) { i0.ɵɵrestoreView(_r19); const ctx_r20 = i0.ɵɵnextContext(2); return ctx_r20.onInputValueChange($event); })("keydown", function TDSSelect_ng_container_5_div_5_Template_tds_select_search_keydown_1_listener($event) { i0.ɵɵrestoreView(_r19); const ctx_r21 = i0.ɵɵnextContext(2); return ctx_r21.onKeyDown($event); });
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r15 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("id", ctx_r15.id)("disabled", ctx_r15.disabled)("value", ctx_r15.inputValue)("showInput", ctx_r15.showSearch)("autofocus", ctx_r15.autofocus)("focusTrigger", ctx_r15.open);
} }
const _c3 = function (a0, a1, a2) { return { "pl-2.5  py-1": a0, "pl-3  py-1.5": a1, "pl-4  py-2": a2 }; };
function TDSSelect_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelementStart(1, "div", 16)(2, "div", 17);
    i0.ɵɵtemplate(3, TDSSelect_ng_container_5_tds_select_placeholder_3_Template, 1, 1, "tds-select-placeholder", 18);
    i0.ɵɵtemplate(4, TDSSelect_ng_container_5_div_4_Template, 4, 7, "div", 19);
    i0.ɵɵtemplate(5, TDSSelect_ng_container_5_div_5_Template, 3, 6, "div", 20);
    i0.ɵɵelementEnd()();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r1 = i0.ɵɵnextContext();
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction3(4, _c3, ctx_r1.size === "sm", ctx_r1.size === "md", ctx_r1.size === "lg"));
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngIf", ctx_r1.isShowPlaceholder);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r1.isShowSingleLabel);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r1.isSearchDefault);
} }
function TDSSelect_ng_container_6_tds_select_placeholder_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "tds-select-placeholder", 34);
} if (rf & 2) {
    const ctx_r22 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("placeholder", ctx_r22.placeholder)("ngClass", i0.ɵɵpureFunction3(2, _c3, ctx_r22.size === "sm", ctx_r22.size === "md", ctx_r22.size === "lg"));
} }
function TDSSelect_ng_container_6_div_3_ng_template_3_Template(rf, ctx) { }
function TDSSelect_ng_container_6_div_3_i_5_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "i", 40);
} }
const _c4 = function (a0, a1, a2) { return { "py-0.5": a0, "py-1": a1, "py-1.5": a2 }; };
function TDSSelect_ng_container_6_div_3_Template(rf, ctx) { if (rf & 1) {
    const _r29 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 35)(1, "div", 36)(2, "div", 37);
    i0.ɵɵtemplate(3, TDSSelect_ng_container_6_div_3_ng_template_3_Template, 0, 0, "ng-template", 25);
    i0.ɵɵelementEnd();
    i0.ɵɵelementStart(4, "div", 38);
    i0.ɵɵlistener("click", function TDSSelect_ng_container_6_div_3_Template_div_click_4_listener($event) { const restoredCtx = i0.ɵɵrestoreView(_r29); const item_r25 = restoredCtx.$implicit; const ctx_r28 = i0.ɵɵnextContext(2); return ctx_r28.onItemDelete($event, item_r25); });
    i0.ɵɵtemplate(5, TDSSelect_ng_container_6_div_3_i_5_Template, 1, 0, "i", 39);
    i0.ɵɵelementEnd()()();
} if (rf & 2) {
    const item_r25 = ctx.$implicit;
    const ctx_r23 = i0.ɵɵnextContext(2);
    const _r11 = i0.ɵɵreference(18);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction3(4, _c4, ctx_r23.size === "sm", ctx_r23.size === "md", ctx_r23.size === "lg"));
    i0.ɵɵadvance(3);
    i0.ɵɵproperty("ngTemplateOutlet", ctx_r23.labelTemplate || _r11)("ngTemplateOutletContext", i0.ɵɵpureFunction4(8, _c2, item_r25.textField, item_r25.valueField, item_r25, item_r25));
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngIf", !ctx_r23.disabled);
} }
const _c5 = function (a0, a1, a2) { return { "my-1": a0, "my-1.5": a1, "my-2 ": a2 }; };
function TDSSelect_ng_container_6_Template(rf, ctx) { if (rf & 1) {
    const _r31 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelementStart(1, "div", 29);
    i0.ɵɵtemplate(2, TDSSelect_ng_container_6_tds_select_placeholder_2_Template, 1, 6, "tds-select-placeholder", 30);
    i0.ɵɵtemplate(3, TDSSelect_ng_container_6_div_3_Template, 6, 13, "div", 31);
    i0.ɵɵelementStart(4, "div", 32)(5, "tds-select-search", 33, 28);
    i0.ɵɵlistener("isComposingChange", function TDSSelect_ng_container_6_Template_tds_select_search_isComposingChange_5_listener($event) { i0.ɵɵrestoreView(_r31); const ctx_r30 = i0.ɵɵnextContext(); return ctx_r30.isComposingChange($event); })("valueChange", function TDSSelect_ng_container_6_Template_tds_select_search_valueChange_5_listener($event) { i0.ɵɵrestoreView(_r31); const ctx_r32 = i0.ɵɵnextContext(); return ctx_r32.onInputValueChange($event); })("keydown", function TDSSelect_ng_container_6_Template_tds_select_search_keydown_5_listener($event) { i0.ɵɵrestoreView(_r31); const ctx_r33 = i0.ɵɵnextContext(); return ctx_r33.onKeyDown($event); });
    i0.ɵɵelementEnd()()();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngIf", ctx_r2.showPlaceholder);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngForOf", ctx_r2.listOfTopItem)("ngForTrackBy", ctx_r2.trackValue);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction3(10, _c5, ctx_r2.size === "sm", ctx_r2.size === "md", ctx_r2.size === "lg"));
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("id", ctx_r2.id)("disabled", ctx_r2.disabled)("value", ctx_r2.inputValue)("showInput", ctx_r2.showSearch)("autofocus", ctx_r2.autofocus)("focusTrigger", ctx_r2.open);
} }
const _c6 = function (a0, a1, a2, a3) { return { "p-1": a0, "p-1.5": a1, "p-2": a2, "flex-grow-0 flex-shrink-0": a3 }; };
function TDSSelect_div_10_Template(rf, ctx) { if (rf & 1) {
    const _r35 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 41)(1, "div", 42);
    i0.ɵɵlistener("click", function TDSSelect_div_10_Template_div_click_1_listener($event) { i0.ɵɵrestoreView(_r35); const ctx_r34 = i0.ɵɵnextContext(); return ctx_r34.onClearSelection($event); });
    i0.ɵɵelement(2, "i", 43);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r4 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction4(1, _c6, ctx_r4.size === "sm", ctx_r4.size === "md", ctx_r4.size === "lg", ctx_r4.mode == "default"));
} }
const _c7 = function (a0, a1, a2, a3) { return { "px-1": a0, "px-1.5": a1, "px-2": a2, "flex-grow-0 flex-shrink-0": a3 }; };
function TDSSelect_div_11_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 44)(1, "div", 45);
    i0.ɵɵelement(2, "i", 46);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r5 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction4(2, _c7, ctx_r5.size === "sm", ctx_r5.size === "md", ctx_r5.size === "lg", ctx_r5.mode == "default"));
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngClass", ctx_r5.classIcon);
} }
function TDSSelect_ng_template_12_div_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 53);
    i0.ɵɵelement(1, "tds-embed-empty", 54);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r36 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("specificContent", ctx_r36.notFoundTemplate);
} }
function TDSSelect_ng_template_12_ng_template_6_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "tds-option-group", 56);
} if (rf & 2) {
    const item_r38 = i0.ɵɵnextContext().$implicit;
    i0.ɵɵproperty("label", item_r38.groupLabel);
} }
function TDSSelect_ng_template_12_ng_template_6_ng_template_3_Template(rf, ctx) { if (rf & 1) {
    const _r43 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "tds-option-item", 57);
    i0.ɵɵlistener("itemClick", function TDSSelect_ng_template_12_ng_template_6_ng_template_3_Template_tds_option_item_itemClick_0_listener($event) { i0.ɵɵrestoreView(_r43); const ctx_r42 = i0.ɵɵnextContext(3); return ctx_r42.onItemClick($event); })("itemHover", function TDSSelect_ng_template_12_ng_template_6_ng_template_3_Template_tds_option_item_itemHover_0_listener($event) { i0.ɵɵrestoreView(_r43); const ctx_r44 = i0.ɵɵnextContext(3); return ctx_r44.onItemHover($event); });
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const item_r38 = i0.ɵɵnextContext().$implicit;
    const ctx_r40 = i0.ɵɵnextContext(2);
    const _r7 = i0.ɵɵreference(14);
    i0.ɵɵproperty("grouped", !!item_r38.groupLabel)("disabled", item_r38.disabled)("showState", ctx_r40.mode === "tags" || ctx_r40.mode === "multiple")("label", item_r38.textField)("compareWith", ctx_r40.compareWith)("activatedValue", ctx_r40.activatedValue)("listOfSelectedValue", ctx_r40.listOfValue)("value", item_r38.valueField)("template", ctx_r40.optionTemplate ? ctx_r40.optionTemplate : _r7)("item", item_r38.data)("hideSelected", ctx_r40.hideSelected)("size", ctx_r40.size)("ngClass", ctx_r40.tdsCssOption);
} }
function TDSSelect_ng_template_12_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0, 4);
    i0.ɵɵelementStart(1, "div", 23);
    i0.ɵɵtemplate(2, TDSSelect_ng_template_12_ng_template_6_ng_template_2_Template, 1, 1, "ng-template", 55);
    i0.ɵɵtemplate(3, TDSSelect_ng_template_12_ng_template_6_ng_template_3_Template, 1, 13, "ng-template", 55);
    i0.ɵɵelementEnd();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const item_r38 = ctx.$implicit;
    i0.ɵɵproperty("ngSwitch", item_r38.type);
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngSwitchCase", "group");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "item");
} }
function TDSSelect_ng_template_12_Template(rf, ctx) { if (rf & 1) {
    const _r47 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 47)(1, "div", 48)(2, "tds-spin", 49);
    i0.ɵɵtemplate(3, TDSSelect_ng_template_12_div_3_Template, 2, 1, "div", 50);
    i0.ɵɵelementStart(4, "div", 23)(5, "cdk-virtual-scroll-viewport", 51);
    i0.ɵɵlistener("scrolledIndexChange", function TDSSelect_ng_template_12_Template_cdk_virtual_scroll_viewport_scrolledIndexChange_5_listener($event) { i0.ɵɵrestoreView(_r47); const ctx_r46 = i0.ɵɵnextContext(); return ctx_r46.onScrolledIndexChange($event); });
    i0.ɵɵtemplate(6, TDSSelect_ng_template_12_ng_template_6_Template, 4, 3, "ng-template", 52);
    i0.ɵɵelementEnd()()()()();
} if (rf & 2) {
    const ctx_r6 = i0.ɵɵnextContext();
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("spinning", ctx_r6.loading)("tip", "...");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r6.listOfContainerItem.length === 0 && !ctx_r6.loading);
    i0.ɵɵadvance(2);
    i0.ɵɵstyleProp("height", ctx_r6.listOfContainerItem.length * ctx_r6.optionHeightPx, "px")("max-height", ctx_r6.optionHeightPx * ctx_r6.optionOverflowSize, "px");
    i0.ɵɵclassProp("full-width", !ctx_r6.dropdownMatchSelectWidth);
    i0.ɵɵproperty("itemSize", ctx_r6.optionHeightPx)("maxBufferPx", ctx_r6.optionHeightPx * ctx_r6.optionOverflowSize)("minBufferPx", ctx_r6.optionHeightPx * ctx_r6.optionOverflowSize);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("cdkVirtualForOf", ctx_r6.listOfContainerItem)("cdkVirtualForTrackBy", ctx_r6.trackValue)("cdkVirtualForTemplateCacheSize", 0);
} }
function TDSSelect_ng_template_13_div_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 45);
    i0.ɵɵelement(1, "span", 61);
    i0.ɵɵelementEnd();
} }
function TDSSelect_ng_template_13_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 58)(1, "div", 59);
    i0.ɵɵtext(2);
    i0.ɵɵelementEnd();
    i0.ɵɵtemplate(3, TDSSelect_ng_template_13_div_3_Template, 2, 0, "div", 60);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const label_r48 = ctx.label;
    const selected_r51 = ctx.selected;
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate1(" ", label_r48, " ");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", selected_r51);
} }
function TDSSelect_ng_template_15_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 62);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const label_r53 = ctx.label;
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", label_r53, " ");
} }
function TDSSelect_ng_template_17_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 62);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const label_r56 = ctx.label;
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", label_r56, " ");
} }
const _c8 = function (a0) { return { "border border-neutral-2-200 dark:border-d-neutral-2-200 rounded  ": a0 }; };
export const TDSDefaultFilterOption = (searchValue, item) => {
    if (item && item.textField) {
        return item.textField.toString().toLowerCase().indexOf(searchValue.toLowerCase()) > -1;
    }
    else {
        return false;
    }
};
export class TDSSelect {
    constructor(_focusMonitor, _elementRef, host, _formField, ngControl, cdr, platform, _parentForm, _parentFormGroup, ngZone) {
        this._focusMonitor = _focusMonitor;
        this._elementRef = _elementRef;
        this.host = host;
        this._formField = _formField;
        this.ngControl = ngControl;
        this.cdr = cdr;
        this.platform = platform;
        this._parentForm = _parentForm;
        this._parentFormGroup = _parentFormGroup;
        this.ngZone = ngZone;
        this._destroy = new Subject();
        this.stateChanges = new Subject();
        this.listOfValue$ = new BehaviorSubject([]);
        this.listOfTemplateItem$ = new BehaviorSubject([]);
        this.focused = false;
        this.listOfTopItem = [];
        this.activatedValue = null;
        this.listOfValue = [];
        this.inputValue = null;
        this.triggerWidth = null;
        this.dropDownPosition = 'bottom';
        this.isReactiveDriven = false;
        this.listOfTagAndTemplateItem = [];
        this.listOfContainerItem = [];
        this.scrolledIndex = 0;
        this.open = false;
        this.autofocus = false;
        this.showSearch = true;
        this.allowClear = false;
        this.allowSearch = true;
        this.id = `tds-select-${TDSSelect.nextId++}`;
        this.backdrop = false;
        this.dropdownMatchSelectWidth = true;
        this.dropdownClassName = null;
        this.mode = 'default';
        this.compareWith = (o1, o2) => o1 === o2;
        this.serverSearch = false;
        this.filterOption = TDSDefaultFilterOption;
        this.optionHeightPx = 37;
        this.optionOverflowSize = 8;
        this.maxMultipleCount = Infinity;
        this.autoClearSearchValue = true;
        this.maxTagCount = Infinity;
        this.tokenSeparators = [];
        this.maxTagPlaceholder = null;
        //dung cho mode  tags / multiple
        this.autoClose = false;
        this._size = "md";
        this._required = false;
        this._disabled = false;
        this.value = undefined;
        this.errorState = false;
        this._textField = 'lable';
        this._valueField = 'value';
        this._disabledField = 'disabled';
        this._groupField = 'group';
        this._data = [];
        this.loading = false;
        this.hideSelected = false;
        this.tdsCssOption = null;
        this.isShowPlaceholder = true;
        this.isShowSingleLabel = false;
        this.isComposing = false;
        this.border = true;
        this.valuePrimitive = true;
        this.classIcon = "tdsi-arrow-down-line";
        this.parentIsFormField = false;
        this.onSearch = new EventEmitter();
        this.scrollToBottom = new EventEmitter();
        this.openChange = new EventEmitter();
        this.blurChange = new EventEmitter();
        this.focusChange = new EventEmitter();
        this.selectChangeEvent = new EventEmitter();
        this.paddingRightIcon = 0;
        this.onChange = (_) => { };
        this.onTouched = () => { };
        if (this.ngControl != null) {
            this.ngControl.valueAccessor = this;
        }
        if (this._formField) {
            // this.size = this._formField.size;
            this.parentIsFormField = true;
        }
    }
    get empty() {
        return !TDSHelperArray.hasListValue(this.listOfValue);
    }
    get size() {
        return this._size;
    }
    set size(value) {
        if (this._size != value) {
            this._size = value;
            this.stateChanges.next();
            switch (this._size) {
                case "sm":
                    this.optionHeightPx = 29;
                    break;
                case "lg":
                    this.optionHeightPx = 45;
                    break;
                default:
                    this.optionHeightPx = 37;
                    break;
            }
        }
    }
    get placeholder() {
        return this._placeholder;
    }
    set placeholder(value) {
        this._placeholder = value;
        this.stateChanges.next();
    }
    get required() {
        return this._required;
    }
    set required(value) {
        this._required = coerceBooleanProperty(value);
        this.stateChanges.next();
    }
    get disabled() {
        return this._disabled;
    }
    set disabled(value) {
        this._disabled = coerceBooleanProperty(value);
        this.stateChanges.next();
    }
    updateErrorState() {
        const oldState = this.errorState;
        const parent = this._parentFormGroup || this._parentForm;
        // const matcher = this.errorStateMatcher || this._defaultErrorStateMatcher;
        const control = this.ngControl ? this.ngControl.control : null;
        const newState = this._isErrorState(control, parent);
        if (newState !== oldState) {
            this.errorState = newState;
            this.stateChanges.next();
            this.cdr.markForCheck();
        }
    }
    _isErrorState(control, form) {
        return TDSIsErrorState(control, form);
    }
    get textField() {
        return this._textField;
    }
    set textField(val) {
        if (val !== this._textField) {
            this._textField = val;
            this.stateChanges.next();
        }
    }
    get valueField() {
        return this._valueField;
    }
    set valueField(val) {
        if (val !== this._valueField) {
            this._valueField = val;
            this.stateChanges.next();
        }
    }
    get disabledField() {
        return this._disabledField;
    }
    set disabledField(val) {
        if (val !== this._disabledField) {
            this._disabledField = val;
        }
    }
    get groupField() {
        return this._groupField;
    }
    set groupField(val) {
        if (val !== this._groupField) {
            this._groupField = val;
        }
    }
    get data() {
        return this._data;
    }
    set data(val) {
        if (TDSHelperArray.hasListValue(val)) {
            this._data = val;
        }
        else {
            this._data = [];
        }
        this.stateChanges.next();
    }
    ngOnInit() {
        let that = this;
        this._focusMonitor
            .monitor(this._elementRef, true)
            .pipe(takeUntil(this._destroy))
            .subscribe(focusOrigin => {
            if (!focusOrigin) {
                this.focused = false;
                this.cdr.markForCheck();
                this.blurChange.emit();
                Promise.resolve().then(() => {
                    this.onTouched();
                });
            }
            else {
                this.focused = true;
                this.cdr.markForCheck();
                this.focusChange.emit();
            }
        });
        combineLatest([this.listOfValue$, this.listOfTemplateItem$])
            .pipe(takeUntil(this._destroy))
            .subscribe(([listOfSelectedValue, listOfTemplateItem]) => {
            const listOfSelected = !this.valuePrimitive && TDSHelperObject.hasValue(this.value) ? this.covertModelToList(this.value, this.mode) : [];
            const listConvertDataOfSelected = listOfSelected.map(item => {
                return this.generateDataItem(item);
            });
            const listOfTagItem = listOfSelectedValue
                .filter(() => this.mode === 'tags')
                .filter(value => listOfTemplateItem.findIndex(o => this.compareWith(o.valueField, value)) === -1 && listConvertDataOfSelected.findIndex(o => this.compareWith(o.valueField, value)) === -1)
                .map(value => this.listOfTopItem.find(o => this.compareWith(o.valueField, value)) || this.generateTagItem(value));
            this.listOfTagAndTemplateItem = [...listOfTemplateItem, ...listOfTagItem];
            this.listOfTopItem = this.listOfValue
                .map(v => {
                const value = TDSHelperObject.hasValue(v) && TDSHelperObject.hasValue(v[that.valueField]) ? v[that.valueField] : v;
                return [...this.listOfTagAndTemplateItem, ...this.listOfTopItem, ...listConvertDataOfSelected].find(item => {
                    return this.compareWith(value, item.valueField);
                });
            })
                .filter(item => !!item);
            this.updateListOfContainerItem();
            this.updateTemplateVariable();
            this.updatePaddingRightIcon();
        });
        this.ngZone.runOutsideAngular(() => fromEvent(this.host.nativeElement, 'click')
            .pipe(takeUntil(this._destroy))
            .subscribe(() => {
            if ((this.open && this.showSearch) || this.disabled) {
                return;
            }
            this.ngZone.run(() => {
                if (!this.focused && !this.disabled) {
                    this.focused = true;
                    this.stateChanges.next();
                }
                this.setOpenState(!this.open);
            });
        }));
    }
    ngOnChanges(changes) {
        const { open, disabled, data, textField, valueField, disabledField, valuePrimitive, loading } = changes;
        if (open) {
            this.onOpenChange();
        }
        if (disabled && this.disabled) {
            this.setOpenState(false);
            this.setFocused(false);
        }
        if (TDSHelperObject.hasValue(this.data)) {
            this.isReactiveDriven = true;
            const listOfOptions = this.data || [];
            const listOfTransformedItem = listOfOptions.map(item => {
                return this.generateDataItem(item);
            });
            this.listOfTemplateItem$.next(listOfTransformedItem);
        }
    }
    ngAfterContentInit() {
    }
    updateListOfValue(listOfValue) {
        const covertListToModel = (list, mode) => {
            if (mode === 'default') {
                if (list.length > 0) {
                    return list[0];
                }
                else {
                    return null;
                }
            }
            else {
                return list;
            }
        };
        const model = covertListToModel(listOfValue, this.mode);
        if (this.value !== model) {
            this.listOfValue = listOfValue;
            this.listOfValue$.next(listOfValue);
            this.value = model;
            if (!this.valuePrimitive) {
                if (this.mode == 'default') {
                    const data = TDSHelperArray.hasListValue(this.listOfTopItem) ? this.listOfTopItem[0].data : null;
                    this.onChange(data);
                    this.selectChangeEvent.emit(data);
                }
                else {
                    const data = this.listOfTopItem.map(res => {
                        return res.data;
                    });
                    this.onChange(data);
                    this.selectChangeEvent.emit(data);
                }
            }
            else {
                this.onChange(this.value);
                this.selectChangeEvent.emit(this.value);
            }
        }
    }
    onClearSelection(e) {
        e.preventDefault();
        e.stopPropagation();
        this.onTouched();
        this.updateListOfValue([]);
    }
    updateListOfContainerItem() {
        let listOfContainerItem = this.listOfTagAndTemplateItem
            .filter(item => !item.hide)
            .filter(item => {
            if (!this.serverSearch && this.inputValue) {
                return this.filterOption(this.inputValue, item);
            }
            else {
                return true;
            }
        });
        if (this.mode === 'tags' && this.inputValue) {
            const matchedItem = this.listOfTagAndTemplateItem.find(item => item.textField === this.inputValue);
            if (!matchedItem) {
                const tagItem = this.generateTagItem(this.inputValue);
                listOfContainerItem = [tagItem, ...listOfContainerItem];
                this.activatedValue = tagItem.valueField;
            }
            else {
                this.activatedValue = matchedItem.valueField;
            }
        }
        const optionNotDisabled = this.listOfContainerItem.filter(item => item.type === 'item').find(item => !item.disabled);
        const activatedItem = listOfContainerItem.find(item => item.textField === this.inputValue) ||
            listOfContainerItem.find(item => this.compareWith(item.valueField, this.listOfValue[0]))
            || optionNotDisabled;
        this.activatedValue = (activatedItem && activatedItem.valueField) || null;
        let listOfGroupLabel = [];
        if (this.isReactiveDriven) {
            listOfGroupLabel = [...new Set(this.data.filter(o => o[this.groupField]).map(o => o[this.groupField]))];
        }
        else {
            if (this.listOfOptionGroupComponent) {
                listOfGroupLabel = this.listOfOptionGroupComponent.map(o => o.label);
            }
        }
        /** insert group item **/
        listOfGroupLabel.forEach(label => {
            const index = listOfContainerItem.findIndex(item => label === item.groupLabel);
            if (index > -1) {
                const groupItem = { groupLabel: label, type: 'group', key: label };
                listOfContainerItem.splice(index, 0, groupItem);
            }
        });
        this.listOfContainerItem = [...listOfContainerItem];
        this.updateCdkConnectedOverlayPositions();
    }
    generateTagItem(value) {
        return {
            valueField: value,
            textField: value,
            type: 'item',
            item: value,
            data: value
        };
    }
    generateDataItem(item) {
        let isOject = TDSHelperObject.hasValue(item[this.valueField]) || TDSHelperObject.hasValue(item[this.textField]);
        return {
            textField: typeof item[this.textField] === 'string' || typeof item[this.textField] === 'number' ? item[this.textField] : item,
            valueField: isOject ? item[this.valueField] : item,
            disabled: item[this.disabledField] || false,
            hide: item.hide || false,
            groupLabel: item[this.groupField] || null,
            type: 'item',
            key: item[this.valueField] || item,
            data: item,
            item: item,
        };
    }
    writeValue(modelValue) {
        /** https://github.com/angular/angular/issues/14988 **/
        if (this.value !== modelValue) {
            this.value = modelValue;
            const listOfValue = this.covertModelToList(modelValue, this.mode).map(f => {
                return f[this.valueField] ? f[this.valueField] : f;
            });
            this.listOfValue = listOfValue;
            this.listOfValue$.next(listOfValue);
            this.cdr.markForCheck();
        }
    }
    covertModelToList(model, mode) {
        if (model === null || model === undefined) {
            return [];
        }
        else if (mode === 'default') {
            if (TDSHelperObject.hasValue(model)) {
                if (TDSHelperArray.isArray(model)) {
                    if (TDSHelperString.hasValueString(model[0]))
                        return [model[0]];
                    else
                        return [];
                }
                else
                    return [model];
            }
            else {
                return [];
            }
        }
        else {
            return model;
        }
    }
    ;
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
    setDisabledState(isDisabled) {
        this.disabled = isDisabled;
    }
    ngAfterViewInit() {
        if (this.autofocus && !this.focused) {
            this.setFocused(true);
            this.setOpenState(true);
        }
    }
    ngOnDestroy() {
        this._focusMonitor.stopMonitoring(this._elementRef);
        this._destroy.next();
        this._destroy.complete();
        this.stateChanges.complete();
        if (this.timerRightIcon) {
            clearTimeout(this.timerRightIcon);
        }
    }
    setDescribedByIds(ids) {
        if (ids.length) {
            this._elementRef.nativeElement.setAttribute('aria-describedby', ids.join(' '));
        }
        else {
            this._elementRef.nativeElement.removeAttribute('aria-describedby');
        }
    }
    onContainerClick(e) {
        // e.preventDefault();
        // e.stopPropagation();
    }
    updateTemplateVariable() {
        const isSelectedValueEmpty = this.listOfTopItem.length === 0;
        this.isShowPlaceholder = isSelectedValueEmpty && !this.isComposing && !this.inputValue;
        this.isShowSingleLabel = !isSelectedValueEmpty && !this.isComposing && !this.inputValue;
    }
    isComposingChange(isComposing) {
        this.isComposing = isComposing;
        this.updateTemplateVariable();
    }
    onInputValueChange(value) {
        if (value !== this.inputValue) {
            this.inputValue = value;
            this.updateTemplateVariable();
            this.updateListOfContainerItem();
            this.onSearch.emit(value);
            this.updateCdkConnectedOverlayPositions();
            this.tokenSeparate(value, this.tokenSeparators);
            this.scrollActive();
        }
    }
    onItemClick(value) {
        this.activatedValue = value;
        if (this.mode === 'default') {
            if (this.listOfValue.length === 0 || !this.compareWith(this.listOfValue[0], value)) {
                this.updateListOfValue([value]);
            }
            this.setFocused(false);
            this.setOpenState(false);
        }
        else {
            const targetIndex = this.listOfValue.findIndex(o => this.compareWith(o, value));
            if (targetIndex !== -1) {
                const listOfValueAfterRemoved = this.listOfValue.filter((_, i) => i !== targetIndex);
                this.updateListOfValue(listOfValueAfterRemoved);
            }
            else if (this.listOfValue.length < this.maxMultipleCount) {
                const listOfValueAfterAdded = [...this.listOfValue, value];
                this.updateListOfValue(listOfValueAfterAdded);
            }
            if (this.autoClose) {
                this.setFocused(false);
                this.setOpenState(false);
            }
            else {
                this.focus();
                if (this.autoClearSearchValue) {
                    this.clearInput();
                }
            }
        }
    }
    onItemHover(value) {
        // TODO: keydown.enter won't activate this value
        this.activatedValue = value;
    }
    onItemDelete(e, item) {
        e.preventDefault();
        e.stopPropagation();
        if (!this.disabled) {
            const listOfSelectedValue = this.listOfValue.filter(v => !this.compareWith(v, item.valueField));
            this.updateListOfValue(listOfSelectedValue);
            this.clearInput();
        }
    }
    focus() {
        if (this.tdsSelectSearch) {
            this.tdsSelectSearch.focus();
        }
    }
    blur() {
        if (this.tdsSelectSearch) {
            this.tdsSelectSearch.blur();
        }
    }
    onOverlayKeyDown(e) {
        if (e.keyCode === ESCAPE) {
            this.setFocused(false);
            this.setOpenState(false);
            this.onTouched();
        }
    }
    onClickOutside(event) {
        if (!this._elementRef.nativeElement.contains(event.target)) {
            this.setFocused(false);
            this.setOpenState(false);
            this.onTouched();
            this.clearInput();
        }
    }
    setOpenState(value) {
        if (this.open !== value) {
            this.open = value;
            this.openChange.emit(value);
            this.onOpenChange();
            this.scrollActive();
            this.cdr.markForCheck();
        }
    }
    setFocused(value) {
        this.focused = value;
        this.stateChanges.next();
    }
    onOpenChange() {
        this.updateCdkConnectedOverlayStatus();
        this.clearInput();
        if (this.open && this.activatedValue) {
            this.scrollToActivatedValue();
        }
    }
    clearInput() {
        if (this.tdsSelectSearch)
            this.tdsSelectSearch.clearInputValue();
    }
    onPositionChange(position) {
        this.dropDownPosition = position.connectionPair.originY;
    }
    showClear() {
        return this.allowClear && !this.disabled && this.listOfValue.length;
    }
    get overlayOrigin() {
        if (this._formField) {
            return new CdkOverlayOrigin(this._formField.getConnectedOverlayOrigin());
        }
        else {
            return new CdkOverlayOrigin(this._connectionSelectOverlay);
        }
    }
    get originElement() {
        if (this._formField) {
            return this._formField.getConnectedOverlayOrigin();
        }
        else {
            return this._connectionSelectOverlay;
        }
    }
    get showPlaceholder() {
        return TDSHelperString.hasValueString(this.placeholder)
            && this.listOfTopItem.length == 0
            // && (!TDSHelperString.hasValueString(this.inputValue) && this.mode == "multiple")
            // && (this.mode == "default" || (!this.focused && !this.open && this.mode == "multiple"))
            && (!this.focused && !this.open);
    }
    get isSearchDefault() {
        return (this.focused || this.open) && this.allowSearch;
    }
    updateCdkConnectedOverlayStatus() {
        if (this.platform.isBrowser && this.originElement.nativeElement) {
            reqAnimFrame(() => {
                this.triggerWidth = this.originElement.nativeElement.getBoundingClientRect().width;
                this.cdr.markForCheck();
            });
        }
    }
    updateCdkConnectedOverlayPositions() {
        reqAnimFrame(() => {
            this.cdkConnectedOverlay?.overlayRef?.updatePosition();
        });
    }
    trackValue(_index, option) {
        return option.key;
    }
    onScrolledIndexChange(index) {
        this.scrolledIndex = index;
        if (index === this.listOfContainerItem.length - this.optionOverflowSize) {
            this.scrollToBottom.emit();
        }
    }
    scrollToActivatedValue() {
        if (!TDSHelperObject.hasValue(this.cdkVirtualScrollViewport) || !this.open || !TDSHelperObject.hasValue(this.activatedValue)) {
            return;
        }
        const index = this.listOfContainerItem.findIndex(item => this.compareWith(item.key, this.activatedValue));
        if (index < this.scrolledIndex || index >= this.scrolledIndex + this.optionOverflowSize) {
            this.cdkVirtualScrollViewport.scrollToIndex(index || 0);
        }
    }
    ngDoCheck() {
        if (this.ngControl) {
            this.updateErrorState();
        }
    }
    tokenSeparate(inputValue, tokenSeparators) {
        const includesSeparators = (str, separators) => {
            // tslint:disable-next-line:prefer-for-of
            for (let i = 0; i < separators.length; ++i) {
                if (str.lastIndexOf(separators[i]) > 0) {
                    return true;
                }
            }
            return false;
        };
        const splitBySeparators = (str, separators) => {
            const reg = new RegExp(`[${separators.join()}]`);
            const array = str.split(reg).filter(token => token);
            return [...new Set(array)];
        };
        if (inputValue &&
            inputValue.length &&
            tokenSeparators.length &&
            this.mode !== 'default' &&
            includesSeparators(inputValue, tokenSeparators)) {
            const listOfLabel = splitBySeparators(inputValue, tokenSeparators);
            this.onTokenSeparate(listOfLabel);
        }
    }
    onTokenSeparate(listOfLabel) {
        const listOfMatchedValue = this.listOfTagAndTemplateItem
            .filter(item => listOfLabel.findIndex(label => label === item.textField) !== -1)
            .map(item => item.valueField)
            .filter(item => this.listOfValue.findIndex(v => this.compareWith(v, item)) === -1);
        if (this.mode === 'multiple') {
            this.updateListOfValue([...this.listOfValue, ...listOfMatchedValue]);
        }
        else if (this.mode === 'tags') {
            const listOfUnMatchedLabel = listOfLabel.filter(label => this.listOfTagAndTemplateItem.findIndex(item => item.textField === label) === -1);
            this.updateListOfValue([...this.listOfValue, ...listOfMatchedValue, ...listOfUnMatchedLabel]);
        }
        this.clearInput();
    }
    onKeyDown(e) {
        if (this.disabled || this.mode === 'tags') {
            return;
        }
        const listOfFilteredOptionNotDisabled = this.listOfContainerItem
            .filter(item => item.type === 'item')
            //thêm trường hợp hideSelected =true
            .filter(item => !item.disabled && (!this.hideSelected || this.listOfValue.find(key => key === item.key) == null));
        const activatedIndex = listOfFilteredOptionNotDisabled.findIndex(item => this.compareWith(item.valueField, this.activatedValue));
        switch (e.keyCode) {
            case UP_ARROW:
                e.preventDefault();
                if (this.open) {
                    const preIndex = activatedIndex > 0 ? activatedIndex - 1 : listOfFilteredOptionNotDisabled.length - 1;
                    this.activatedValue = listOfFilteredOptionNotDisabled[preIndex].valueField;
                }
                break;
            case DOWN_ARROW:
                e.preventDefault();
                if (this.open) {
                    const nextIndex = activatedIndex < listOfFilteredOptionNotDisabled.length - 1 ? activatedIndex + 1 : 0;
                    this.activatedValue = listOfFilteredOptionNotDisabled[nextIndex].valueField;
                }
                else {
                    this.setOpenState(true);
                }
                break;
            case ENTER:
                e.preventDefault();
                if (this.open) {
                    if (TDSHelperObject.hasValue(this.activatedValue)) {
                        this.onItemClick(this.activatedValue);
                    }
                }
                else {
                    this.setOpenState(true);
                }
                break;
            case SPACE:
                if (!this.open) {
                    this.setOpenState(true);
                    e.preventDefault();
                }
                break;
            case TAB:
                this.setOpenState(false);
                break;
            case ESCAPE:
                /**
                 * Skip the ESCAPE processing, it will be handled in {@link onOverlayKeyDown}.
                 */
                break;
            default:
                if (!this.open) {
                    this.setOpenState(true);
                }
        }
        this.scrollToActivatedValue();
    }
    updatePaddingRightIcon() {
        if (this.timerRightIcon) {
            clearTimeout(this.timerRightIcon);
        }
        if (TDSHelperObject.hasValue(this.classIcon)) {
            const padding = 8;
            let widthIcon = this.size == 'md' ? 28 : this.size == 'lg' ? 32 : 24;
            if (this.showClear()) {
                widthIcon = this.size == 'md' ? 56 : this.size == 'lg' ? 64 : 48;
            }
            this.timerRightIcon = setTimeout(() => {
                this.paddingRightIcon = widthIcon + padding;
                this.cdr.markForCheck();
            }, 0);
        }
        else {
            this.timerRightIcon = setTimeout(() => {
                this.paddingRightIcon = 0;
                this.cdr.markForCheck();
            }, 0);
        }
    }
    scrollActive() {
        if (this.timerScrollActive) {
            clearTimeout(this.timerScrollActive);
        }
        this.timerScrollActive = setTimeout(() => {
            this.scrollToActivatedValue();
        }, 0);
    }
}
TDSSelect.nextId = 0;
TDSSelect.ɵfac = function TDSSelect_Factory(t) { return new (t || TDSSelect)(i0.ɵɵdirectiveInject(i1.FocusMonitor), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(TDS_FORM_FIELD, 9), i0.ɵɵdirectiveInject(i2.NgControl, 10), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i3.Platform), i0.ɵɵdirectiveInject(i2.NgForm, 8), i0.ɵɵdirectiveInject(i2.FormGroupDirective, 8), i0.ɵɵdirectiveInject(i0.NgZone)); };
TDSSelect.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TDSSelect, selectors: [["tds-select"]], contentQueries: function TDSSelect_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        i0.ɵɵcontentQuery(dirIndex, TDSOptionTemplateDirective, 5, TemplateRef);
        i0.ɵɵcontentQuery(dirIndex, TDSOptionTemplateDirective, 5, TemplateRef);
        i0.ɵɵcontentQuery(dirIndex, TDSLabelTemplateDirective, 5, TemplateRef);
        i0.ɵɵcontentQuery(dirIndex, TDSMultiLabelTemplateDirective, 5, TemplateRef);
        i0.ɵɵcontentQuery(dirIndex, TDSHeaderTemplateDirective, 5, TemplateRef);
        i0.ɵɵcontentQuery(dirIndex, TDSFooterTemplateDirective, 5, TemplateRef);
        i0.ɵɵcontentQuery(dirIndex, TDSNotFoundTemplateDirective, 5, TemplateRef);
        i0.ɵɵcontentQuery(dirIndex, TDSTypeToSearchTemplateDirective, 5, TemplateRef);
        i0.ɵɵcontentQuery(dirIndex, TDSLoadingTextTemplateDirective, 5, TemplateRef);
        i0.ɵɵcontentQuery(dirIndex, TDSTagTemplateDirective, 5, TemplateRef);
        i0.ɵɵcontentQuery(dirIndex, TDSLoadingSpinnerTemplateDirective, 5, TemplateRef);
        i0.ɵɵcontentQuery(dirIndex, TDSOption, 5);
        i0.ɵɵcontentQuery(dirIndex, TDSOptgroup, 5);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.optionTemplate = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.optgroupTemplate = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.labelTemplate = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.multiLabelTemplate = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.headerTemplate = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.footerTemplate = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.notFoundTemplate = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.typeToSearchTemplate = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.loadingTextTemplate = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tagTemplate = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.loadingSpinnerTemplate = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.listOfOptionComponent = _t);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.listOfOptionGroupComponent = _t);
    } }, viewQuery: function TDSSelect_Query(rf, ctx) { if (rf & 1) {
        i0.ɵɵviewQuery(CdkVirtualScrollViewport, 5);
        i0.ɵɵviewQuery(CdkConnectedOverlay, 7);
        i0.ɵɵviewQuery(_c0, 7);
        i0.ɵɵviewQuery(TDSSelectSearchComponent, 5);
        i0.ɵɵviewQuery(_c1, 7);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.cdkVirtualScrollViewport = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.cdkConnectedOverlay = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx._connectionSelectOverlay = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tdsSelectSearch = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx._rigthContainer = _t.first);
    } }, hostAttrs: [1, "w-full", "block", "relative", "box-border", "m-0", "p-0"], hostVars: 2, hostBindings: function TDSSelect_HostBindings(rf, ctx) { if (rf & 2) {
        i0.ɵɵclassProp("cursor-pointer", !ctx.disabled);
    } }, inputs: { open: "open", autofocus: "autofocus", allowClear: "allowClear", allowSearch: "allowSearch", userAriaDescribedBy: ["aria-describedby", "userAriaDescribedBy"], id: "id", backdrop: "backdrop", dropdownMatchSelectWidth: "dropdownMatchSelectWidth", dropdownClassName: "dropdownClassName", mode: "mode", compareWith: "compareWith", serverSearch: "serverSearch", filterOption: "filterOption", optionOverflowSize: "optionOverflowSize", maxMultipleCount: "maxMultipleCount", autoClearSearchValue: "autoClearSearchValue", maxTagCount: "maxTagCount", tokenSeparators: "tokenSeparators", maxTagPlaceholder: "maxTagPlaceholder", autoClose: "autoClose", size: "size", placeholder: "placeholder", required: "required", disabled: "disabled", textField: "textField", valueField: "valueField", disabledField: "disabledField", groupField: "groupField", data: "data", loading: "loading", hideSelected: "hideSelected", tdsCssOption: "tdsCssOption", border: "border", valuePrimitive: "valuePrimitive", classIcon: "classIcon" }, outputs: { onSearch: "onSearch", scrollToBottom: "scrollToBottom", openChange: "openChange", blurChange: "blurChange", focusChange: "focusChange", selectChangeEvent: "selectChange" }, features: [i0.ɵɵProvidersFeature([
            {
                provide: TDSFormFieldControl,
                useExisting: forwardRef(() => TDSSelect),
            }
        ]), i0.ɵɵNgOnChangesFeature], decls: 19, vars: 16, consts: [[1, "tds-select-selector", "w-full", "max-w-full", "group", "relative", 3, "ngClass", "click"], ["selectOverlay", ""], [1, "w-full", "flex", "items-stretch", "max-w-full", "group-hover:bg-neutral-3-50", "dark:group-hover:bg-d-neutral-3-50", "group-hover:rounded"], [1, "tds-value-container", "w-full", "relative"], [3, "ngSwitch"], [4, "ngSwitchCase"], [4, "ngSwitchDefault"], [1, "absolute", "bottom-0", "right-0", "top-0"], ["rigthContainer", ""], [1, "w-full", "h-full", "flex", "items-center", "justify-center"], ["class", "tds-clear-wrapper text-neutral-1-500 dark:text-d-neutral-1-500 flex ", 3, "ngClass", 4, "ngIf"], ["class", "tds-arrow-wrapper h-full text-neutral-1-900 dark:text-d-neutral-1-900 flex items-center  group-hover:border-transparent", "style", "border-top-right-radius: 0.2rem;border-bottom-right-radius: 0.2rem; ", 3, "ngClass", 4, "ngIf"], ["cdkConnectedOverlay", "", "cdkConnectedOverlayLockPosition", "", 3, "cdkConnectedOverlayHasBackdrop", "cdkConnectedOverlayMinWidth", "cdkConnectedOverlayWidth", "cdkConnectedOverlayOrigin", "cdkConnectedOverlayTransformOriginOn", "cdkConnectedOverlayPanelClass", "cdkConnectedOverlayOpen", "overlayKeydown", "overlayOutsideClick", "detach", "positionChange"], ["defaultOptionTemplate", ""], ["defaultLabelTemplate", ""], ["defaultTagTemplate", ""], [1, "w-full", "max-w-full", "relative", 3, "ngClass"], [1, "max-w-full", "relative", 2, "min-height", "20px"], ["class", "tds-placeholder mr-1  block", 3, "placeholder", 4, "ngIf"], ["class", "tds-value select-none", 4, "ngIf"], ["class", "absolute inset-0", 4, "ngIf"], [1, "tds-placeholder", "mr-1", "block", 3, "placeholder"], [1, "tds-value", "select-none"], [1, "w-full"], [1, "text-body-2", "font-regular", "text-neutral-1-900", "dark:text-d-neutral-1-900", "truncate", "box-border"], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "absolute", "inset-0"], [1, "w-full", 3, "id", "disabled", "value", "showInput", "autofocus", "focusTrigger", "isComposingChange", "valueChange", "keydown"], ["tdsselectsearch", ""], [1, "w-full", "max-w-full", "relative", "flex-wrap", "flex-shrink", "flex-grow", "break-words", "flex"], ["class", "tds-placeholder mr-1  block", 3, "placeholder", "ngClass", 4, "ngIf"], ["class", "tds-value  flex max-w-full", 3, "ngClass", 4, "ngFor", "ngForOf", "ngForTrackBy"], [1, "tds-input", "flex-1", "pl-2", 3, "ngClass"], [3, "id", "disabled", "value", "showInput", "autofocus", "focusTrigger", "isComposingChange", "valueChange", "keydown"], [1, "tds-placeholder", "mr-1", "block", 3, "placeholder", "ngClass"], [1, "tds-value", "flex", "max-w-full", 3, "ngClass"], [1, "w-full", "flex", "max-w-full", "items-center", "bg-neutral-3-200", "dark:bg-d-neutral-3-200", "group", "hover:bg-neutral-3-300", "dark:hover:bg-d-neutral-3-300", "rounded", "mx-1", "py-0.5", "pl-1.5"], [1, "text-body-2", "font-regular", "text-neutral-1-900", "dark:text-d-neutral-1-900", "whitespace-nowrap", "box-border", "truncate"], [1, "flex", "items-center", "group-hover:text-neutral-1-700", "dark:group-hover:text-d-neutral-1-700", "text-neutral-1-500", "dark:text-d-neutral-1-500", "ml-0.5", "pl-1", "pr-1", 3, "click"], ["class", "tdsi-close-fill  text-base leading-5", 4, "ngIf"], [1, "tdsi-close-fill", "text-base", "leading-5"], [1, "tds-clear-wrapper", "text-neutral-1-500", "dark:text-d-neutral-1-500", "flex", 3, "ngClass"], [1, "flex", "items-center", 3, "click"], [1, "tdsi-close-fill", "text-base", "leading-4"], [1, "tds-arrow-wrapper", "h-full", "text-neutral-1-900", "dark:text-d-neutral-1-900", "flex", "items-center", "group-hover:border-transparent", 2, "border-top-right-radius", "0.2rem", "border-bottom-right-radius", "0.2rem", 3, "ngClass"], [1, "flex", "items-center"], [1, "text-base", "leading-4", 3, "ngClass"], [1, "py-1", "tds-select-panel", "relative", "w-full"], [1, "relative", "py-1", "w-full", "overflow-auto", "bg-white", "dark:bg-d-neutral-3-300", "shadow-1-lg", "rounded"], [3, "spinning", "tip"], ["class", "p-1", "class", "tds-select-item-empty", 4, "ngIf"], [1, "overflow-x-hidden", "w-full", "tds-panel-scroll", 3, "itemSize", "maxBufferPx", "minBufferPx", "scrolledIndexChange"], ["cdkVirtualFor", "", 3, "cdkVirtualForOf", "cdkVirtualForTrackBy", "cdkVirtualForTemplateCacheSize"], [1, "tds-select-item-empty"], ["componentName", "select", 3, "specificContent"], [3, "ngSwitchCase"], [3, "label"], [3, "grouped", "disabled", "showState", "label", "compareWith", "activatedValue", "listOfSelectedValue", "value", "template", "item", "hideSelected", "size", "ngClass", "itemClick", "itemHover"], [1, "w-full", "flex"], [1, "w-full", "truncate", "pr-2"], ["class", "flex items-center", 4, "ngIf"], [1, "tdsi-success-fill", "text-primary-1", "text-sm"], [1, "w-full", "truncate"]], template: function TDSSelect_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵelementStart(0, "div", 0, 1);
        i0.ɵɵlistener("click", function TDSSelect_Template_div_click_0_listener($event) { return ctx.onContainerClick($event); });
        i0.ɵɵelementStart(2, "div", 2)(3, "div", 3);
        i0.ɵɵelementContainerStart(4, 4);
        i0.ɵɵtemplate(5, TDSSelect_ng_container_5_Template, 6, 8, "ng-container", 5);
        i0.ɵɵtemplate(6, TDSSelect_ng_container_6_Template, 7, 14, "ng-container", 6);
        i0.ɵɵelementContainerEnd();
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(7, "div", 7, 8)(9, "div", 9);
        i0.ɵɵtemplate(10, TDSSelect_div_10_Template, 3, 6, "div", 10);
        i0.ɵɵtemplate(11, TDSSelect_div_11_Template, 3, 7, "div", 11);
        i0.ɵɵelementEnd()()()();
        i0.ɵɵtemplate(12, TDSSelect_ng_template_12_Template, 7, 15, "ng-template", 12);
        i0.ɵɵlistener("overlayKeydown", function TDSSelect_Template_ng_template_overlayKeydown_12_listener($event) { return ctx.onOverlayKeyDown($event); })("overlayOutsideClick", function TDSSelect_Template_ng_template_overlayOutsideClick_12_listener($event) { return ctx.onClickOutside($event); })("detach", function TDSSelect_Template_ng_template_detach_12_listener() { return ctx.setOpenState(false); })("positionChange", function TDSSelect_Template_ng_template_positionChange_12_listener($event) { return ctx.onPositionChange($event); });
        i0.ɵɵtemplate(13, TDSSelect_ng_template_13_Template, 4, 2, "ng-template", null, 13, i0.ɵɵtemplateRefExtractor);
        i0.ɵɵtemplate(15, TDSSelect_ng_template_15_Template, 2, 1, "ng-template", null, 14, i0.ɵɵtemplateRefExtractor);
        i0.ɵɵtemplate(17, TDSSelect_ng_template_17_Template, 2, 1, "ng-template", null, 15, i0.ɵɵtemplateRefExtractor);
    } if (rf & 2) {
        i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(14, _c8, !ctx.parentIsFormField && ctx.border));
        i0.ɵɵadvance(3);
        i0.ɵɵstyleProp("padding-right", ctx.paddingRightIcon, "px");
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngSwitch", ctx.mode);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngSwitchCase", "default");
        i0.ɵɵadvance(5);
        i0.ɵɵproperty("ngIf", ctx.showClear());
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.classIcon);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("cdkConnectedOverlayHasBackdrop", ctx.backdrop)("cdkConnectedOverlayMinWidth", ctx.dropdownMatchSelectWidth ? null : ctx.triggerWidth)("cdkConnectedOverlayWidth", ctx.dropdownMatchSelectWidth ? ctx.triggerWidth : null)("cdkConnectedOverlayOrigin", ctx.overlayOrigin)("cdkConnectedOverlayTransformOriginOn", ".form-field-connection-container")("cdkConnectedOverlayPanelClass", ctx.dropdownClassName)("cdkConnectedOverlayOpen", ctx.open);
    } }, directives: [i4.NgClass, i4.NgSwitch, i4.NgSwitchCase, i4.NgIf, i5.TDSSelectPlaceholderComponent, i4.NgTemplateOutlet, i6.TDSSelectSearchComponent, i4.NgSwitchDefault, i4.NgForOf, i7.CdkConnectedOverlay, i8.TDSSpinComponent, i9.TDSEmbedEmptyComponent, i10.CdkVirtualScrollViewport, i10.CdkFixedSizeVirtualScroll, i10.CdkVirtualForOf, i11.TDSSelectOptionGroup, i12.TDSOptionItem], encapsulation: 2, changeDetection: 0 });
__decorate([
    InputBoolean()
], TDSSelect.prototype, "open", void 0);
__decorate([
    InputBoolean()
], TDSSelect.prototype, "autofocus", void 0);
__decorate([
    InputBoolean()
], TDSSelect.prototype, "allowClear", void 0);
__decorate([
    InputBoolean()
], TDSSelect.prototype, "allowSearch", void 0);
__decorate([
    InputBoolean()
], TDSSelect.prototype, "backdrop", void 0);
__decorate([
    InputBoolean()
], TDSSelect.prototype, "dropdownMatchSelectWidth", void 0);
__decorate([
    InputBoolean()
], TDSSelect.prototype, "serverSearch", void 0);
__decorate([
    InputBoolean()
], TDSSelect.prototype, "autoClearSearchValue", void 0);
__decorate([
    InputBoolean()
], TDSSelect.prototype, "autoClose", void 0);
__decorate([
    InputBoolean()
], TDSSelect.prototype, "loading", void 0);
__decorate([
    InputBoolean()
], TDSSelect.prototype, "hideSelected", void 0);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(TDSSelect, [{
        type: Component,
        args: [{ selector: 'tds-select', providers: [
                    {
                        provide: TDSFormFieldControl,
                        useExisting: forwardRef(() => TDSSelect),
                    }
                ], host: {
                    'class': 'w-full block relative box-border m-0 p-0',
                    '[class.cursor-pointer]': "!disabled",
                    // '[class.cursor-not-allowed]':"disabled"
                }, changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, template: "<!-- <ng-content ></ng-content> -->\r\n<div class=\"tds-select-selector w-full  max-w-full group relative \" (click)=\"onContainerClick($event)\" #selectOverlay [ngClass]=\"{ \r\n    'border border-neutral-2-200 dark:border-d-neutral-2-200 rounded  ':!parentIsFormField && border\r\n}\">\r\n    <div class=\"w-full flex items-stretch  max-w-full group-hover:bg-neutral-3-50  dark:group-hover:bg-d-neutral-3-50 group-hover:rounded\">\r\n        <div class=\"tds-value-container w-full relative\" [style.paddingRight.px]=\"paddingRightIcon\">\r\n\r\n            <ng-container [ngSwitch]=\"mode\">\r\n                <ng-container *ngSwitchCase=\"'default'\">\r\n                    <div class=\"w-full max-w-full relative\" [ngClass]=\"{\r\n                        'pl-2.5  py-1':size ==='sm',\r\n                        'pl-3  py-1.5':size ==='md',                                          \r\n                        'pl-4  py-2':size ==='lg'\r\n                    }\">\r\n                        <div class=\"max-w-full relative \"  style=\"min-height: 20px;\">\r\n                            <tds-select-placeholder *ngIf=\"isShowPlaceholder\" [placeholder]=\"placeholder\"\r\n                                class=\"tds-placeholder mr-1  block\">\r\n                            </tds-select-placeholder>\r\n                            <div class=\"tds-value select-none\" *ngIf=\"isShowSingleLabel\">\r\n                                <div class=\"w-full\">\r\n                                    <div class=\"text-body-2 font-regular text-neutral-1-900 dark:text-d-neutral-1-900 truncate box-border\">\r\n                                        <ng-template [ngTemplateOutlet]=\"labelTemplate || defaultLabelTemplate\"\r\n                                            [ngTemplateOutletContext]=\"{label:listOfTopItem[0].textField ,value: listOfTopItem[0].valueField, $implicit:listOfTopItem[0],item:listOfTopItem[0]}\">\r\n                                        </ng-template>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"absolute inset-0\" *ngIf=\"isSearchDefault\">                         \r\n                                <tds-select-search class=\"w-full\" #tdsselectsearch [id]=\"id\" [disabled]=\"disabled\"\r\n                                    [value]=\"inputValue!\" [showInput]=\"showSearch\" [autofocus]=\"autofocus\"\r\n                                    [focusTrigger]=\"open\" (isComposingChange)=\"isComposingChange($event)\"\r\n                                    (valueChange)=\"onInputValueChange($event)\" (keydown)=\"onKeyDown($event)\">\r\n                                </tds-select-search>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ng-container>\r\n                <ng-container *ngSwitchDefault>\r\n                    <div class=\"w-full max-w-full relative flex-wrap flex-shrink flex-grow break-words flex \">\r\n\r\n                        <tds-select-placeholder [placeholder]=\"placeholder\" class=\"tds-placeholder mr-1  block\"\r\n                            *ngIf=\"showPlaceholder\" [ngClass]=\"{\r\n                    'pl-2.5  py-1':size ==='sm',                  \r\n                    'pl-3  py-1.5':size ==='md',                                          \r\n                    'pl-4  py-2':size ==='lg'\r\n                }\">\r\n                        </tds-select-placeholder>\r\n                        <div class=\"tds-value  flex max-w-full\" *ngFor=\"let item of listOfTopItem; trackBy: trackValue\"\r\n                            [ngClass]=\"{'py-0.5':size ==='sm' ,\r\n                        'py-1':size ==='md' ,\r\n                        'py-1.5':size ==='lg' }\">\r\n                            <div\r\n                                class=\"w-full flex max-w-full items-center bg-neutral-3-200 dark:bg-d-neutral-3-200 group hover:bg-neutral-3-300 dark:hover:bg-d-neutral-3-300 rounded mx-1 py-0.5 pl-1.5\">\r\n                                <div class=\"text-body-2 font-regular text-neutral-1-900 dark:text-d-neutral-1-900 whitespace-nowrap box-border truncate\">\r\n                                    <ng-template [ngTemplateOutlet]=\"labelTemplate || defaultTagTemplate\"\r\n                                        [ngTemplateOutletContext]=\"{ label:item.textField ,value:item.valueField, $implicit:item,item:item }\">\r\n                                    </ng-template>\r\n                                </div>\r\n                                <div class=\"flex items-center group-hover:text-neutral-1-700 dark:group-hover:text-d-neutral-1-700 text-neutral-1-500 dark:text-d-neutral-1-500 ml-0.5 pl-1 pr-1\"\r\n                                    (click)=\"onItemDelete($event,item)\">\r\n                                    <i class=\"tdsi-close-fill  text-base leading-5\" *ngIf=\"!disabled\"></i>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"tds-input flex-1 pl-2\" [ngClass]=\"{\r\n                    'my-1':size ==='sm',\r\n                    'my-1.5':size ==='md',                                          \r\n                    'my-2 ':size ==='lg'\r\n                }\">\r\n                            <tds-select-search #tdsselectsearch [id]=\"id\" [disabled]=\"disabled\" [value]=\"inputValue!\"\r\n                                [showInput]=\"showSearch\" [autofocus]=\"autofocus\" [focusTrigger]=\"open\"\r\n                                (isComposingChange)=\"isComposingChange($event)\"\r\n                                (valueChange)=\"onInputValueChange($event)\" (keydown)=\"onKeyDown($event)\">\r\n                            </tds-select-search>\r\n                        </div>\r\n                    </div>\r\n\r\n                </ng-container>\r\n            </ng-container>\r\n        </div>\r\n        <div class=\"absolute bottom-0 right-0 top-0\" #rigthContainer>\r\n            <div class=\"w-full h-full flex items-center justify-center\">\r\n                <div class=\"tds-clear-wrapper text-neutral-1-500 dark:text-d-neutral-1-500 flex \" *ngIf=\"showClear()\" [ngClass]=\"{\r\n                'p-1':size ==='sm',\r\n                'p-1.5':size ==='md',                                          \r\n                'p-2':size ==='lg',\r\n                'flex-grow-0 flex-shrink-0':mode =='default'\r\n            }\">\r\n                    <div class=\"flex items-center\" (click)=\"onClearSelection($event)\">\r\n                        <i class=\"tdsi-close-fill text-base leading-4\"></i>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"classIcon\" class=\"tds-arrow-wrapper h-full text-neutral-1-900 dark:text-d-neutral-1-900 flex items-center  group-hover:border-transparent\"\r\n                    style=\"border-top-right-radius: 0.2rem;border-bottom-right-radius: 0.2rem; \" [ngClass]=\"{\r\n                    'px-1':size ==='sm',\r\n                    'px-1.5':size ==='md',                                          \r\n                    'px-2':size ==='lg',\r\n                    'flex-grow-0 flex-shrink-0':mode =='default'\r\n                }\">\r\n                    <div class=\"flex items-center\">\r\n                        <i [ngClass]=\"classIcon\" class=\"text-base leading-4\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n<ng-template cdkConnectedOverlay cdkConnectedOverlayLockPosition [cdkConnectedOverlayHasBackdrop]=\"backdrop\"\r\n    [cdkConnectedOverlayMinWidth]=\"$any(dropdownMatchSelectWidth ? null : triggerWidth)\"\r\n    [cdkConnectedOverlayWidth]=\"$any(dropdownMatchSelectWidth ? triggerWidth : null)\"\r\n    [cdkConnectedOverlayOrigin]=\"overlayOrigin\"\r\n    [cdkConnectedOverlayTransformOriginOn]=\"'.form-field-connection-container'\"\r\n    [cdkConnectedOverlayPanelClass]=\"dropdownClassName!\" [cdkConnectedOverlayOpen]=\"open\"\r\n    (overlayKeydown)=\"onOverlayKeyDown($event)\" (overlayOutsideClick)=\"onClickOutside($event)\"\r\n    (detach)=\"setOpenState(false)\" (positionChange)=\"onPositionChange($event)\">\r\n    <div class=\"py-1 tds-select-panel relative w-full\">\r\n        <div class=\"relative py-1 w-full overflow-auto bg-white dark:bg-d-neutral-3-300 shadow-1-lg  rounded \">\r\n            <tds-spin [spinning]=\"loading\" [tip]=\"'...'\">\r\n                <div class=\"p-1\" *ngIf=\"listOfContainerItem.length === 0 && !loading\" class=\"tds-select-item-empty\">\r\n                    <tds-embed-empty componentName=\"select\" [specificContent]=\"notFoundTemplate!\"></tds-embed-empty>\r\n                </div>\r\n                <div class=\"w-full\">\r\n                    <cdk-virtual-scroll-viewport class=\"overflow-x-hidden w-full tds-panel-scroll\"\r\n                        [class.full-width]=\"!dropdownMatchSelectWidth\" [itemSize]=\"optionHeightPx\"\r\n                        [maxBufferPx]=\"optionHeightPx * optionOverflowSize\"\r\n                        [minBufferPx]=\"optionHeightPx * optionOverflowSize\"\r\n                        (scrolledIndexChange)=\"onScrolledIndexChange($event)\"\r\n                        [style.height.px]=\"listOfContainerItem.length * optionHeightPx\"\r\n                        [style.max-height.px]=\"optionHeightPx * optionOverflowSize\">\r\n                        <ng-template cdkVirtualFor [cdkVirtualForOf]=\"listOfContainerItem\"\r\n                            [cdkVirtualForTrackBy]=\"trackValue\" [cdkVirtualForTemplateCacheSize]=\"0\" let-item>\r\n                            <ng-container [ngSwitch]=\"item.type\">\r\n    \r\n                                <div class=\"w-full\">\r\n                                    <ng-template [ngSwitchCase]=\"'group'\">\r\n                                        <tds-option-group [label]=\"item.groupLabel!\"></tds-option-group>\r\n                                    </ng-template>\r\n                                    <ng-template [ngSwitchCase]=\"'item'\">                                       \r\n                                        <tds-option-item                                        \r\n                                            [grouped]=\"!!item.groupLabel\" [disabled]=\"item.disabled\"\r\n                                            [showState]=\"mode === 'tags' || mode === 'multiple'\" [label]=\"item.textField\"\r\n                                            [compareWith]=\"compareWith\" [activatedValue]=\"activatedValue\"\r\n                                            [listOfSelectedValue]=\"listOfValue\" [value]=\"item.valueField\"\r\n                                            [template]=\"optionTemplate ?  optionTemplate :  defaultOptionTemplate\"\r\n                                            [item]=\"item.data\" (itemClick)=\"onItemClick($event)\"\r\n                                            [hideSelected]=\"hideSelected\"\r\n                                            (itemHover)=\"onItemHover($event)\"\r\n                                            [size]=\"size\"\r\n                                            [ngClass]=\"tdsCssOption!\"\r\n                                           >\r\n\r\n                                        </tds-option-item>\r\n                                    </ng-template>\r\n                                </div>\r\n    \r\n                            </ng-container>\r\n                        </ng-template>\r\n    \r\n                    </cdk-virtual-scroll-viewport>\r\n                </div>\r\n            </tds-spin>\r\n           \r\n        </div>\r\n    </div>\r\n    \r\n  \r\n</ng-template>\r\n<ng-template #defaultOptionTemplate let-label='label' let-item=\"item\" let-value='value' let-selected=\"selected\">\r\n    <div class=\"w-full flex\">\r\n        <div class=\"w-full truncate pr-2\">\r\n            {{label}}\r\n        </div>\r\n        <div class=\"flex items-center\" *ngIf=\"selected\">\r\n            <span class=\"tdsi-success-fill text-primary-1 text-sm\"></span>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n<ng-template #defaultLabelTemplate let-label='label' let-item=\"item\" let-value='value'>\r\n    <div class=\"w-full truncate\">\r\n        {{label}}\r\n    </div>\r\n</ng-template>\r\n<ng-template #defaultTagTemplate let-label='label' let-item=\"item\" let-value='value'>\r\n    <div class=\"w-full truncate\">\r\n        {{label}}\r\n    </div>\r\n</ng-template>" }]
    }], function () { return [{ type: i1.FocusMonitor }, { type: i0.ElementRef }, { type: i0.ElementRef }, { type: i13.TDSFormField, decorators: [{
                type: Optional
            }, {
                type: Inject,
                args: [TDS_FORM_FIELD]
            }, {
                type: Host
            }] }, { type: i2.NgControl, decorators: [{
                type: Optional
            }, {
                type: Self
            }] }, { type: i0.ChangeDetectorRef }, { type: i3.Platform }, { type: i2.NgForm, decorators: [{
                type: Optional
            }] }, { type: i2.FormGroupDirective, decorators: [{
                type: Optional
            }] }, { type: i0.NgZone }]; }, { open: [{
            type: Input
        }], autofocus: [{
            type: Input
        }], allowClear: [{
            type: Input
        }], allowSearch: [{
            type: Input
        }], userAriaDescribedBy: [{
            type: Input,
            args: ['aria-describedby']
        }], id: [{
            type: Input
        }], backdrop: [{
            type: Input
        }], dropdownMatchSelectWidth: [{
            type: Input
        }], dropdownClassName: [{
            type: Input
        }], mode: [{
            type: Input
        }], compareWith: [{
            type: Input
        }], serverSearch: [{
            type: Input
        }], filterOption: [{
            type: Input
        }], optionOverflowSize: [{
            type: Input
        }], maxMultipleCount: [{
            type: Input
        }], autoClearSearchValue: [{
            type: Input
        }], maxTagCount: [{
            type: Input
        }], tokenSeparators: [{
            type: Input
        }], maxTagPlaceholder: [{
            type: Input
        }], autoClose: [{
            type: Input
        }], size: [{
            type: Input
        }], placeholder: [{
            type: Input
        }], required: [{
            type: Input
        }], disabled: [{
            type: Input
        }], textField: [{
            type: Input
        }], valueField: [{
            type: Input
        }], disabledField: [{
            type: Input
        }], groupField: [{
            type: Input
        }], data: [{
            type: Input
        }], loading: [{
            type: Input
        }], hideSelected: [{
            type: Input
        }], tdsCssOption: [{
            type: Input
        }], border: [{
            type: Input
        }], valuePrimitive: [{
            type: Input
        }], classIcon: [{
            type: Input
        }], onSearch: [{
            type: Output
        }], scrollToBottom: [{
            type: Output
        }], openChange: [{
            type: Output
        }], blurChange: [{
            type: Output
        }], focusChange: [{
            type: Output
        }], selectChangeEvent: [{
            type: Output,
            args: ['selectChange']
        }], cdkVirtualScrollViewport: [{
            type: ViewChild,
            args: [CdkVirtualScrollViewport, { static: false }]
        }], cdkConnectedOverlay: [{
            type: ViewChild,
            args: [CdkConnectedOverlay, { static: true }]
        }], _connectionSelectOverlay: [{
            type: ViewChild,
            args: ['selectOverlay', { static: true }]
        }], tdsSelectSearch: [{
            type: ViewChild,
            args: [TDSSelectSearchComponent, { static: false }]
        }], listOfOptionComponent: [{
            type: ContentChildren,
            args: [TDSOption, { descendants: true }]
        }], listOfOptionGroupComponent: [{
            type: ContentChildren,
            args: [TDSOptgroup, { descendants: true }]
        }], optionTemplate: [{
            type: ContentChild,
            args: [TDSOptionTemplateDirective, { read: TemplateRef }]
        }], optgroupTemplate: [{
            type: ContentChild,
            args: [TDSOptionTemplateDirective, { read: TemplateRef }]
        }], labelTemplate: [{
            type: ContentChild,
            args: [TDSLabelTemplateDirective, { read: TemplateRef }]
        }], multiLabelTemplate: [{
            type: ContentChild,
            args: [TDSMultiLabelTemplateDirective, { read: TemplateRef }]
        }], headerTemplate: [{
            type: ContentChild,
            args: [TDSHeaderTemplateDirective, { read: TemplateRef }]
        }], footerTemplate: [{
            type: ContentChild,
            args: [TDSFooterTemplateDirective, { read: TemplateRef }]
        }], notFoundTemplate: [{
            type: ContentChild,
            args: [TDSNotFoundTemplateDirective, { read: TemplateRef }]
        }], typeToSearchTemplate: [{
            type: ContentChild,
            args: [TDSTypeToSearchTemplateDirective, { read: TemplateRef }]
        }], loadingTextTemplate: [{
            type: ContentChild,
            args: [TDSLoadingTextTemplateDirective, { read: TemplateRef }]
        }], tagTemplate: [{
            type: ContentChild,
            args: [TDSTagTemplateDirective, { read: TemplateRef }]
        }], loadingSpinnerTemplate: [{
            type: ContentChild,
            args: [TDSLoadingSpinnerTemplateDirective, { read: TemplateRef }]
        }], _rigthContainer: [{
            type: ViewChild,
            args: ['rigthContainer', { static: true }]
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvdGRzLXVpL3NlbGVjdC9zZWxlY3QudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy90ZHMtdWkvc2VsZWN0L3NlbGVjdC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxPQUFPLEVBQWdCLHFCQUFxQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDNUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDeEYsT0FBTyxFQUFFLG1CQUFtQixFQUFFLGdCQUFnQixFQUFrQyxNQUFNLHNCQUFzQixDQUFDO0FBRTdHLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2xFLE9BQU8sRUFBaUIsdUJBQXVCLEVBQXFCLFNBQVMsRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUF1QixZQUFZLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUE2QixRQUFRLEVBQUUsTUFBTSxFQUFhLElBQUksRUFBaUIsV0FBVyxFQUFFLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVoVSxPQUFPLEVBQUUsZUFBZSxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQzFFLE9BQU8sRUFBaUIsU0FBUyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDMUQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBRXJELE9BQU8sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDNUQsT0FBTyxFQUFnQixtQkFBbUIsRUFBRSxjQUFjLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUN0RixPQUFPLEVBQUUsZUFBZSxF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LFdBQVcsRUFBRTtZQUNDLGFBQWE7a0JBQTVFLFlBQVk7bUJBQUMseUJBQXlCLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO1lBQ08sa0JBQWtCO2tCQUF0RixZQUFZO21CQUFDLDhCQUE4QixFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRTtZQUNGLGNBQWM7a0JBQTlFLFlBQVk7bUJBQUMsMEJBQTBCLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO1lBQ0UsY0FBYztrQkFBOUUsWUFBWTttQkFBQywwQkFBMEIsRUFBRSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUU7WUFDSSxnQkFBZ0I7a0JBQWxGLFlBQVk7bUJBQUMsNEJBQTRCLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO1lBQ00sb0JBQW9CO2tCQUExRixZQUFZO21CQUFDLGdDQUFnQyxFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRTtZQUNDLG1CQUFtQjtrQkFBeEYsWUFBWTttQkFBQywrQkFBK0IsRUFBRSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUU7WUFDTixXQUFXO2tCQUF4RSxZQUFZO21CQUFDLHVCQUF1QixFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRTtZQUNhLHNCQUFzQjtrQkFBOUYsWUFBWTttQkFBQyxrQ0FBa0MsRUFBRSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUU7WUFJeEIsZUFBZTtrQkFBN0QsU0FBUzttQkFBQyxnQkFBZ0IsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb2N1c01vbml0b3IgfSBmcm9tIFwiQGFuZ3VsYXIvY2RrL2ExMXlcIjtcclxuaW1wb3J0IHsgQm9vbGVhbklucHV0LCBjb2VyY2VCb29sZWFuUHJvcGVydHkgfSBmcm9tIFwiQGFuZ3VsYXIvY2RrL2NvZXJjaW9uXCI7XHJcbmltcG9ydCB7IERPV05fQVJST1csIEVOVEVSLCBFU0NBUEUsIFNQQUNFLCBUQUIsIFVQX0FSUk9XIH0gZnJvbSBcIkBhbmd1bGFyL2Nkay9rZXljb2Rlc1wiO1xyXG5pbXBvcnQgeyBDZGtDb25uZWN0ZWRPdmVybGF5LCBDZGtPdmVybGF5T3JpZ2luLCBDb25uZWN0ZWRPdmVybGF5UG9zaXRpb25DaGFuZ2UgfSBmcm9tIFwiQGFuZ3VsYXIvY2RrL292ZXJsYXlcIjtcclxuaW1wb3J0IHsgUGxhdGZvcm0gfSBmcm9tIFwiQGFuZ3VsYXIvY2RrL3BsYXRmb3JtXCI7XHJcbmltcG9ydCB7IENka1ZpcnR1YWxTY3JvbGxWaWV3cG9ydCB9IGZyb20gXCJAYW5ndWxhci9jZGsvc2Nyb2xsaW5nXCI7XHJcbmltcG9ydCB7IEFmdGVyVmlld0luaXQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBDb250ZW50Q2hpbGQsIENvbnRlbnRDaGlsZHJlbiwgRG9DaGVjaywgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBmb3J3YXJkUmVmLCBIb3N0LCBJbmplY3QsIElucHV0LCBOZ1pvbmUsIE9uRGVzdHJveSwgT25Jbml0LCBPcHRpb25hbCwgT3V0cHV0LCBRdWVyeUxpc3QsIFNlbGYsIFNpbXBsZUNoYW5nZXMsIFRlbXBsYXRlUmVmLCBWaWV3Q2hpbGQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcclxuaW1wb3J0IHsgQ29udHJvbFZhbHVlQWNjZXNzb3IsIEZvcm1Db250cm9sLCBGb3JtR3JvdXBEaXJlY3RpdmUsIE5nQ29udHJvbCwgTmdGb3JtIH0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XHJcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgY29tYmluZUxhdGVzdCwgZnJvbUV2ZW50LCBTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcclxuaW1wb3J0IHsgZGVsYXksIGZpbHRlciwgdGFrZVVudGlsIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XHJcbmltcG9ydCB7IHJlcUFuaW1GcmFtZSB9IGZyb20gXCJ0ZHMtdWkvY29yZS9hbmltYXRpb25cIjtcclxuaW1wb3J0IHsgQnV0dG9uU2l6ZSwgTmdDbGFzc1R5cGUgfSBmcm9tIFwidGRzLXVpL2NvcmUvY29uZmlnXCI7XHJcbmltcG9ydCB7IFREU09wdGdyb3VwLCBURFNPcHRpb24gfSBmcm9tIFwidGRzLXVpL2NvcmUvb3B0aW9uXCI7XHJcbmltcG9ydCB7IFREU0Zvcm1GaWVsZCwgVERTRm9ybUZpZWxkQ29udHJvbCwgVERTX0ZPUk1fRklFTEQgfSBmcm9tIFwidGRzLXVpL2Zvcm0tZmllbGRcIjtcclxuaW1wb3J0IHsgVERTSXNFcnJvclN0YXRlIH0gZnJvbSBcInRkcy11aS9zaGFyZWQvY29tbW9uXCI7XHJcbmltcG9ydCB7IElucHV0Qm9vbGVhbiwgVERTSGVscGVyQXJyYXksIFREU0hlbHBlck9iamVjdCwgVERTSGVscGVyU3RyaW5nLCBURFNTYWZlQW55IH0gZnJvbSBcInRkcy11aS9zaGFyZWQvdXRpbGl0eVwiO1xyXG5pbXBvcnQgeyBURFNTZWxlY3RTZWFyY2hDb21wb25lbnQgfSBmcm9tIFwiLi9zZWxlY3Qtc2VhcmNoXCI7XHJcbmltcG9ydCB7XHJcbiAgICBURFNGb290ZXJUZW1wbGF0ZURpcmVjdGl2ZSxcclxuICAgIFREU0hlYWRlclRlbXBsYXRlRGlyZWN0aXZlLFxyXG4gICAgVERTTGFiZWxUZW1wbGF0ZURpcmVjdGl2ZSxcclxuICAgIFREU0xvYWRpbmdTcGlubmVyVGVtcGxhdGVEaXJlY3RpdmUsXHJcbiAgICBURFNMb2FkaW5nVGV4dFRlbXBsYXRlRGlyZWN0aXZlLFxyXG4gICAgVERTTXVsdGlMYWJlbFRlbXBsYXRlRGlyZWN0aXZlLFxyXG4gICAgVERTTm90Rm91bmRUZW1wbGF0ZURpcmVjdGl2ZSxcclxuICAgIFREU09wdGlvblRlbXBsYXRlRGlyZWN0aXZlLFxyXG4gICAgVERTVGFnVGVtcGxhdGVEaXJlY3RpdmUsXHJcbiAgICBURFNUeXBlVG9TZWFyY2hUZW1wbGF0ZURpcmVjdGl2ZVxyXG59IGZyb20gXCIuL3NlbGVjdC5kaXJlY3RpdmVcIjtcclxuaW1wb3J0IHsgVERTRmlsdGVyT3B0aW9uVHlwZSwgVERTU2VsZWN0SXRlbUludGVyZmFjZSwgVERTU2VsZWN0TW9kZVR5cGUgfSBmcm9tIFwiLi9zZWxlY3QudHlwZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFREU0RlZmF1bHRGaWx0ZXJPcHRpb246IFREU0ZpbHRlck9wdGlvblR5cGUgPSAoc2VhcmNoVmFsdWU6IHN0cmluZywgaXRlbTogVERTU2VsZWN0SXRlbUludGVyZmFjZSk6IGJvb2xlYW4gPT4ge1xyXG4gICAgaWYgKGl0ZW0gJiYgaXRlbS50ZXh0RmllbGQpIHtcclxuICAgICAgICByZXR1cm4gaXRlbS50ZXh0RmllbGQudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc2VhcmNoVmFsdWUudG9Mb3dlckNhc2UoKSkgPiAtMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAndGRzLXNlbGVjdCcsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIuL3NlbGVjdC5odG1sXCIsXHJcbiAgICBwcm92aWRlcnM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHByb3ZpZGU6IFREU0Zvcm1GaWVsZENvbnRyb2wsXHJcbiAgICAgICAgICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFREU1NlbGVjdCksXHJcblxyXG4gICAgICAgIH1cclxuICAgIF0sXHJcbiAgICBob3N0OiB7XHJcbiAgICAgICAgJ2NsYXNzJzogJ3ctZnVsbCBibG9jayByZWxhdGl2ZSBib3gtYm9yZGVyIG0tMCBwLTAnLFxyXG4gICAgICAgICdbY2xhc3MuY3Vyc29yLXBvaW50ZXJdJzogXCIhZGlzYWJsZWRcIixcclxuICAgICAgICAvLyAnW2NsYXNzLmN1cnNvci1ub3QtYWxsb3dlZF0nOlwiZGlzYWJsZWRcIlxyXG4gICAgfSxcclxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuXHJcbn0pXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFREU1NlbGVjdCBpbXBsZW1lbnRzIENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBURFNGb3JtRmllbGRDb250cm9sPGFueT4sIE9uRGVzdHJveSwgRG9DaGVjaywgT25Jbml0LCBBZnRlclZpZXdJbml0IHtcclxuICAgIHByaXZhdGUgX2Rlc3Ryb3kgPSBuZXcgU3ViamVjdDx2b2lkPigpO1xyXG4gICAgc3RhdGVDaGFuZ2VzID0gbmV3IFN1YmplY3Q8dm9pZD4oKTtcclxuICAgIHByaXZhdGUgbGlzdE9mVmFsdWUkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxhbnlbXT4oW10pO1xyXG4gICAgcHJpdmF0ZSBsaXN0T2ZUZW1wbGF0ZUl0ZW0kID0gbmV3IEJlaGF2aW9yU3ViamVjdDxURFNTZWxlY3RJdGVtSW50ZXJmYWNlW10+KFtdKTtcclxuICAgIHN0YXRpYyBuZXh0SWQgPSAwO1xyXG5cclxuICAgIGZvY3VzZWQgPSBmYWxzZTtcclxuICAgIGdldCBlbXB0eSgpIHtcclxuICAgICAgICByZXR1cm4gIVREU0hlbHBlckFycmF5Lmhhc0xpc3RWYWx1ZSh0aGlzLmxpc3RPZlZhbHVlKTtcclxuICAgIH1cclxuICAgIGxpc3RPZlRvcEl0ZW06IFREU1NlbGVjdEl0ZW1JbnRlcmZhY2VbXSA9IFtdO1xyXG4gICAgYWN0aXZhdGVkVmFsdWU6IGFueSB8IG51bGwgPSBudWxsO1xyXG4gICAgbGlzdE9mVmFsdWU6IEFycmF5PGFueT4gPSBbXTtcclxuICAgIGlucHV0VmFsdWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gICAgdHJpZ2dlcldpZHRoOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuICAgIGRyb3BEb3duUG9zaXRpb246ICd0b3AnIHwgJ2NlbnRlcicgfCAnYm90dG9tJyA9ICdib3R0b20nO1xyXG4gICAgaXNSZWFjdGl2ZURyaXZlbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBsaXN0T2ZUYWdBbmRUZW1wbGF0ZUl0ZW06IFREU1NlbGVjdEl0ZW1JbnRlcmZhY2VbXSA9IFtdO1xyXG4gICAgbGlzdE9mQ29udGFpbmVySXRlbTogVERTU2VsZWN0SXRlbUludGVyZmFjZVtdID0gW107XHJcbiAgICBwcml2YXRlIHNjcm9sbGVkSW5kZXggPSAwO1xyXG4gICAgQElucHV0KCkgQElucHV0Qm9vbGVhbigpIG9wZW4gPSBmYWxzZTtcclxuICAgIEBJbnB1dCgpIEBJbnB1dEJvb2xlYW4oKSBhdXRvZm9jdXMgPSBmYWxzZTtcclxuICAgIHNob3dTZWFyY2ggPSB0cnVlO1xyXG4gICAgQElucHV0KCkgQElucHV0Qm9vbGVhbigpIGFsbG93Q2xlYXIgPSBmYWxzZTtcclxuICAgIEBJbnB1dCgpIEBJbnB1dEJvb2xlYW4oKSBhbGxvd1NlYXJjaCA9IHRydWU7XHJcbiAgICBASW5wdXQoJ2FyaWEtZGVzY3JpYmVkYnknKSB1c2VyQXJpYURlc2NyaWJlZEJ5ITogc3RyaW5nO1xyXG4gICAgQElucHV0KCkgaWQgPSBgdGRzLXNlbGVjdC0ke1REU1NlbGVjdC5uZXh0SWQrK31gO1xyXG4gICAgQElucHV0KCkgQElucHV0Qm9vbGVhbigpIGJhY2tkcm9wID0gZmFsc2U7XHJcbiAgICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoID0gdHJ1ZTtcclxuICAgIEBJbnB1dCgpIGRyb3Bkb3duQ2xhc3NOYW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICAgIEBJbnB1dCgpIG1vZGU6IFREU1NlbGVjdE1vZGVUeXBlID0gJ2RlZmF1bHQnO1xyXG4gICAgQElucHV0KCkgY29tcGFyZVdpdGg6IChvMTogYW55LCBvMjogYW55KSA9PiBib29sZWFuID0gKG8xOiBhbnksIG8yOiBhbnkpID0+IG8xID09PSBvMjtcclxuICAgIEBJbnB1dCgpIEBJbnB1dEJvb2xlYW4oKSBzZXJ2ZXJTZWFyY2ggPSBmYWxzZTtcclxuICAgIEBJbnB1dCgpIGZpbHRlck9wdGlvbjogVERTRmlsdGVyT3B0aW9uVHlwZSA9IFREU0RlZmF1bHRGaWx0ZXJPcHRpb247XHJcbiAgICBvcHRpb25IZWlnaHRQeCA9IDM3O1xyXG4gICAgQElucHV0KCkgb3B0aW9uT3ZlcmZsb3dTaXplID0gODtcclxuICAgIEBJbnB1dCgpIG1heE11bHRpcGxlQ291bnQgPSBJbmZpbml0eTtcclxuICAgIEBJbnB1dCgpIEBJbnB1dEJvb2xlYW4oKSBhdXRvQ2xlYXJTZWFyY2hWYWx1ZSA9IHRydWU7XHJcbiAgICBASW5wdXQoKSBtYXhUYWdDb3VudCA9IEluZmluaXR5O1xyXG4gICAgQElucHV0KCkgdG9rZW5TZXBhcmF0b3JzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgQElucHV0KCkgbWF4VGFnUGxhY2Vob2xkZXI6IFRlbXBsYXRlUmVmPHsgJGltcGxpY2l0OiBhbnlbXSB9PiB8IG51bGwgPSBudWxsO1xyXG4gICAgLy9kdW5nIGNobyBtb2RlICB0YWdzIC8gbXVsdGlwbGVcclxuICAgIEBJbnB1dCgpIEBJbnB1dEJvb2xlYW4oKSBhdXRvQ2xvc2UgPSBmYWxzZTtcclxuICAgIEBJbnB1dCgpXHJcbiAgICBnZXQgc2l6ZSgpOiBCdXR0b25TaXplIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcclxuICAgIH1cclxuICAgIHNldCBzaXplKHZhbHVlOiBCdXR0b25TaXplKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3NpemUgIT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlcy5uZXh0KCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNtXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25IZWlnaHRQeCA9IDI5O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImxnXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25IZWlnaHRQeCA9IDQ1O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbkhlaWdodFB4ID0gMzc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfc2l6ZTogQnV0dG9uU2l6ZSA9IFwibWRcIjtcclxuICAgIEBJbnB1dCgpXHJcbiAgICBnZXQgcGxhY2Vob2xkZXIoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGxhY2Vob2xkZXI7XHJcbiAgICB9XHJcbiAgICBzZXQgcGxhY2Vob2xkZXIodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX3BsYWNlaG9sZGVyID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZXMubmV4dCgpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfcGxhY2Vob2xkZXIhOiBzdHJpbmc7XHJcblxyXG4gICAgQElucHV0KClcclxuICAgIGdldCByZXF1aXJlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWlyZWQ7XHJcbiAgICB9XHJcbiAgICBzZXQgcmVxdWlyZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9yZXF1aXJlZCA9IGNvZXJjZUJvb2xlYW5Qcm9wZXJ0eSh2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZXMubmV4dCgpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfcmVxdWlyZWQgPSBmYWxzZTtcclxuXHJcbiAgICBASW5wdXQoKVxyXG4gICAgZ2V0IGRpc2FibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNhYmxlZDtcclxuICAgIH1cclxuICAgIHNldCBkaXNhYmxlZCh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gY29lcmNlQm9vbGVhblByb3BlcnR5KHZhbHVlKTtcclxuICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlcy5uZXh0KCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgIHZhbHVlOiBURFNTYWZlQW55IHwgQXJyYXk8VERTU2FmZUFueT4gPSB1bmRlZmluZWQ7XHJcbiAgICBlcnJvclN0YXRlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICB1cGRhdGVFcnJvclN0YXRlKCkge1xyXG4gICAgICAgIGNvbnN0IG9sZFN0YXRlID0gdGhpcy5lcnJvclN0YXRlO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX3BhcmVudEZvcm1Hcm91cCB8fCB0aGlzLl9wYXJlbnRGb3JtO1xyXG4gICAgICAgIC8vIGNvbnN0IG1hdGNoZXIgPSB0aGlzLmVycm9yU3RhdGVNYXRjaGVyIHx8IHRoaXMuX2RlZmF1bHRFcnJvclN0YXRlTWF0Y2hlcjtcclxuICAgICAgICBjb25zdCBjb250cm9sID0gdGhpcy5uZ0NvbnRyb2wgPyB0aGlzLm5nQ29udHJvbC5jb250cm9sIGFzIEZvcm1Db250cm9sIDogbnVsbDtcclxuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHRoaXMuX2lzRXJyb3JTdGF0ZShjb250cm9sLCBwYXJlbnQpO1xyXG4gICAgICAgIGlmIChuZXdTdGF0ZSAhPT0gb2xkU3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvclN0YXRlID0gbmV3U3RhdGU7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VzLm5leHQoKTtcclxuICAgICAgICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfaXNFcnJvclN0YXRlKGNvbnRyb2w6IEZvcm1Db250cm9sIHwgbnVsbCwgZm9ybTogRm9ybUdyb3VwRGlyZWN0aXZlIHwgTmdGb3JtIHwgbnVsbCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBURFNJc0Vycm9yU3RhdGUoY29udHJvbCwgZm9ybSk7XHJcbiAgICB9XHJcbiAgICBASW5wdXQoKVxyXG4gICAgZ2V0IHRleHRGaWVsZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0RmllbGQ7XHJcbiAgICB9XHJcbiAgICBzZXQgdGV4dEZpZWxkKHZhbDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHZhbCAhPT0gdGhpcy5fdGV4dEZpZWxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHRGaWVsZCA9IHZhbDtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZXMubmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgX3RleHRGaWVsZCA9ICdsYWJsZSc7XHJcbiAgICBASW5wdXQoKVxyXG4gICAgZ2V0IHZhbHVlRmllbGQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVGaWVsZDtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZUZpZWxkKHZhbDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHZhbCAhPT0gdGhpcy5fdmFsdWVGaWVsZCkge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZUZpZWxkID0gdmFsO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlcy5uZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfdmFsdWVGaWVsZCA9ICd2YWx1ZSc7XHJcbiAgICBASW5wdXQoKVxyXG4gICAgZ2V0IGRpc2FibGVkRmllbGQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzYWJsZWRGaWVsZDtcclxuICAgIH1cclxuICAgIHNldCBkaXNhYmxlZEZpZWxkKHZhbDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHZhbCAhPT0gdGhpcy5fZGlzYWJsZWRGaWVsZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlZEZpZWxkID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgX2Rpc2FibGVkRmllbGQgPSAnZGlzYWJsZWQnO1xyXG5cclxuICAgIEBJbnB1dCgpXHJcbiAgICBnZXQgZ3JvdXBGaWVsZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ncm91cEZpZWxkO1xyXG4gICAgfVxyXG4gICAgc2V0IGdyb3VwRmllbGQodmFsOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodmFsICE9PSB0aGlzLl9ncm91cEZpZWxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2dyb3VwRmllbGQgPSB2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfZ3JvdXBGaWVsZCA9ICdncm91cCc7XHJcbiAgICBASW5wdXQoKVxyXG4gICAgZ2V0IGRhdGEoKTogQXJyYXk8VERTU2FmZUFueT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xyXG4gICAgfVxyXG4gICAgc2V0IGRhdGEodmFsOiBBcnJheTxURFNTYWZlQW55PiB8IFREU1NhZmVBbnkpIHtcclxuICAgICAgICBpZiAoVERTSGVscGVyQXJyYXkuaGFzTGlzdFZhbHVlKHZhbCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHZhbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VzLm5leHQoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgX2RhdGE6IEFycmF5PFREU1NhZmVBbnk+ID0gW107XHJcbiAgICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgbG9hZGluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgQElucHV0KCkgQElucHV0Qm9vbGVhbigpIGhpZGVTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgQElucHV0KCkgdGRzQ3NzT3B0aW9uOiBOZ0NsYXNzVHlwZSB8IG51bGwgPSBudWxsO1xyXG4gICAgaXNTaG93UGxhY2Vob2xkZXIgPSB0cnVlO1xyXG4gICAgaXNTaG93U2luZ2xlTGFiZWwgPSBmYWxzZTtcclxuICAgIGlzQ29tcG9zaW5nID0gZmFsc2U7XHJcblxyXG5cclxuICAgIEBJbnB1dCgpIGJvcmRlcjogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBASW5wdXQoKSB2YWx1ZVByaW1pdGl2ZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBASW5wdXQoKSBjbGFzc0ljb246IHN0cmluZyB8IG51bGwgPSBcInRkc2ktYXJyb3ctZG93bi1saW5lXCI7XHJcbiAgICBwYXJlbnRJc0Zvcm1GaWVsZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgQE91dHB1dCgpIHJlYWRvbmx5IG9uU2VhcmNoID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XHJcbiAgICBAT3V0cHV0KCkgcmVhZG9ubHkgc2Nyb2xsVG9Cb3R0b20gPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XHJcbiAgICBAT3V0cHV0KCkgcmVhZG9ubHkgb3BlbkNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcclxuICAgIEBPdXRwdXQoKSByZWFkb25seSBibHVyQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xyXG4gICAgQE91dHB1dCgpIHJlYWRvbmx5IGZvY3VzQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xyXG4gICAgQE91dHB1dCgnc2VsZWN0Q2hhbmdlJykgcmVhZG9ubHkgc2VsZWN0Q2hhbmdlRXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPFREU1NhZmVBbnk+KCk7XHJcbiAgICBAVmlld0NoaWxkKENka1ZpcnR1YWxTY3JvbGxWaWV3cG9ydCwgeyBzdGF0aWM6IGZhbHNlIH0pIGNka1ZpcnR1YWxTY3JvbGxWaWV3cG9ydCE6IENka1ZpcnR1YWxTY3JvbGxWaWV3cG9ydDtcclxuXHJcblxyXG4gICAgQFZpZXdDaGlsZChDZGtDb25uZWN0ZWRPdmVybGF5LCB7IHN0YXRpYzogdHJ1ZSB9KSBjZGtDb25uZWN0ZWRPdmVybGF5ITogQ2RrQ29ubmVjdGVkT3ZlcmxheTtcclxuICAgIEBWaWV3Q2hpbGQoJ3NlbGVjdE92ZXJsYXknLCB7IHN0YXRpYzogdHJ1ZSB9KSBfY29ubmVjdGlvblNlbGVjdE92ZXJsYXkhOiBFbGVtZW50UmVmO1xyXG4gICAgQFZpZXdDaGlsZChURFNTZWxlY3RTZWFyY2hDb21wb25lbnQsIHsgc3RhdGljOiBmYWxzZSB9KSB0ZHNTZWxlY3RTZWFyY2ghOiBURFNTZWxlY3RTZWFyY2hDb21wb25lbnQ7XHJcbiAgICBAQ29udGVudENoaWxkcmVuKFREU09wdGlvbiwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBsaXN0T2ZPcHRpb25Db21wb25lbnQhOiBRdWVyeUxpc3Q8VERTT3B0aW9uPjtcclxuICAgIEBDb250ZW50Q2hpbGRyZW4oVERTT3B0Z3JvdXAsIHsgZGVzY2VuZGFudHM6IHRydWUgfSkgbGlzdE9mT3B0aW9uR3JvdXBDb21wb25lbnQhOiBRdWVyeUxpc3Q8VERTT3B0Z3JvdXA+O1xyXG5cclxuXHJcblxyXG5cclxuICAgIC8vIGN1c3RvbSB0ZW1wbGF0ZXNcclxuICAgIEBDb250ZW50Q2hpbGQoVERTT3B0aW9uVGVtcGxhdGVEaXJlY3RpdmUsIHsgcmVhZDogVGVtcGxhdGVSZWYgfSkgb3B0aW9uVGVtcGxhdGUhOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gICAgQENvbnRlbnRDaGlsZChURFNPcHRpb25UZW1wbGF0ZURpcmVjdGl2ZSwgeyByZWFkOiBUZW1wbGF0ZVJlZiB9KSBvcHRncm91cFRlbXBsYXRlITogVGVtcGxhdGVSZWY8YW55PjtcclxuICAgIEBDb250ZW50Q2hpbGQoVERTTGFiZWxUZW1wbGF0ZURpcmVjdGl2ZSwgeyByZWFkOiBUZW1wbGF0ZVJlZiB9KSBsYWJlbFRlbXBsYXRlITogVGVtcGxhdGVSZWY8YW55PjtcclxuICAgIEBDb250ZW50Q2hpbGQoVERTTXVsdGlMYWJlbFRlbXBsYXRlRGlyZWN0aXZlLCB7IHJlYWQ6IFRlbXBsYXRlUmVmIH0pIG11bHRpTGFiZWxUZW1wbGF0ZSE6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgICBAQ29udGVudENoaWxkKFREU0hlYWRlclRlbXBsYXRlRGlyZWN0aXZlLCB7IHJlYWQ6IFRlbXBsYXRlUmVmIH0pIGhlYWRlclRlbXBsYXRlITogVGVtcGxhdGVSZWY8YW55PjtcclxuICAgIEBDb250ZW50Q2hpbGQoVERTRm9vdGVyVGVtcGxhdGVEaXJlY3RpdmUsIHsgcmVhZDogVGVtcGxhdGVSZWYgfSkgZm9vdGVyVGVtcGxhdGUhOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gICAgQENvbnRlbnRDaGlsZChURFNOb3RGb3VuZFRlbXBsYXRlRGlyZWN0aXZlLCB7IHJlYWQ6IFRlbXBsYXRlUmVmIH0pIG5vdEZvdW5kVGVtcGxhdGUhOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gICAgQENvbnRlbnRDaGlsZChURFNUeXBlVG9TZWFyY2hUZW1wbGF0ZURpcmVjdGl2ZSwgeyByZWFkOiBUZW1wbGF0ZVJlZiB9KSB0eXBlVG9TZWFyY2hUZW1wbGF0ZSE6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgICBAQ29udGVudENoaWxkKFREU0xvYWRpbmdUZXh0VGVtcGxhdGVEaXJlY3RpdmUsIHsgcmVhZDogVGVtcGxhdGVSZWYgfSkgbG9hZGluZ1RleHRUZW1wbGF0ZSE6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgICBAQ29udGVudENoaWxkKFREU1RhZ1RlbXBsYXRlRGlyZWN0aXZlLCB7IHJlYWQ6IFRlbXBsYXRlUmVmIH0pIHRhZ1RlbXBsYXRlITogVGVtcGxhdGVSZWY8YW55PjtcclxuICAgIEBDb250ZW50Q2hpbGQoVERTTG9hZGluZ1NwaW5uZXJUZW1wbGF0ZURpcmVjdGl2ZSwgeyByZWFkOiBUZW1wbGF0ZVJlZiB9KSBsb2FkaW5nU3Bpbm5lclRlbXBsYXRlITogVGVtcGxhdGVSZWY8YW55PjtcclxuICAgIHRpbWVyUmlnaHRJY29uOiBURFNTYWZlQW55O1xyXG4gICAgdGltZXJTY3JvbGxBY3RpdmU6VERTU2FmZUFueTtcclxuICAgIHBhZGRpbmdSaWdodEljb24gPSAwO1xyXG4gICAgQFZpZXdDaGlsZCgncmlndGhDb250YWluZXInLCB7IHN0YXRpYzogdHJ1ZSB9KSBfcmlndGhDb250YWluZXIhOiBFbGVtZW50UmVmO1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSBfZm9jdXNNb25pdG9yOiBGb2N1c01vbml0b3IsXHJcbiAgICAgICAgcHJpdmF0ZSBfZWxlbWVudFJlZjogRWxlbWVudFJlZixcclxuICAgICAgICBwcml2YXRlIGhvc3Q6IEVsZW1lbnRSZWY8SFRNTEVsZW1lbnQ+LFxyXG4gICAgICAgIEBPcHRpb25hbCgpIEBJbmplY3QoVERTX0ZPUk1fRklFTEQpIEBIb3N0KCkgcHVibGljIF9mb3JtRmllbGQ6IFREU0Zvcm1GaWVsZCxcclxuICAgICAgICBAT3B0aW9uYWwoKSBAU2VsZigpIHB1YmxpYyBuZ0NvbnRyb2w6IE5nQ29udHJvbCxcclxuICAgICAgICBwcml2YXRlIGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgICAgICAgcHJpdmF0ZSBwbGF0Zm9ybTogUGxhdGZvcm0sXHJcbiAgICAgICAgQE9wdGlvbmFsKCkgcHVibGljIF9wYXJlbnRGb3JtOiBOZ0Zvcm0sXHJcbiAgICAgICAgQE9wdGlvbmFsKCkgcHVibGljIF9wYXJlbnRGb3JtR3JvdXA6IEZvcm1Hcm91cERpcmVjdGl2ZSxcclxuICAgICAgICBwcml2YXRlIG5nWm9uZTogTmdab25lXHJcbiAgICApIHtcclxuICAgICAgICBpZiAodGhpcy5uZ0NvbnRyb2wgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLm5nQ29udHJvbC52YWx1ZUFjY2Vzc29yID0gdGhpcztcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9mb3JtRmllbGQpIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5zaXplID0gdGhpcy5fZm9ybUZpZWxkLnNpemU7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50SXNGb3JtRmllbGQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5fZm9jdXNNb25pdG9yXHJcbiAgICAgICAgICAgIC5tb25pdG9yKHRoaXMuX2VsZW1lbnRSZWYsIHRydWUpXHJcbiAgICAgICAgICAgIC5waXBlKHRha2VVbnRpbCh0aGlzLl9kZXN0cm95KSlcclxuICAgICAgICAgICAgLnN1YnNjcmliZShmb2N1c09yaWdpbiA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFmb2N1c09yaWdpbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmx1ckNoYW5nZS5lbWl0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Ub3VjaGVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c0NoYW5nZS5lbWl0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGNvbWJpbmVMYXRlc3QoW3RoaXMubGlzdE9mVmFsdWUkLCB0aGlzLmxpc3RPZlRlbXBsYXRlSXRlbSRdKVxyXG4gICAgICAgICAgICAucGlwZSh0YWtlVW50aWwodGhpcy5fZGVzdHJveSkpXHJcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKFtsaXN0T2ZTZWxlY3RlZFZhbHVlLCBsaXN0T2ZUZW1wbGF0ZUl0ZW1dKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0T2ZTZWxlY3RlZCA9ICF0aGlzLnZhbHVlUHJpbWl0aXZlICYmIFREU0hlbHBlck9iamVjdC5oYXNWYWx1ZSh0aGlzLnZhbHVlKSA/IHRoaXMuY292ZXJ0TW9kZWxUb0xpc3QodGhpcy52YWx1ZSwgdGhpcy5tb2RlKSA6IFtdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdENvbnZlcnREYXRhT2ZTZWxlY3RlZCA9IGxpc3RPZlNlbGVjdGVkLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZURhdGFJdGVtKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RPZlRhZ0l0ZW0gPSBsaXN0T2ZTZWxlY3RlZFZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoKSA9PiB0aGlzLm1vZGUgPT09ICd0YWdzJylcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHZhbHVlID0+IGxpc3RPZlRlbXBsYXRlSXRlbS5maW5kSW5kZXgobyA9PiB0aGlzLmNvbXBhcmVXaXRoKG8udmFsdWVGaWVsZCwgdmFsdWUpKSA9PT0gLTEgJiYgbGlzdENvbnZlcnREYXRhT2ZTZWxlY3RlZC5maW5kSW5kZXgobyA9PiB0aGlzLmNvbXBhcmVXaXRoKG8udmFsdWVGaWVsZCwgdmFsdWUpKSA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcCh2YWx1ZSA9PiB0aGlzLmxpc3RPZlRvcEl0ZW0uZmluZChvID0+IHRoaXMuY29tcGFyZVdpdGgoby52YWx1ZUZpZWxkLCB2YWx1ZSkpIHx8IHRoaXMuZ2VuZXJhdGVUYWdJdGVtKHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RPZlRhZ0FuZFRlbXBsYXRlSXRlbSA9IFsuLi5saXN0T2ZUZW1wbGF0ZUl0ZW0sIC4uLmxpc3RPZlRhZ0l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0T2ZUb3BJdGVtID0gdGhpcy5saXN0T2ZWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAodiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gVERTSGVscGVyT2JqZWN0Lmhhc1ZhbHVlKHYpICYmIFREU0hlbHBlck9iamVjdC5oYXNWYWx1ZSh2IVt0aGF0LnZhbHVlRmllbGRdKSA/IHYhW3RoYXQudmFsdWVGaWVsZF0gOiB2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLnRoaXMubGlzdE9mVGFnQW5kVGVtcGxhdGVJdGVtLCAuLi50aGlzLmxpc3RPZlRvcEl0ZW0sIC4uLmxpc3RDb252ZXJ0RGF0YU9mU2VsZWN0ZWRdLmZpbmQoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlV2l0aCh2YWx1ZSwgaXRlbS52YWx1ZUZpZWxkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiAhIWl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGlzdE9mQ29udGFpbmVySXRlbSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUZW1wbGF0ZVZhcmlhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmdSaWdodEljb24oKVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+XHJcbiAgICAgICAgICAgIGZyb21FdmVudCh0aGlzLmhvc3QubmF0aXZlRWxlbWVudCwgJ2NsaWNrJylcclxuICAgICAgICAgICAgICAgIC5waXBlKHRha2VVbnRpbCh0aGlzLl9kZXN0cm95KSlcclxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodGhpcy5vcGVuICYmIHRoaXMuc2hvd1NlYXJjaCkgfHwgdGhpcy5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5mb2N1c2VkICYmICF0aGlzLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZXMubmV4dCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE9wZW5TdGF0ZSghdGhpcy5vcGVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICB9XHJcbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgeyBvcGVuLCBkaXNhYmxlZCwgZGF0YSwgdGV4dEZpZWxkLCB2YWx1ZUZpZWxkLCBkaXNhYmxlZEZpZWxkLCB2YWx1ZVByaW1pdGl2ZSwgbG9hZGluZyB9ID0gY2hhbmdlcztcclxuXHJcbiAgICAgICAgaWYgKG9wZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5vbk9wZW5DaGFuZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpc2FibGVkICYmIHRoaXMuZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnNldEZvY3VzZWQoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFREU0hlbHBlck9iamVjdC5oYXNWYWx1ZSh0aGlzLmRhdGEpKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzUmVhY3RpdmVEcml2ZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBsaXN0T2ZPcHRpb25zID0gdGhpcy5kYXRhIHx8IFtdO1xyXG4gICAgICAgICAgICBjb25zdCBsaXN0T2ZUcmFuc2Zvcm1lZEl0ZW0gPSBsaXN0T2ZPcHRpb25zLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlRGF0YUl0ZW0oaXRlbSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RPZlRlbXBsYXRlSXRlbSQubmV4dChsaXN0T2ZUcmFuc2Zvcm1lZEl0ZW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG4gICAgdXBkYXRlTGlzdE9mVmFsdWUobGlzdE9mVmFsdWU6IEFycmF5PGFueT4pOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjb3ZlcnRMaXN0VG9Nb2RlbCA9IChsaXN0OiBBcnJheTxhbnk+LCBtb2RlOiBURFNTZWxlY3RNb2RlVHlwZSk6IEFycmF5PGFueT4gfCBhbnkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RbMF07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IG1vZGVsID0gY292ZXJ0TGlzdFRvTW9kZWwobGlzdE9mVmFsdWUsIHRoaXMubW9kZSk7XHJcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgIT09IG1vZGVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdE9mVmFsdWUgPSBsaXN0T2ZWYWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5saXN0T2ZWYWx1ZSQubmV4dChsaXN0T2ZWYWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBtb2RlbDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnZhbHVlUHJpbWl0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlID09ICdkZWZhdWx0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBURFNIZWxwZXJBcnJheS5oYXNMaXN0VmFsdWUodGhpcy5saXN0T2ZUb3BJdGVtKSA/IHRoaXMubGlzdE9mVG9wSXRlbVswXS5kYXRhIDogbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RDaGFuZ2VFdmVudC5lbWl0KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5saXN0T2ZUb3BJdGVtLm1hcChyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Q2hhbmdlRXZlbnQuZW1pdChkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RDaGFuZ2VFdmVudC5lbWl0KHRoaXMudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uQ2xlYXJTZWxlY3Rpb24oZTogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHRoaXMub25Ub3VjaGVkKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVMaXN0T2ZWYWx1ZShbXSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVMaXN0T2ZDb250YWluZXJJdGVtKCk6IHZvaWQge1xyXG5cclxuICAgICAgICBsZXQgbGlzdE9mQ29udGFpbmVySXRlbSA9IHRoaXMubGlzdE9mVGFnQW5kVGVtcGxhdGVJdGVtXHJcbiAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiAhaXRlbS5oaWRlKVxyXG4gICAgICAgICAgICAuZmlsdGVyKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlcnZlclNlYXJjaCAmJiB0aGlzLmlucHV0VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJPcHRpb24odGhpcy5pbnB1dFZhbHVlLCBpdGVtKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICd0YWdzJyAmJiB0aGlzLmlucHV0VmFsdWUpIHtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2hlZEl0ZW0gPSB0aGlzLmxpc3RPZlRhZ0FuZFRlbXBsYXRlSXRlbS5maW5kKGl0ZW0gPT4gaXRlbS50ZXh0RmllbGQgPT09IHRoaXMuaW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICghbWF0Y2hlZEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhZ0l0ZW0gPSB0aGlzLmdlbmVyYXRlVGFnSXRlbSh0aGlzLmlucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgbGlzdE9mQ29udGFpbmVySXRlbSA9IFt0YWdJdGVtLCAuLi5saXN0T2ZDb250YWluZXJJdGVtXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVkVmFsdWUgPSB0YWdJdGVtLnZhbHVlRmllbGQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlZFZhbHVlID0gbWF0Y2hlZEl0ZW0udmFsdWVGaWVsZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBvcHRpb25Ob3REaXNhYmxlZCA9IHRoaXMubGlzdE9mQ29udGFpbmVySXRlbS5maWx0ZXIoaXRlbSA9PiBpdGVtLnR5cGUgPT09ICdpdGVtJykuZmluZChpdGVtID0+ICFpdGVtLmRpc2FibGVkKTtcclxuICAgICAgICBjb25zdCBhY3RpdmF0ZWRJdGVtID1cclxuICAgICAgICAgICAgbGlzdE9mQ29udGFpbmVySXRlbS5maW5kKGl0ZW0gPT4gaXRlbS50ZXh0RmllbGQgPT09IHRoaXMuaW5wdXRWYWx1ZSkgfHxcclxuICAgICAgICAgICAgbGlzdE9mQ29udGFpbmVySXRlbS5maW5kKGl0ZW0gPT4gdGhpcy5jb21wYXJlV2l0aChpdGVtLnZhbHVlRmllbGQsIHRoaXMubGlzdE9mVmFsdWVbMF0pKVxyXG4gICAgICAgICAgICB8fCBvcHRpb25Ob3REaXNhYmxlZDtcclxuICAgICAgICB0aGlzLmFjdGl2YXRlZFZhbHVlID0gKGFjdGl2YXRlZEl0ZW0gJiYgYWN0aXZhdGVkSXRlbS52YWx1ZUZpZWxkKSB8fCBudWxsO1xyXG4gICAgICAgIGxldCBsaXN0T2ZHcm91cExhYmVsOiBBcnJheTxzdHJpbmcgfCBudW1iZXIgfCBUZW1wbGF0ZVJlZjxhbnk+IHwgbnVsbD4gPSBbXTtcclxuICAgICAgICBpZiAodGhpcy5pc1JlYWN0aXZlRHJpdmVuKSB7XHJcbiAgICAgICAgICAgIGxpc3RPZkdyb3VwTGFiZWwgPSBbLi4ubmV3IFNldCh0aGlzLmRhdGEuZmlsdGVyKG8gPT4gb1t0aGlzLmdyb3VwRmllbGRdKS5tYXAobyA9PiBvW3RoaXMuZ3JvdXBGaWVsZF0hKSldO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxpc3RPZk9wdGlvbkdyb3VwQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0T2ZHcm91cExhYmVsID0gdGhpcy5saXN0T2ZPcHRpb25Hcm91cENvbXBvbmVudC5tYXAobyA9PiBvLmxhYmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiogaW5zZXJ0IGdyb3VwIGl0ZW0gKiovXHJcbiAgICAgICAgbGlzdE9mR3JvdXBMYWJlbC5mb3JFYWNoKGxhYmVsID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0T2ZDb250YWluZXJJdGVtLmZpbmRJbmRleChpdGVtID0+IGxhYmVsID09PSBpdGVtLmdyb3VwTGFiZWwpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBJdGVtID0geyBncm91cExhYmVsOiBsYWJlbCwgdHlwZTogJ2dyb3VwJywga2V5OiBsYWJlbCB9IGFzIFREU1NlbGVjdEl0ZW1JbnRlcmZhY2U7XHJcbiAgICAgICAgICAgICAgICBsaXN0T2ZDb250YWluZXJJdGVtLnNwbGljZShpbmRleCwgMCwgZ3JvdXBJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubGlzdE9mQ29udGFpbmVySXRlbSA9IFsuLi5saXN0T2ZDb250YWluZXJJdGVtXTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNka0Nvbm5lY3RlZE92ZXJsYXlQb3NpdGlvbnMoKTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlVGFnSXRlbSh2YWx1ZTogc3RyaW5nKTogVERTU2VsZWN0SXRlbUludGVyZmFjZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmFsdWVGaWVsZDogdmFsdWUsXHJcbiAgICAgICAgICAgIHRleHRGaWVsZDogdmFsdWUsXHJcbiAgICAgICAgICAgIHR5cGU6ICdpdGVtJyxcclxuICAgICAgICAgICAgaXRlbTogdmFsdWUsXHJcbiAgICAgICAgICAgIGRhdGE6IHZhbHVlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlRGF0YUl0ZW0oaXRlbTogVERTU2FmZUFueSk6IFREU1NlbGVjdEl0ZW1JbnRlcmZhY2Uge1xyXG4gICAgICAgIGxldCBpc09qZWN0ID0gVERTSGVscGVyT2JqZWN0Lmhhc1ZhbHVlKGl0ZW1bdGhpcy52YWx1ZUZpZWxkXSkgfHwgVERTSGVscGVyT2JqZWN0Lmhhc1ZhbHVlKGl0ZW1bdGhpcy50ZXh0RmllbGRdKVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRleHRGaWVsZDogdHlwZW9mIGl0ZW1bdGhpcy50ZXh0RmllbGRdID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgaXRlbVt0aGlzLnRleHRGaWVsZF0gPT09ICdudW1iZXInID8gaXRlbVt0aGlzLnRleHRGaWVsZF0gOiBpdGVtLFxyXG4gICAgICAgICAgICB2YWx1ZUZpZWxkOiBpc09qZWN0ID8gaXRlbVt0aGlzLnZhbHVlRmllbGRdIDogaXRlbSxcclxuICAgICAgICAgICAgZGlzYWJsZWQ6IGl0ZW1bdGhpcy5kaXNhYmxlZEZpZWxkXSB8fCBmYWxzZSxcclxuICAgICAgICAgICAgaGlkZTogaXRlbS5oaWRlIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICBncm91cExhYmVsOiBpdGVtW3RoaXMuZ3JvdXBGaWVsZF0gfHwgbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogJ2l0ZW0nLFxyXG4gICAgICAgICAgICBrZXk6IGl0ZW1bdGhpcy52YWx1ZUZpZWxkXSB8fCBpdGVtLFxyXG4gICAgICAgICAgICBkYXRhOiBpdGVtLFxyXG4gICAgICAgICAgICBpdGVtOiBpdGVtLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBvbkNoYW5nZSA9IChfOiBhbnkpID0+IHsgfTtcclxuICAgIG9uVG91Y2hlZCA9ICgpID0+IHsgfTtcclxuICAgIHdyaXRlVmFsdWUobW9kZWxWYWx1ZTogYW55IHwgQXJyYXk8YW55Pik6IHZvaWQge1xyXG4gICAgICAgIC8qKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xNDk4OCAqKi9cclxuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gbW9kZWxWYWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbW9kZWxWYWx1ZTtcclxuICAgICAgICAgICAgY29uc3QgbGlzdE9mVmFsdWUgPSB0aGlzLmNvdmVydE1vZGVsVG9MaXN0KG1vZGVsVmFsdWUsIHRoaXMubW9kZSkubWFwKGYgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGYhW3RoaXMudmFsdWVGaWVsZF0gPyBmIVt0aGlzLnZhbHVlRmllbGRdIDogZlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5saXN0T2ZWYWx1ZSA9IGxpc3RPZlZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RPZlZhbHVlJC5uZXh0KGxpc3RPZlZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY292ZXJ0TW9kZWxUb0xpc3QobW9kZWw6IEFycmF5PGFueT4gfCBhbnksIG1vZGU6IFREU1NlbGVjdE1vZGVUeXBlKTogQXJyYXk8YW55PiB7XHJcbiAgICAgICAgaWYgKG1vZGVsID09PSBudWxsIHx8IG1vZGVsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgIGlmIChURFNIZWxwZXJPYmplY3QuaGFzVmFsdWUobW9kZWwpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoVERTSGVscGVyQXJyYXkuaXNBcnJheShtb2RlbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoVERTSGVscGVyU3RyaW5nLmhhc1ZhbHVlU3RyaW5nKG1vZGVsWzBdKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFttb2RlbFswXV07XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW21vZGVsXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kZWw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJlZ2lzdGVyT25DaGFuZ2UoZm46IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSBmbjtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3Rlck9uVG91Y2hlZChmbjogYW55KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5vblRvdWNoZWQgPSBmbjtcclxuICAgIH1cclxuICAgIHNldERpc2FibGVkU3RhdGUoaXNEaXNhYmxlZDogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSBpc0Rpc2FibGVkO1xyXG4gICAgfVxyXG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmF1dG9mb2N1cyAmJiAhdGhpcy5mb2N1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Rm9jdXNlZCh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRPcGVuU3RhdGUodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIG5nT25EZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuX2ZvY3VzTW9uaXRvci5zdG9wTW9uaXRvcmluZyh0aGlzLl9lbGVtZW50UmVmKTtcclxuICAgICAgICB0aGlzLl9kZXN0cm95Lm5leHQoKTtcclxuICAgICAgICB0aGlzLl9kZXN0cm95LmNvbXBsZXRlKCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZXMuY29tcGxldGUoKTtcclxuICAgICAgICBpZiAodGhpcy50aW1lclJpZ2h0SWNvbikge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lclJpZ2h0SWNvbilcclxuICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgfVxyXG4gICAgc2V0RGVzY3JpYmVkQnlJZHMoaWRzOiBzdHJpbmdbXSkge1xyXG4gICAgICAgIGlmIChpZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCBpZHMuam9pbignICcpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25Db250YWluZXJDbGljayhlOiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgLy8gZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVUZW1wbGF0ZVZhcmlhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGlzU2VsZWN0ZWRWYWx1ZUVtcHR5ID0gdGhpcy5saXN0T2ZUb3BJdGVtLmxlbmd0aCA9PT0gMDtcclxuICAgICAgICB0aGlzLmlzU2hvd1BsYWNlaG9sZGVyID0gaXNTZWxlY3RlZFZhbHVlRW1wdHkgJiYgIXRoaXMuaXNDb21wb3NpbmcgJiYgIXRoaXMuaW5wdXRWYWx1ZTtcclxuICAgICAgICB0aGlzLmlzU2hvd1NpbmdsZUxhYmVsID0gIWlzU2VsZWN0ZWRWYWx1ZUVtcHR5ICYmICF0aGlzLmlzQ29tcG9zaW5nICYmICF0aGlzLmlucHV0VmFsdWU7XHJcbiAgICB9XHJcbiAgICBpc0NvbXBvc2luZ0NoYW5nZShpc0NvbXBvc2luZzogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaXNDb21wb3NpbmcgPSBpc0NvbXBvc2luZztcclxuICAgICAgICB0aGlzLnVwZGF0ZVRlbXBsYXRlVmFyaWFibGUoKTtcclxuICAgIH1cclxuICAgIG9uSW5wdXRWYWx1ZUNoYW5nZSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5pbnB1dFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRlbXBsYXRlVmFyaWFibGUoKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMaXN0T2ZDb250YWluZXJJdGVtKCk7XHJcbiAgICAgICAgICAgIHRoaXMub25TZWFyY2guZW1pdCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2RrQ29ubmVjdGVkT3ZlcmxheVBvc2l0aW9ucygpO1xyXG4gICAgICAgICAgICB0aGlzLnRva2VuU2VwYXJhdGUodmFsdWUsIHRoaXMudG9rZW5TZXBhcmF0b3JzKTtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxBY3RpdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uSXRlbUNsaWNrKHZhbHVlOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFjdGl2YXRlZFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxpc3RPZlZhbHVlLmxlbmd0aCA9PT0gMCB8fCAhdGhpcy5jb21wYXJlV2l0aCh0aGlzLmxpc3RPZlZhbHVlWzBdLCB2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGlzdE9mVmFsdWUoW3ZhbHVlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRGb2N1c2VkKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0SW5kZXggPSB0aGlzLmxpc3RPZlZhbHVlLmZpbmRJbmRleChvID0+IHRoaXMuY29tcGFyZVdpdGgobywgdmFsdWUpKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldEluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdE9mVmFsdWVBZnRlclJlbW92ZWQgPSB0aGlzLmxpc3RPZlZhbHVlLmZpbHRlcigoXywgaSkgPT4gaSAhPT0gdGFyZ2V0SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMaXN0T2ZWYWx1ZShsaXN0T2ZWYWx1ZUFmdGVyUmVtb3ZlZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5saXN0T2ZWYWx1ZS5sZW5ndGggPCB0aGlzLm1heE11bHRpcGxlQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RPZlZhbHVlQWZ0ZXJBZGRlZCA9IFsuLi50aGlzLmxpc3RPZlZhbHVlLCB2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxpc3RPZlZhbHVlKGxpc3RPZlZhbHVlQWZ0ZXJBZGRlZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9DbG9zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRGb2N1c2VkKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF1dG9DbGVhclNlYXJjaFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhcklucHV0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbkl0ZW1Ib3Zlcih2YWx1ZTogVERTU2FmZUFueSk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE86IGtleWRvd24uZW50ZXIgd29uJ3QgYWN0aXZhdGUgdGhpcyB2YWx1ZVxyXG4gICAgICAgIHRoaXMuYWN0aXZhdGVkVmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIG9uSXRlbURlbGV0ZShlOiBNb3VzZUV2ZW50LCBpdGVtOiBURFNTZWxlY3RJdGVtSW50ZXJmYWNlKTogdm9pZCB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RPZlNlbGVjdGVkVmFsdWUgPSB0aGlzLmxpc3RPZlZhbHVlLmZpbHRlcih2ID0+ICF0aGlzLmNvbXBhcmVXaXRoKHYsIGl0ZW0udmFsdWVGaWVsZCkpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpc3RPZlZhbHVlKGxpc3RPZlNlbGVjdGVkVmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFySW5wdXQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZvY3VzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnRkc1NlbGVjdFNlYXJjaCkge1xyXG4gICAgICAgICAgICB0aGlzLnRkc1NlbGVjdFNlYXJjaC5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBibHVyKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnRkc1NlbGVjdFNlYXJjaCkge1xyXG4gICAgICAgICAgICB0aGlzLnRkc1NlbGVjdFNlYXJjaC5ibHVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uT3ZlcmxheUtleURvd24oZTogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IEVTQ0FQRSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEZvY3VzZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMub25Ub3VjaGVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25DbGlja091dHNpZGUoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEZvY3VzZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMub25Ub3VjaGVkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJJbnB1dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldE9wZW5TdGF0ZSh2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcGVuICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW4gPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5vcGVuQ2hhbmdlLmVtaXQodmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLm9uT3BlbkNoYW5nZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbEFjdGl2ZSgpOyAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIHNldEZvY3VzZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLmZvY3VzZWQgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlcy5uZXh0KCk7XHJcbiAgICB9XHJcbiAgICBvbk9wZW5DaGFuZ2UoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDZGtDb25uZWN0ZWRPdmVybGF5U3RhdHVzKCk7XHJcbiAgICAgICAgdGhpcy5jbGVhcklucHV0KCk7XHJcbiAgICAgICAgaWYgKHRoaXMub3BlbiAmJiB0aGlzLmFjdGl2YXRlZFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9BY3RpdmF0ZWRWYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNsZWFySW5wdXQoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMudGRzU2VsZWN0U2VhcmNoKVxyXG4gICAgICAgICAgICB0aGlzLnRkc1NlbGVjdFNlYXJjaC5jbGVhcklucHV0VmFsdWUoKTtcclxuICAgIH1cclxuICAgIG9uUG9zaXRpb25DaGFuZ2UocG9zaXRpb246IENvbm5lY3RlZE92ZXJsYXlQb3NpdGlvbkNoYW5nZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZHJvcERvd25Qb3NpdGlvbiA9IHBvc2l0aW9uLmNvbm5lY3Rpb25QYWlyLm9yaWdpblk7XHJcbiAgICB9XHJcbiAgICBzaG93Q2xlYXIoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmFsbG93Q2xlYXIgJiYgIXRoaXMuZGlzYWJsZWQgJiYgdGhpcy5saXN0T2ZWYWx1ZS5sZW5ndGhcclxuICAgIH1cclxuICAgIGdldCBvdmVybGF5T3JpZ2luKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9mb3JtRmllbGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDZGtPdmVybGF5T3JpZ2luKHRoaXMuX2Zvcm1GaWVsZC5nZXRDb25uZWN0ZWRPdmVybGF5T3JpZ2luKCkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2RrT3ZlcmxheU9yaWdpbih0aGlzLl9jb25uZWN0aW9uU2VsZWN0T3ZlcmxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IG9yaWdpbkVsZW1lbnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Zvcm1GaWVsZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9ybUZpZWxkLmdldENvbm5lY3RlZE92ZXJsYXlPcmlnaW4oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvblNlbGVjdE92ZXJsYXk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IHNob3dQbGFjZWhvbGRlcigpIHtcclxuICAgICAgICByZXR1cm4gVERTSGVscGVyU3RyaW5nLmhhc1ZhbHVlU3RyaW5nKHRoaXMucGxhY2Vob2xkZXIpXHJcbiAgICAgICAgICAgICYmIHRoaXMubGlzdE9mVG9wSXRlbS5sZW5ndGggPT0gMFxyXG4gICAgICAgICAgICAvLyAmJiAoIVREU0hlbHBlclN0cmluZy5oYXNWYWx1ZVN0cmluZyh0aGlzLmlucHV0VmFsdWUpICYmIHRoaXMubW9kZSA9PSBcIm11bHRpcGxlXCIpXHJcbiAgICAgICAgICAgIC8vICYmICh0aGlzLm1vZGUgPT0gXCJkZWZhdWx0XCIgfHwgKCF0aGlzLmZvY3VzZWQgJiYgIXRoaXMub3BlbiAmJiB0aGlzLm1vZGUgPT0gXCJtdWx0aXBsZVwiKSlcclxuICAgICAgICAgICAgJiYgKCF0aGlzLmZvY3VzZWQgJiYgIXRoaXMub3BlbilcclxuICAgIH1cclxuICAgIGdldCBpc1NlYXJjaERlZmF1bHQoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmZvY3VzZWQgfHwgdGhpcy5vcGVuKSAmJiB0aGlzLmFsbG93U2VhcmNoXHJcbiAgICB9XHJcbiAgICB1cGRhdGVDZGtDb25uZWN0ZWRPdmVybGF5U3RhdHVzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnBsYXRmb3JtLmlzQnJvd3NlciAmJiB0aGlzLm9yaWdpbkVsZW1lbnQubmF0aXZlRWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXFBbmltRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyV2lkdGggPSB0aGlzLm9yaWdpbkVsZW1lbnQubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ2RrQ29ubmVjdGVkT3ZlcmxheVBvc2l0aW9ucygpOiB2b2lkIHtcclxuICAgICAgICByZXFBbmltRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNka0Nvbm5lY3RlZE92ZXJsYXk/Lm92ZXJsYXlSZWY/LnVwZGF0ZVBvc2l0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0cmFja1ZhbHVlKF9pbmRleDogbnVtYmVyLCBvcHRpb246IFREU1NlbGVjdEl0ZW1JbnRlcmZhY2UpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiBvcHRpb24ua2V5O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvblNjcm9sbGVkSW5kZXhDaGFuZ2UoaW5kZXg6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsZWRJbmRleCA9IGluZGV4O1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gdGhpcy5saXN0T2ZDb250YWluZXJJdGVtLmxlbmd0aCAtIHRoaXMub3B0aW9uT3ZlcmZsb3dTaXplKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9Cb3R0b20uZW1pdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzY3JvbGxUb0FjdGl2YXRlZFZhbHVlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmKCFURFNIZWxwZXJPYmplY3QuaGFzVmFsdWUodGhpcy5jZGtWaXJ0dWFsU2Nyb2xsVmlld3BvcnQpIHx8ICF0aGlzLm9wZW4gfHwgIVREU0hlbHBlck9iamVjdC5oYXNWYWx1ZSh0aGlzLmFjdGl2YXRlZFZhbHVlKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RPZkNvbnRhaW5lckl0ZW0uZmluZEluZGV4KGl0ZW0gPT4gdGhpcy5jb21wYXJlV2l0aChpdGVtLmtleSwgdGhpcy5hY3RpdmF0ZWRWYWx1ZSkpO1xyXG4gICAgICAgIGlmIChpbmRleCA8IHRoaXMuc2Nyb2xsZWRJbmRleCB8fCBpbmRleCA+PSB0aGlzLnNjcm9sbGVkSW5kZXggKyB0aGlzLm9wdGlvbk92ZXJmbG93U2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNka1ZpcnR1YWxTY3JvbGxWaWV3cG9ydC5zY3JvbGxUb0luZGV4KGluZGV4IHx8IDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBuZ0RvQ2hlY2soKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5nQ29udHJvbCkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVycm9yU3RhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB0b2tlblNlcGFyYXRlKGlucHV0VmFsdWU6IHN0cmluZywgdG9rZW5TZXBhcmF0b3JzOiBzdHJpbmdbXSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGluY2x1ZGVzU2VwYXJhdG9ycyA9IChzdHI6IHN0cmluZyB8IHN0cmluZ1tdLCBzZXBhcmF0b3JzOiBzdHJpbmdbXSk6IGJvb2xlYW4gPT4ge1xyXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cHJlZmVyLWZvci1vZlxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcGFyYXRvcnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdHIubGFzdEluZGV4T2Yoc2VwYXJhdG9yc1tpXSkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3Qgc3BsaXRCeVNlcGFyYXRvcnMgPSAoc3RyOiBzdHJpbmcgfCBzdHJpbmdbXSwgc2VwYXJhdG9yczogc3RyaW5nW10pOiBzdHJpbmdbXSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlZyA9IG5ldyBSZWdFeHAoYFske3NlcGFyYXRvcnMuam9pbigpfV1gKTtcclxuICAgICAgICAgICAgY29uc3QgYXJyYXkgPSAoc3RyIGFzIHN0cmluZykuc3BsaXQocmVnKS5maWx0ZXIodG9rZW4gPT4gdG9rZW4pO1xyXG4gICAgICAgICAgICByZXR1cm4gWy4uLm5ldyBTZXQoYXJyYXkpXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgaW5wdXRWYWx1ZSAmJlxyXG4gICAgICAgICAgICBpbnB1dFZhbHVlLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICB0b2tlblNlcGFyYXRvcnMubGVuZ3RoICYmXHJcbiAgICAgICAgICAgIHRoaXMubW9kZSAhPT0gJ2RlZmF1bHQnICYmXHJcbiAgICAgICAgICAgIGluY2x1ZGVzU2VwYXJhdG9ycyhpbnB1dFZhbHVlLCB0b2tlblNlcGFyYXRvcnMpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RPZkxhYmVsID0gc3BsaXRCeVNlcGFyYXRvcnMoaW5wdXRWYWx1ZSwgdG9rZW5TZXBhcmF0b3JzKTtcclxuICAgICAgICAgICAgdGhpcy5vblRva2VuU2VwYXJhdGUobGlzdE9mTGFiZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uVG9rZW5TZXBhcmF0ZShsaXN0T2ZMYWJlbDogc3RyaW5nW10pOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBsaXN0T2ZNYXRjaGVkVmFsdWUgPSB0aGlzLmxpc3RPZlRhZ0FuZFRlbXBsYXRlSXRlbVxyXG4gICAgICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gbGlzdE9mTGFiZWwuZmluZEluZGV4KGxhYmVsID0+IGxhYmVsID09PSBpdGVtLnRleHRGaWVsZCkgIT09IC0xKVxyXG4gICAgICAgICAgICAubWFwKGl0ZW0gPT4gaXRlbS52YWx1ZUZpZWxkKVxyXG4gICAgICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gdGhpcy5saXN0T2ZWYWx1ZS5maW5kSW5kZXgodiA9PiB0aGlzLmNvbXBhcmVXaXRoKHYsIGl0ZW0pKSA9PT0gLTEpO1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdtdWx0aXBsZScpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMaXN0T2ZWYWx1ZShbLi4udGhpcy5saXN0T2ZWYWx1ZSwgLi4ubGlzdE9mTWF0Y2hlZFZhbHVlXSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1vZGUgPT09ICd0YWdzJykge1xyXG4gICAgICAgICAgICBjb25zdCBsaXN0T2ZVbk1hdGNoZWRMYWJlbCA9IGxpc3RPZkxhYmVsLmZpbHRlcihcclxuICAgICAgICAgICAgICAgIGxhYmVsID0+IHRoaXMubGlzdE9mVGFnQW5kVGVtcGxhdGVJdGVtLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udGV4dEZpZWxkID09PSBsYWJlbCkgPT09IC0xXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGlzdE9mVmFsdWUoWy4uLnRoaXMubGlzdE9mVmFsdWUsIC4uLmxpc3RPZk1hdGNoZWRWYWx1ZSwgLi4ubGlzdE9mVW5NYXRjaGVkTGFiZWxdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jbGVhcklucHV0KCk7XHJcbiAgICB9XHJcbiAgICBvbktleURvd24oZTogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8IHRoaXMubW9kZSA9PT0gJ3RhZ3MnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGxpc3RPZkZpbHRlcmVkT3B0aW9uTm90RGlzYWJsZWQgPSB0aGlzLmxpc3RPZkNvbnRhaW5lckl0ZW1cclxuICAgICAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0udHlwZSA9PT0gJ2l0ZW0nKVxyXG4gICAgICAgICAgICAvL3Row6ptIHRyxrDhu51uZyBo4bujcCBoaWRlU2VsZWN0ZWQgPXRydWVcclxuICAgICAgICAgICAgLmZpbHRlcihpdGVtID0+ICFpdGVtLmRpc2FibGVkICYmICghdGhpcy5oaWRlU2VsZWN0ZWQgfHwgdGhpcy5saXN0T2ZWYWx1ZS5maW5kKGtleSA9PiBrZXkgPT09IGl0ZW0ua2V5KSA9PSBudWxsKSk7XHJcbiAgICAgICAgY29uc3QgYWN0aXZhdGVkSW5kZXggPSBsaXN0T2ZGaWx0ZXJlZE9wdGlvbk5vdERpc2FibGVkLmZpbmRJbmRleChpdGVtID0+IHRoaXMuY29tcGFyZVdpdGgoaXRlbS52YWx1ZUZpZWxkLCB0aGlzLmFjdGl2YXRlZFZhbHVlKSk7XHJcbiAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBVUF9BUlJPVzpcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVJbmRleCA9IGFjdGl2YXRlZEluZGV4ID4gMCA/IGFjdGl2YXRlZEluZGV4IC0gMSA6IGxpc3RPZkZpbHRlcmVkT3B0aW9uTm90RGlzYWJsZWQubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlZFZhbHVlID0gbGlzdE9mRmlsdGVyZWRPcHRpb25Ob3REaXNhYmxlZFtwcmVJbmRleF0udmFsdWVGaWVsZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIERPV05fQVJST1c6XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gYWN0aXZhdGVkSW5kZXggPCBsaXN0T2ZGaWx0ZXJlZE9wdGlvbk5vdERpc2FibGVkLmxlbmd0aCAtIDEgPyBhY3RpdmF0ZWRJbmRleCArIDEgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVkVmFsdWUgPSBsaXN0T2ZGaWx0ZXJlZE9wdGlvbk5vdERpc2FibGVkW25leHRJbmRleF0udmFsdWVGaWVsZDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRPcGVuU3RhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBFTlRFUjpcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoVERTSGVscGVyT2JqZWN0Lmhhc1ZhbHVlKHRoaXMuYWN0aXZhdGVkVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25JdGVtQ2xpY2sodGhpcy5hY3RpdmF0ZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE9wZW5TdGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNQQUNFOlxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE9wZW5TdGF0ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBUQUI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBFU0NBUEU6XHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIFNraXAgdGhlIEVTQ0FQRSBwcm9jZXNzaW5nLCBpdCB3aWxsIGJlIGhhbmRsZWQgaW4ge0BsaW5rIG9uT3ZlcmxheUtleURvd259LlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRPcGVuU3RhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2Nyb2xsVG9BY3RpdmF0ZWRWYWx1ZSgpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlUGFkZGluZ1JpZ2h0SWNvbigpIHtcclxuICAgICAgICBpZiAodGhpcy50aW1lclJpZ2h0SWNvbikge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lclJpZ2h0SWNvbilcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFREU0hlbHBlck9iamVjdC5oYXNWYWx1ZSh0aGlzLmNsYXNzSWNvbikpIHtcclxuICAgICAgICAgICAgY29uc3QgcGFkZGluZyA9IDg7XHJcbiAgICAgICAgICAgIGxldCB3aWR0aEljb24gPSB0aGlzLnNpemUgPT0gJ21kJyA/IDI4IDogdGhpcy5zaXplID09ICdsZycgPyAzMiA6IDI0O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0NsZWFyKCkpIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoSWNvbiA9IHRoaXMuc2l6ZSA9PSAnbWQnID8gNTYgOiB0aGlzLnNpemUgPT0gJ2xnJyA/IDY0IDogNDg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnRpbWVyUmlnaHRJY29uID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZGRpbmdSaWdodEljb24gPSB3aWR0aEljb24gKyBwYWRkaW5nO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJSaWdodEljb24gPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFkZGluZ1JpZ2h0SWNvbiA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIFxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzY3JvbGxBY3RpdmUoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLnRpbWVyU2Nyb2xsQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyU2Nyb2xsQWN0aXZlKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRpbWVyU2Nyb2xsQWN0aXZlID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9BY3RpdmF0ZWRWYWx1ZSgpO1xyXG4gICAgICAgIH0sIDApO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgc3RhdGljIG5nQWNjZXB0SW5wdXRUeXBlX29wZW46IEJvb2xlYW5JbnB1dDtcclxuICAgIHN0YXRpYyBuZ0FjY2VwdElucHV0VHlwZV9hbGxvd0NsZWFyOiBCb29sZWFuSW5wdXQ7XHJcbiAgICBzdGF0aWMgbmdBY2NlcHRJbnB1dFR5cGVfc2hvd1NlYXJjaDogQm9vbGVhbklucHV0O1xyXG4gICAgc3RhdGljIG5nQWNjZXB0SW5wdXRUeXBlX2xvYWRpbmc6IEJvb2xlYW5JbnB1dDtcclxuICAgIHN0YXRpYyBuZ0FjY2VwdElucHV0VHlwZV9hdXRvRm9jdXM6IEJvb2xlYW5JbnB1dDtcclxuICAgIHN0YXRpYyBuZ0FjY2VwdElucHV0VHlwZV9hdXRvQ2xlYXJTZWFyY2hWYWx1ZTogQm9vbGVhbklucHV0O1xyXG59IiwiPCEtLSA8bmctY29udGVudCA+PC9uZy1jb250ZW50PiAtLT5cclxuPGRpdiBjbGFzcz1cInRkcy1zZWxlY3Qtc2VsZWN0b3Igdy1mdWxsICBtYXgtdy1mdWxsIGdyb3VwIHJlbGF0aXZlIFwiIChjbGljayk9XCJvbkNvbnRhaW5lckNsaWNrKCRldmVudClcIiAjc2VsZWN0T3ZlcmxheSBbbmdDbGFzc109XCJ7IFxyXG4gICAgJ2JvcmRlciBib3JkZXItbmV1dHJhbC0yLTIwMCBkYXJrOmJvcmRlci1kLW5ldXRyYWwtMi0yMDAgcm91bmRlZCAgJzohcGFyZW50SXNGb3JtRmllbGQgJiYgYm9yZGVyXHJcbn1cIj5cclxuICAgIDxkaXYgY2xhc3M9XCJ3LWZ1bGwgZmxleCBpdGVtcy1zdHJldGNoICBtYXgtdy1mdWxsIGdyb3VwLWhvdmVyOmJnLW5ldXRyYWwtMy01MCAgZGFyazpncm91cC1ob3ZlcjpiZy1kLW5ldXRyYWwtMy01MCBncm91cC1ob3Zlcjpyb3VuZGVkXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRkcy12YWx1ZS1jb250YWluZXIgdy1mdWxsIHJlbGF0aXZlXCIgW3N0eWxlLnBhZGRpbmdSaWdodC5weF09XCJwYWRkaW5nUmlnaHRJY29uXCI+XHJcblxyXG4gICAgICAgICAgICA8bmctY29udGFpbmVyIFtuZ1N3aXRjaF09XCJtb2RlXCI+XHJcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaENhc2U9XCInZGVmYXVsdCdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy1mdWxsIG1heC13LWZ1bGwgcmVsYXRpdmVcIiBbbmdDbGFzc109XCJ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdwbC0yLjUgIHB5LTEnOnNpemUgPT09J3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3BsLTMgIHB5LTEuNSc6c2l6ZSA9PT0nbWQnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAncGwtNCAgcHktMic6c2l6ZSA9PT0nbGcnXHJcbiAgICAgICAgICAgICAgICAgICAgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWF4LXctZnVsbCByZWxhdGl2ZSBcIiAgc3R5bGU9XCJtaW4taGVpZ2h0OiAyMHB4O1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkcy1zZWxlY3QtcGxhY2Vob2xkZXIgKm5nSWY9XCJpc1Nob3dQbGFjZWhvbGRlclwiIFtwbGFjZWhvbGRlcl09XCJwbGFjZWhvbGRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZHMtcGxhY2Vob2xkZXIgbXItMSAgYmxvY2tcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGRzLXNlbGVjdC1wbGFjZWhvbGRlcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZHMtdmFsdWUgc2VsZWN0LW5vbmVcIiAqbmdJZj1cImlzU2hvd1NpbmdsZUxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctZnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1ib2R5LTIgZm9udC1yZWd1bGFyIHRleHQtbmV1dHJhbC0xLTkwMCBkYXJrOnRleHQtZC1uZXV0cmFsLTEtOTAwIHRydW5jYXRlIGJveC1ib3JkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJsYWJlbFRlbXBsYXRlIHx8IGRlZmF1bHRMYWJlbFRlbXBsYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwie2xhYmVsOmxpc3RPZlRvcEl0ZW1bMF0udGV4dEZpZWxkICx2YWx1ZTogbGlzdE9mVG9wSXRlbVswXS52YWx1ZUZpZWxkLCAkaW1wbGljaXQ6bGlzdE9mVG9wSXRlbVswXSxpdGVtOmxpc3RPZlRvcEl0ZW1bMF19XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhYnNvbHV0ZSBpbnNldC0wXCIgKm5nSWY9XCJpc1NlYXJjaERlZmF1bHRcIj4gICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkcy1zZWxlY3Qtc2VhcmNoIGNsYXNzPVwidy1mdWxsXCIgI3Rkc3NlbGVjdHNlYXJjaCBbaWRdPVwiaWRcIiBbZGlzYWJsZWRdPVwiZGlzYWJsZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdmFsdWVdPVwiaW5wdXRWYWx1ZSFcIiBbc2hvd0lucHV0XT1cInNob3dTZWFyY2hcIiBbYXV0b2ZvY3VzXT1cImF1dG9mb2N1c1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtmb2N1c1RyaWdnZXJdPVwib3BlblwiIChpc0NvbXBvc2luZ0NoYW5nZSk9XCJpc0NvbXBvc2luZ0NoYW5nZSgkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHZhbHVlQ2hhbmdlKT1cIm9uSW5wdXRWYWx1ZUNoYW5nZSgkZXZlbnQpXCIgKGtleWRvd24pPVwib25LZXlEb3duKCRldmVudClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rkcy1zZWxlY3Qtc2VhcmNoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaERlZmF1bHQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctZnVsbCBtYXgtdy1mdWxsIHJlbGF0aXZlIGZsZXgtd3JhcCBmbGV4LXNocmluayBmbGV4LWdyb3cgYnJlYWstd29yZHMgZmxleCBcIj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZHMtc2VsZWN0LXBsYWNlaG9sZGVyIFtwbGFjZWhvbGRlcl09XCJwbGFjZWhvbGRlclwiIGNsYXNzPVwidGRzLXBsYWNlaG9sZGVyIG1yLTEgIGJsb2NrXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwic2hvd1BsYWNlaG9sZGVyXCIgW25nQ2xhc3NdPVwie1xyXG4gICAgICAgICAgICAgICAgICAgICdwbC0yLjUgIHB5LTEnOnNpemUgPT09J3NtJywgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAncGwtMyAgcHktMS41JzpzaXplID09PSdtZCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgJ3BsLTQgIHB5LTInOnNpemUgPT09J2xnJ1xyXG4gICAgICAgICAgICAgICAgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Rkcy1zZWxlY3QtcGxhY2Vob2xkZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZHMtdmFsdWUgIGZsZXggbWF4LXctZnVsbFwiICpuZ0Zvcj1cImxldCBpdGVtIG9mIGxpc3RPZlRvcEl0ZW07IHRyYWNrQnk6IHRyYWNrVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieydweS0wLjUnOnNpemUgPT09J3NtJyAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdweS0xJzpzaXplID09PSdtZCcgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAncHktMS41JzpzaXplID09PSdsZycgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIGZsZXggbWF4LXctZnVsbCBpdGVtcy1jZW50ZXIgYmctbmV1dHJhbC0zLTIwMCBkYXJrOmJnLWQtbmV1dHJhbC0zLTIwMCBncm91cCBob3ZlcjpiZy1uZXV0cmFsLTMtMzAwIGRhcms6aG92ZXI6YmctZC1uZXV0cmFsLTMtMzAwIHJvdW5kZWQgbXgtMSBweS0wLjUgcGwtMS41XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtYm9keS0yIGZvbnQtcmVndWxhciB0ZXh0LW5ldXRyYWwtMS05MDAgZGFyazp0ZXh0LWQtbmV1dHJhbC0xLTkwMCB3aGl0ZXNwYWNlLW5vd3JhcCBib3gtYm9yZGVyIHRydW5jYXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJsYWJlbFRlbXBsYXRlIHx8IGRlZmF1bHRUYWdUZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyBsYWJlbDppdGVtLnRleHRGaWVsZCAsdmFsdWU6aXRlbS52YWx1ZUZpZWxkLCAkaW1wbGljaXQ6aXRlbSxpdGVtOml0ZW0gfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBncm91cC1ob3Zlcjp0ZXh0LW5ldXRyYWwtMS03MDAgZGFyazpncm91cC1ob3Zlcjp0ZXh0LWQtbmV1dHJhbC0xLTcwMCB0ZXh0LW5ldXRyYWwtMS01MDAgZGFyazp0ZXh0LWQtbmV1dHJhbC0xLTUwMCBtbC0wLjUgcGwtMSBwci0xXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uSXRlbURlbGV0ZSgkZXZlbnQsaXRlbSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJ0ZHNpLWNsb3NlLWZpbGwgIHRleHQtYmFzZSBsZWFkaW5nLTVcIiAqbmdJZj1cIiFkaXNhYmxlZFwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRkcy1pbnB1dCBmbGV4LTEgcGwtMlwiIFtuZ0NsYXNzXT1cIntcclxuICAgICAgICAgICAgICAgICAgICAnbXktMSc6c2l6ZSA9PT0nc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICdteS0xLjUnOnNpemUgPT09J21kJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAnbXktMiAnOnNpemUgPT09J2xnJ1xyXG4gICAgICAgICAgICAgICAgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkcy1zZWxlY3Qtc2VhcmNoICN0ZHNzZWxlY3RzZWFyY2ggW2lkXT1cImlkXCIgW2Rpc2FibGVkXT1cImRpc2FibGVkXCIgW3ZhbHVlXT1cImlucHV0VmFsdWUhXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2hvd0lucHV0XT1cInNob3dTZWFyY2hcIiBbYXV0b2ZvY3VzXT1cImF1dG9mb2N1c1wiIFtmb2N1c1RyaWdnZXJdPVwib3BlblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGlzQ29tcG9zaW5nQ2hhbmdlKT1cImlzQ29tcG9zaW5nQ2hhbmdlKCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh2YWx1ZUNoYW5nZSk9XCJvbklucHV0VmFsdWVDaGFuZ2UoJGV2ZW50KVwiIChrZXlkb3duKT1cIm9uS2V5RG93bigkZXZlbnQpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rkcy1zZWxlY3Qtc2VhcmNoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImFic29sdXRlIGJvdHRvbS0wIHJpZ2h0LTAgdG9wLTBcIiAjcmlndGhDb250YWluZXI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LWZ1bGwgaC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGRzLWNsZWFyLXdyYXBwZXIgdGV4dC1uZXV0cmFsLTEtNTAwIGRhcms6dGV4dC1kLW5ldXRyYWwtMS01MDAgZmxleCBcIiAqbmdJZj1cInNob3dDbGVhcigpXCIgW25nQ2xhc3NdPVwie1xyXG4gICAgICAgICAgICAgICAgJ3AtMSc6c2l6ZSA9PT0nc20nLFxyXG4gICAgICAgICAgICAgICAgJ3AtMS41JzpzaXplID09PSdtZCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAncC0yJzpzaXplID09PSdsZycsXHJcbiAgICAgICAgICAgICAgICAnZmxleC1ncm93LTAgZmxleC1zaHJpbmstMCc6bW9kZSA9PSdkZWZhdWx0J1xyXG4gICAgICAgICAgICB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCIgKGNsaWNrKT1cIm9uQ2xlYXJTZWxlY3Rpb24oJGV2ZW50KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cInRkc2ktY2xvc2UtZmlsbCB0ZXh0LWJhc2UgbGVhZGluZy00XCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiY2xhc3NJY29uXCIgY2xhc3M9XCJ0ZHMtYXJyb3ctd3JhcHBlciBoLWZ1bGwgdGV4dC1uZXV0cmFsLTEtOTAwIGRhcms6dGV4dC1kLW5ldXRyYWwtMS05MDAgZmxleCBpdGVtcy1jZW50ZXIgIGdyb3VwLWhvdmVyOmJvcmRlci10cmFuc3BhcmVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMC4ycmVtO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwLjJyZW07IFwiIFtuZ0NsYXNzXT1cIntcclxuICAgICAgICAgICAgICAgICAgICAncHgtMSc6c2l6ZSA9PT0nc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICdweC0xLjUnOnNpemUgPT09J21kJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAncHgtMic6c2l6ZSA9PT0nbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdmbGV4LWdyb3ctMCBmbGV4LXNocmluay0wJzptb2RlID09J2RlZmF1bHQnXHJcbiAgICAgICAgICAgICAgICB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIFtuZ0NsYXNzXT1cImNsYXNzSWNvblwiIGNsYXNzPVwidGV4dC1iYXNlIGxlYWRpbmctNFwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+XHJcbjxuZy10ZW1wbGF0ZSBjZGtDb25uZWN0ZWRPdmVybGF5IGNka0Nvbm5lY3RlZE92ZXJsYXlMb2NrUG9zaXRpb24gW2Nka0Nvbm5lY3RlZE92ZXJsYXlIYXNCYWNrZHJvcF09XCJiYWNrZHJvcFwiXHJcbiAgICBbY2RrQ29ubmVjdGVkT3ZlcmxheU1pbldpZHRoXT1cIiRhbnkoZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoID8gbnVsbCA6IHRyaWdnZXJXaWR0aClcIlxyXG4gICAgW2Nka0Nvbm5lY3RlZE92ZXJsYXlXaWR0aF09XCIkYW55KGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aCA/IHRyaWdnZXJXaWR0aCA6IG51bGwpXCJcclxuICAgIFtjZGtDb25uZWN0ZWRPdmVybGF5T3JpZ2luXT1cIm92ZXJsYXlPcmlnaW5cIlxyXG4gICAgW2Nka0Nvbm5lY3RlZE92ZXJsYXlUcmFuc2Zvcm1PcmlnaW5Pbl09XCInLmZvcm0tZmllbGQtY29ubmVjdGlvbi1jb250YWluZXInXCJcclxuICAgIFtjZGtDb25uZWN0ZWRPdmVybGF5UGFuZWxDbGFzc109XCJkcm9wZG93bkNsYXNzTmFtZSFcIiBbY2RrQ29ubmVjdGVkT3ZlcmxheU9wZW5dPVwib3BlblwiXHJcbiAgICAob3ZlcmxheUtleWRvd24pPVwib25PdmVybGF5S2V5RG93bigkZXZlbnQpXCIgKG92ZXJsYXlPdXRzaWRlQ2xpY2spPVwib25DbGlja091dHNpZGUoJGV2ZW50KVwiXHJcbiAgICAoZGV0YWNoKT1cInNldE9wZW5TdGF0ZShmYWxzZSlcIiAocG9zaXRpb25DaGFuZ2UpPVwib25Qb3NpdGlvbkNoYW5nZSgkZXZlbnQpXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwicHktMSB0ZHMtc2VsZWN0LXBhbmVsIHJlbGF0aXZlIHctZnVsbFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZWxhdGl2ZSBweS0xIHctZnVsbCBvdmVyZmxvdy1hdXRvIGJnLXdoaXRlIGRhcms6YmctZC1uZXV0cmFsLTMtMzAwIHNoYWRvdy0xLWxnICByb3VuZGVkIFwiPlxyXG4gICAgICAgICAgICA8dGRzLXNwaW4gW3NwaW5uaW5nXT1cImxvYWRpbmdcIiBbdGlwXT1cIicuLi4nXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicC0xXCIgKm5nSWY9XCJsaXN0T2ZDb250YWluZXJJdGVtLmxlbmd0aCA9PT0gMCAmJiAhbG9hZGluZ1wiIGNsYXNzPVwidGRzLXNlbGVjdC1pdGVtLWVtcHR5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkcy1lbWJlZC1lbXB0eSBjb21wb25lbnROYW1lPVwic2VsZWN0XCIgW3NwZWNpZmljQ29udGVudF09XCJub3RGb3VuZFRlbXBsYXRlIVwiPjwvdGRzLWVtYmVkLWVtcHR5PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy1mdWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGNkay12aXJ0dWFsLXNjcm9sbC12aWV3cG9ydCBjbGFzcz1cIm92ZXJmbG93LXgtaGlkZGVuIHctZnVsbCB0ZHMtcGFuZWwtc2Nyb2xsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2NsYXNzLmZ1bGwtd2lkdGhdPVwiIWRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aFwiIFtpdGVtU2l6ZV09XCJvcHRpb25IZWlnaHRQeFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFttYXhCdWZmZXJQeF09XCJvcHRpb25IZWlnaHRQeCAqIG9wdGlvbk92ZXJmbG93U2l6ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFttaW5CdWZmZXJQeF09XCJvcHRpb25IZWlnaHRQeCAqIG9wdGlvbk92ZXJmbG93U2l6ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzY3JvbGxlZEluZGV4Q2hhbmdlKT1cIm9uU2Nyb2xsZWRJbmRleENoYW5nZSgkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW3N0eWxlLmhlaWdodC5weF09XCJsaXN0T2ZDb250YWluZXJJdGVtLmxlbmd0aCAqIG9wdGlvbkhlaWdodFB4XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW3N0eWxlLm1heC1oZWlnaHQucHhdPVwib3B0aW9uSGVpZ2h0UHggKiBvcHRpb25PdmVyZmxvd1NpemVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGNka1ZpcnR1YWxGb3IgW2Nka1ZpcnR1YWxGb3JPZl09XCJsaXN0T2ZDb250YWluZXJJdGVtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjZGtWaXJ0dWFsRm9yVHJhY2tCeV09XCJ0cmFja1ZhbHVlXCIgW2Nka1ZpcnR1YWxGb3JUZW1wbGF0ZUNhY2hlU2l6ZV09XCIwXCIgbGV0LWl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyIFtuZ1N3aXRjaF09XCJpdGVtLnR5cGVcIj5cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LWZ1bGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ1N3aXRjaENhc2VdPVwiJ2dyb3VwJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkcy1vcHRpb24tZ3JvdXAgW2xhYmVsXT1cIml0ZW0uZ3JvdXBMYWJlbCFcIj48L3Rkcy1vcHRpb24tZ3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdTd2l0Y2hDYXNlXT1cIidpdGVtJ1wiPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkcy1vcHRpb24taXRlbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZ3JvdXBlZF09XCIhIWl0ZW0uZ3JvdXBMYWJlbFwiIFtkaXNhYmxlZF09XCJpdGVtLmRpc2FibGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2hvd1N0YXRlXT1cIm1vZGUgPT09ICd0YWdzJyB8fCBtb2RlID09PSAnbXVsdGlwbGUnXCIgW2xhYmVsXT1cIml0ZW0udGV4dEZpZWxkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29tcGFyZVdpdGhdPVwiY29tcGFyZVdpdGhcIiBbYWN0aXZhdGVkVmFsdWVdPVwiYWN0aXZhdGVkVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtsaXN0T2ZTZWxlY3RlZFZhbHVlXT1cImxpc3RPZlZhbHVlXCIgW3ZhbHVlXT1cIml0ZW0udmFsdWVGaWVsZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3RlbXBsYXRlXT1cIm9wdGlvblRlbXBsYXRlID8gIG9wdGlvblRlbXBsYXRlIDogIGRlZmF1bHRPcHRpb25UZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2l0ZW1dPVwiaXRlbS5kYXRhXCIgKGl0ZW1DbGljayk9XCJvbkl0ZW1DbGljaygkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbaGlkZVNlbGVjdGVkXT1cImhpZGVTZWxlY3RlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGl0ZW1Ib3Zlcik9XCJvbkl0ZW1Ib3ZlcigkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2l6ZV09XCJzaXplXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ0ZHNDc3NPcHRpb24hXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rkcy1vcHRpb24taXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICA8L2Nkay12aXJ0dWFsLXNjcm9sbC12aWV3cG9ydD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L3Rkcy1zcGluPlxyXG4gICAgICAgICAgIFxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICBcclxuICBcclxuPC9uZy10ZW1wbGF0ZT5cclxuPG5nLXRlbXBsYXRlICNkZWZhdWx0T3B0aW9uVGVtcGxhdGUgbGV0LWxhYmVsPSdsYWJlbCcgbGV0LWl0ZW09XCJpdGVtXCIgbGV0LXZhbHVlPSd2YWx1ZScgbGV0LXNlbGVjdGVkPVwic2VsZWN0ZWRcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJ3LWZ1bGwgZmxleFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LWZ1bGwgdHJ1bmNhdGUgcHItMlwiPlxyXG4gICAgICAgICAgICB7e2xhYmVsfX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXJcIiAqbmdJZj1cInNlbGVjdGVkXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGRzaS1zdWNjZXNzLWZpbGwgdGV4dC1wcmltYXJ5LTEgdGV4dC1zbVwiPjwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L25nLXRlbXBsYXRlPlxyXG48bmctdGVtcGxhdGUgI2RlZmF1bHRMYWJlbFRlbXBsYXRlIGxldC1sYWJlbD0nbGFiZWwnIGxldC1pdGVtPVwiaXRlbVwiIGxldC12YWx1ZT0ndmFsdWUnPlxyXG4gICAgPGRpdiBjbGFzcz1cInctZnVsbCB0cnVuY2F0ZVwiPlxyXG4gICAgICAgIHt7bGFiZWx9fVxyXG4gICAgPC9kaXY+XHJcbjwvbmctdGVtcGxhdGU+XHJcbjxuZy10ZW1wbGF0ZSAjZGVmYXVsdFRhZ1RlbXBsYXRlIGxldC1sYWJlbD0nbGFiZWwnIGxldC1pdGVtPVwiaXRlbVwiIGxldC12YWx1ZT0ndmFsdWUnPlxyXG4gICAgPGRpdiBjbGFzcz1cInctZnVsbCB0cnVuY2F0ZVwiPlxyXG4gICAgICAgIHt7bGFiZWx9fVxyXG4gICAgPC9kaXY+XHJcbjwvbmctdGVtcGxhdGU+Il19