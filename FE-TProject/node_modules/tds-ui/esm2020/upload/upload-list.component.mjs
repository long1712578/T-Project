import { animate, style, transition, trigger } from '@angular/animations';
import { DOCUMENT } from '@angular/common';
import { ChangeDetectionStrategy, Component, Inject, Input, ViewEncapsulation } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/cdk/platform";
import * as i2 from "@angular/common";
import * as i3 from "tds-ui/tooltip";
import * as i4 from "tds-ui/progress-spinner";
import * as i5 from "tds-ui/progress";
function TDSUploadListComponent_div_0_ng_template_2_div_1_ng_template_1_Template(rf, ctx) { }
const _c0 = function (a0) { return { $implicit: a0 }; };
function TDSUploadListComponent_div_0_ng_template_2_div_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 19);
    i0.ɵɵtemplate(1, TDSUploadListComponent_div_0_ng_template_2_div_1_ng_template_1_Template, 0, 0, "ng-template", 20);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const file_r1 = i0.ɵɵnextContext(2).$implicit;
    const _r4 = i0.ɵɵreference(5);
    i0.ɵɵclassProp("tds-upload-list-item-file", !file_r1.isUploading);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", _r4)("ngTemplateOutletContext", i0.ɵɵpureFunction1(4, _c0, file_r1));
} }
const _c1 = function (a0) { return { "h-28 w-28": a0 }; };
function TDSUploadListComponent_div_0_ng_template_2_a_2_img_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "img", 23);
} if (rf & 2) {
    const file_r1 = i0.ɵɵnextContext(3).$implicit;
    const ctx_r25 = i0.ɵɵnextContext();
    i0.ɵɵproperty("src", file_r1.thumbUrl || file_r1.url, i0.ɵɵsanitizeUrl)("ngClass", i0.ɵɵpureFunction1(3, _c1, ctx_r25.isPictureCard));
    i0.ɵɵattribute("alt", file_r1.name);
} }
const _c2 = function (a0, a1) { return { "w-12 h-12 mr-2": a0, "h-28 w-28": a1 }; };
function TDSUploadListComponent_div_0_ng_template_2_a_2_Template(rf, ctx) { if (rf & 1) {
    const _r29 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "a", 21);
    i0.ɵɵlistener("click", function TDSUploadListComponent_div_0_ng_template_2_a_2_Template_a_click_0_listener($event) { i0.ɵɵrestoreView(_r29); const file_r1 = i0.ɵɵnextContext(2).$implicit; const ctx_r27 = i0.ɵɵnextContext(); return ctx_r27.handlePreview(file_r1, $event); });
    i0.ɵɵtemplate(1, TDSUploadListComponent_div_0_ng_template_2_a_2_img_1_Template, 1, 5, "img", 22);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    i0.ɵɵnextContext();
    const _r21 = i0.ɵɵreference(5);
    const file_r1 = i0.ɵɵnextContext().$implicit;
    const ctx_r19 = i0.ɵɵnextContext();
    i0.ɵɵclassProp("tds-upload-list-item-file", !file_r1.isImageUrl);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction2(6, _c2, !ctx_r19.isPictureCard, ctx_r19.isPictureCard))("href", file_r1.url || file_r1.thumbUrl, i0.ɵɵsanitizeUrl);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", file_r1.isImageUrl)("ngIfElse", _r21);
} }
function TDSUploadListComponent_div_0_ng_template_2_div_3_ng_template_1_Template(rf, ctx) { }
function TDSUploadListComponent_div_0_ng_template_2_div_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 24);
    i0.ɵɵtemplate(1, TDSUploadListComponent_div_0_ng_template_2_div_3_ng_template_1_Template, 0, 0, "ng-template", 20);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const file_r1 = i0.ɵɵnextContext(2).$implicit;
    const _r4 = i0.ɵɵreference(5);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", _r4)("ngTemplateOutletContext", i0.ɵɵpureFunction1(2, _c0, file_r1));
} }
function TDSUploadListComponent_div_0_ng_template_2_ng_template_4_ng_template_0_Template(rf, ctx) { }
function TDSUploadListComponent_div_0_ng_template_2_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtemplate(0, TDSUploadListComponent_div_0_ng_template_2_ng_template_4_ng_template_0_Template, 0, 0, "ng-template", 20);
} if (rf & 2) {
    const file_r1 = i0.ɵɵnextContext(2).$implicit;
    const _r4 = i0.ɵɵreference(5);
    i0.ɵɵproperty("ngTemplateOutlet", _r4)("ngTemplateOutletContext", i0.ɵɵpureFunction1(2, _c0, file_r1));
} }
function TDSUploadListComponent_div_0_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0, 14);
    i0.ɵɵtemplate(1, TDSUploadListComponent_div_0_ng_template_2_div_1_Template, 2, 6, "div", 15);
    i0.ɵɵtemplate(2, TDSUploadListComponent_div_0_ng_template_2_a_2_Template, 2, 9, "a", 16);
    i0.ɵɵtemplate(3, TDSUploadListComponent_div_0_ng_template_2_div_3_Template, 2, 4, "div", 17);
    i0.ɵɵelementContainerEnd();
    i0.ɵɵtemplate(4, TDSUploadListComponent_div_0_ng_template_2_ng_template_4_Template, 1, 4, "ng-template", null, 18, i0.ɵɵtemplateRefExtractor);
} if (rf & 2) {
    const file_r1 = i0.ɵɵnextContext().$implicit;
    i0.ɵɵproperty("ngSwitch", file_r1.iconType);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "uploading");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "thumbnail");
} }
function TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainer(0);
} }
function TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_2_ng_container_1_Template, 1, 0, "ng-container", 25);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const file_r36 = i0.ɵɵnextContext(2).$implicit;
    const _r40 = i0.ɵɵreference(4);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", file_r36.isUploading)("ngIfElse", _r40);
} }
function TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_3_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtext(1);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r47 = i0.ɵɵnextContext(5);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", ctx_r47.locale.uploading, " ");
} }
function TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_3_ng_container_1_Template, 2, 1, "ng-container", 25);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const file_r36 = i0.ɵɵnextContext(2).$implicit;
    const _r40 = i0.ɵɵreference(4);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", file_r36.isUploading)("ngIfElse", _r40);
} }
function TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_4_i_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "i", 32);
} }
function TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_4_tds_spinner_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "tds-spinner", 33);
} }
function TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_4_i_1_Template, 1, 0, "i", 30);
    i0.ɵɵtemplate(2, TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_4_tds_spinner_2_Template, 1, 0, "tds-spinner", 31);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const file_r36 = i0.ɵɵnextContext(2).$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !file_r36.isUploading);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", file_r36.isUploading);
} }
function TDSUploadListComponent_div_0_ng_template_4_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0)(1, 14);
    i0.ɵɵtemplate(2, TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_2_Template, 2, 2, "ng-container", 28);
    i0.ɵɵtemplate(3, TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_3_Template, 2, 2, "ng-container", 28);
    i0.ɵɵtemplate(4, TDSUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_4_Template, 3, 2, "ng-container", 29);
    i0.ɵɵelementContainerEnd()();
} if (rf & 2) {
    const ctx_r37 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitch", ctx_r37.listType);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "picture");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngSwitchCase", "picture-card");
} }
function TDSUploadListComponent_div_0_ng_template_4_ng_template_1_Template(rf, ctx) { }
function TDSUploadListComponent_div_0_ng_template_4_ng_template_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "span", 34);
} }
function TDSUploadListComponent_div_0_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtemplate(0, TDSUploadListComponent_div_0_ng_template_4_ng_container_0_Template, 5, 3, "ng-container", 25);
    i0.ɵɵtemplate(1, TDSUploadListComponent_div_0_ng_template_4_ng_template_1_Template, 0, 0, "ng-template", 20, 26, i0.ɵɵtemplateRefExtractor);
    i0.ɵɵtemplate(3, TDSUploadListComponent_div_0_ng_template_4_ng_template_3_Template, 1, 0, "ng-template", null, 27, i0.ɵɵtemplateRefExtractor);
} if (rf & 2) {
    const file_r36 = ctx.$implicit;
    const _r38 = i0.ɵɵreference(2);
    const ctx_r5 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("ngIf", !ctx_r5.iconRender)("ngIfElse", _r38);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", ctx_r5.iconRender)("ngTemplateOutletContext", i0.ɵɵpureFunction1(4, _c0, file_r36));
} }
const _c3 = function (a0, a1) { return { "text-white": a0, "text-neutral-1-500 dark:text-d-neutral-1-500": a1 }; };
function TDSUploadListComponent_div_0_ng_template_6_button_0_Template(rf, ctx) { if (rf & 1) {
    const _r55 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "button", 36);
    i0.ɵɵlistener("click", function TDSUploadListComponent_div_0_ng_template_6_button_0_Template_button_click_0_listener($event) { i0.ɵɵrestoreView(_r55); const file_r1 = i0.ɵɵnextContext(2).$implicit; const ctx_r53 = i0.ɵɵnextContext(); return ctx_r53.handleRemove(file_r1, $event); });
    i0.ɵɵelementStart(1, "span", 37);
    i0.ɵɵelement(2, "i", 38);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r52 = i0.ɵɵnextContext(3);
    i0.ɵɵattribute("title", ctx_r52.locale.removeFile);
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction2(2, _c3, ctx_r52.isPictureCard, !ctx_r52.isPictureCard));
} }
function TDSUploadListComponent_div_0_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtemplate(0, TDSUploadListComponent_div_0_ng_template_6_button_0_Template, 3, 5, "button", 35);
} if (rf & 2) {
    const ctx_r7 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("ngIf", ctx_r7.icons.showRemoveIcon);
} }
function TDSUploadListComponent_div_0_ng_template_8_button_0_Template(rf, ctx) { if (rf & 1) {
    const _r59 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "button", 40);
    i0.ɵɵlistener("click", function TDSUploadListComponent_div_0_ng_template_8_button_0_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r59); const file_r1 = i0.ɵɵnextContext(2).$implicit; const ctx_r57 = i0.ɵɵnextContext(); return ctx_r57.handleDownload(file_r1); });
    i0.ɵɵelementStart(1, "span", 37);
    i0.ɵɵelement(2, "i", 41);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r56 = i0.ɵɵnextContext(3);
    i0.ɵɵattribute("title", ctx_r56.locale.downloadFile);
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction2(2, _c3, ctx_r56.isPictureCard, !ctx_r56.isPictureCard));
} }
function TDSUploadListComponent_div_0_ng_template_8_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtemplate(0, TDSUploadListComponent_div_0_ng_template_8_button_0_Template, 3, 5, "button", 39);
} if (rf & 2) {
    const file_r1 = i0.ɵɵnextContext().$implicit;
    i0.ɵɵproperty("ngIf", file_r1.showDownload);
} }
function TDSUploadListComponent_div_0_ng_template_10_span_0_ng_template_1_Template(rf, ctx) { }
function TDSUploadListComponent_div_0_ng_template_10_span_0_ng_template_2_Template(rf, ctx) { }
function TDSUploadListComponent_div_0_ng_template_10_span_0_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span");
    i0.ɵɵtemplate(1, TDSUploadListComponent_div_0_ng_template_10_span_0_ng_template_1_Template, 0, 0, "ng-template", 11);
    i0.ɵɵtemplate(2, TDSUploadListComponent_div_0_ng_template_10_span_0_ng_template_2_Template, 0, 0, "ng-template", 11);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    i0.ɵɵnextContext(2);
    const _r8 = i0.ɵɵreference(9);
    const _r6 = i0.ɵɵreference(7);
    const ctx_r61 = i0.ɵɵnextContext();
    i0.ɵɵclassMapInterpolate1("tds-upload-list-item-card-actions ", ctx_r61.listType === "picture" ? "picture" : "", " flex");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", _r8);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", _r6);
} }
function TDSUploadListComponent_div_0_ng_template_10_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtemplate(0, TDSUploadListComponent_div_0_ng_template_10_span_0_Template, 3, 5, "span", 42);
} if (rf & 2) {
    const ctx_r11 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("ngIf", ctx_r11.listType !== "picture-card");
} }
const _c4 = function (a0) { return { "hidden": a0 }; };
function TDSUploadListComponent_div_0_ng_template_12_a_0_Template(rf, ctx) { if (rf & 1) {
    const _r69 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "a", 45);
    i0.ɵɵlistener("click", function TDSUploadListComponent_div_0_ng_template_12_a_0_Template_a_click_0_listener($event) { i0.ɵɵrestoreView(_r69); const file_r1 = i0.ɵɵnextContext(2).$implicit; const ctx_r67 = i0.ɵɵnextContext(); return ctx_r67.handlePreview(file_r1, $event); });
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const file_r1 = i0.ɵɵnextContext(2).$implicit;
    const ctx_r64 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(5, _c4, ctx_r64.isPictureCard && file_r1.status !== "error"))("href", file_r1.url, i0.ɵɵsanitizeUrl);
    i0.ɵɵattribute("title", file_r1.name)("download", file_r1.linkProps && file_r1.linkProps.download);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", file_r1.name, " ");
} }
function TDSUploadListComponent_div_0_ng_template_12_span_1_Template(rf, ctx) { if (rf & 1) {
    const _r73 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "span", 46);
    i0.ɵɵlistener("click", function TDSUploadListComponent_div_0_ng_template_12_span_1_Template_span_click_0_listener($event) { i0.ɵɵrestoreView(_r73); const file_r1 = i0.ɵɵnextContext(2).$implicit; const ctx_r71 = i0.ɵɵnextContext(); return ctx_r71.handlePreview(file_r1, $event); });
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const file_r1 = i0.ɵɵnextContext(2).$implicit;
    const ctx_r65 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(3, _c4, ctx_r65.isPictureCard && (file_r1.isUploading || file_r1.iconType == "thumbnail")));
    i0.ɵɵattribute("title", file_r1.name);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", file_r1.name, " ");
} }
function TDSUploadListComponent_div_0_ng_template_12_ng_template_2_Template(rf, ctx) { }
function TDSUploadListComponent_div_0_ng_template_12_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtemplate(0, TDSUploadListComponent_div_0_ng_template_12_a_0_Template, 2, 7, "a", 43);
    i0.ɵɵtemplate(1, TDSUploadListComponent_div_0_ng_template_12_span_1_Template, 2, 5, "span", 44);
    i0.ɵɵtemplate(2, TDSUploadListComponent_div_0_ng_template_12_ng_template_2_Template, 0, 0, "ng-template", 11);
} if (rf & 2) {
    const file_r1 = i0.ɵɵnextContext().$implicit;
    const _r10 = i0.ɵɵreference(11);
    i0.ɵɵproperty("ngIf", file_r1.url);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !file_r1.url);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", _r10);
} }
function TDSUploadListComponent_div_0_ng_template_16_Template(rf, ctx) { }
function TDSUploadListComponent_div_0_ng_template_17_Template(rf, ctx) { }
const _c5 = function () { return { opacity: 0.5, "pointer-events": "none" }; };
function TDSUploadListComponent_div_0_span_18_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r81 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "a", 50);
    i0.ɵɵlistener("click", function TDSUploadListComponent_div_0_span_18_a_1_Template_a_click_0_listener($event) { i0.ɵɵrestoreView(_r81); const file_r1 = i0.ɵɵnextContext(2).$implicit; const ctx_r79 = i0.ɵɵnextContext(); return ctx_r79.handlePreview(file_r1, $event); });
    i0.ɵɵelement(1, "i", 51);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const file_r1 = i0.ɵɵnextContext(2).$implicit;
    const ctx_r76 = i0.ɵɵnextContext();
    i0.ɵɵproperty("href", file_r1.url || file_r1.thumbUrl, i0.ɵɵsanitizeUrl)("ngStyle", !(file_r1.url || file_r1.thumbUrl) ? i0.ɵɵpureFunction0(3, _c5) : null);
    i0.ɵɵattribute("title", ctx_r76.locale.previewFile);
} }
function TDSUploadListComponent_div_0_span_18_ng_container_2_ng_template_1_Template(rf, ctx) { }
function TDSUploadListComponent_div_0_span_18_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, TDSUploadListComponent_div_0_span_18_ng_container_2_ng_template_1_Template, 0, 0, "ng-template", 11);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    i0.ɵɵnextContext(2);
    const _r8 = i0.ɵɵreference(9);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", _r8);
} }
function TDSUploadListComponent_div_0_span_18_ng_template_3_Template(rf, ctx) { }
function TDSUploadListComponent_div_0_span_18_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 47);
    i0.ɵɵtemplate(1, TDSUploadListComponent_div_0_span_18_a_1_Template, 2, 4, "a", 48);
    i0.ɵɵtemplate(2, TDSUploadListComponent_div_0_span_18_ng_container_2_Template, 2, 1, "ng-container", 49);
    i0.ɵɵtemplate(3, TDSUploadListComponent_div_0_span_18_ng_template_3_Template, 0, 0, "ng-template", 11);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const file_r1 = i0.ɵɵnextContext().$implicit;
    const _r6 = i0.ɵɵreference(7);
    const ctx_r16 = i0.ɵɵnextContext();
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r16.icons.showPreviewIcon);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", file_r1.status === "done");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", _r6);
} }
const _c6 = function (a0) { return { "mt-6": a0 }; };
function TDSUploadListComponent_div_0_div_19_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 52);
    i0.ɵɵelement(1, "tds-progress", 53);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const file_r1 = i0.ɵɵnextContext().$implicit;
    const ctx_r17 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(4, _c6, ctx_r17.isPictureCard));
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("percent", file_r1.percent)("showInfo", false)("strokeWidth", 2);
} }
const _c7 = function (a0, a1) { return { "h-28 w-28  mr-2.5 flex justify-center items-center relative group ": a0, "border-dashed border-neutral-2-200 dark:border-d-neutral-2-200 border rounded": a1 }; };
const _c8 = function (a0, a1, a2) { return { "bg-neutral-3-50 rounded dark:bg-d-neutral-3-200": a0, "w-full h-full flex justify-center items-center relative": a1, "border-error-300 border rounded": a2 }; };
const _c9 = function (a0, a1) { return { "h-full p-1": a0, "text-center": a1 }; };
const _c10 = function (a0) { return { "flex items-center": a0 }; };
function TDSUploadListComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 1)(1, "div", 2);
    i0.ɵɵtemplate(2, TDSUploadListComponent_div_0_ng_template_2_Template, 6, 3, "ng-template", null, 3, i0.ɵɵtemplateRefExtractor);
    i0.ɵɵtemplate(4, TDSUploadListComponent_div_0_ng_template_4_Template, 5, 6, "ng-template", null, 4, i0.ɵɵtemplateRefExtractor);
    i0.ɵɵtemplate(6, TDSUploadListComponent_div_0_ng_template_6_Template, 1, 1, "ng-template", null, 5, i0.ɵɵtemplateRefExtractor);
    i0.ɵɵtemplate(8, TDSUploadListComponent_div_0_ng_template_8_Template, 1, 1, "ng-template", null, 6, i0.ɵɵtemplateRefExtractor);
    i0.ɵɵtemplate(10, TDSUploadListComponent_div_0_ng_template_10_Template, 1, 1, "ng-template", null, 7, i0.ɵɵtemplateRefExtractor);
    i0.ɵɵtemplate(12, TDSUploadListComponent_div_0_ng_template_12_Template, 3, 3, "ng-template", null, 8, i0.ɵɵtemplateRefExtractor);
    i0.ɵɵelementStart(14, "div", 9)(15, "span", 10);
    i0.ɵɵtemplate(16, TDSUploadListComponent_div_0_ng_template_16_Template, 0, 0, "ng-template", 11);
    i0.ɵɵtemplate(17, TDSUploadListComponent_div_0_ng_template_17_Template, 0, 0, "ng-template", 11);
    i0.ɵɵelementEnd()();
    i0.ɵɵtemplate(18, TDSUploadListComponent_div_0_span_18_Template, 4, 3, "span", 12);
    i0.ɵɵtemplate(19, TDSUploadListComponent_div_0_div_19_Template, 2, 6, "div", 13);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const file_r1 = ctx.$implicit;
    const _r2 = i0.ɵɵreference(3);
    const _r12 = i0.ɵɵreference(13);
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵclassMapInterpolate1("tds-upload-list-", ctx_r0.listType, "-container mt-2.5");
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction2(19, _c7, ctx_r0.isPictureCard, file_r1.status == "uploading" && ctx_r0.isPictureCard));
    i0.ɵɵadvance(1);
    i0.ɵɵclassMapInterpolate3("tds-upload-list-item relative tds-upload-list-item-", file_r1.status, " text-", file_r1.status != "done" ? file_r1.status : "success", "-500 tds-upload-list-item-list-type-", ctx_r0.listType, "  ");
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction3(22, _c8, !ctx_r0.isPictureCard, ctx_r0.isPictureCard && file_r1.status !== "uploading", file_r1.status == "error" && ctx_r0.isPictureCard))("@itemState", undefined)("tooltipTitle", file_r1.status === "error" ? file_r1.message : null);
    i0.ɵɵattribute("data-key", file_r1.key);
    i0.ɵɵadvance(13);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction2(26, _c9, !ctx_r0.isPictureCard, ctx_r0.isPictureCard));
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(29, _c10, !ctx_r0.isPictureCard));
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", _r2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", _r12);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r0.listType === "picture-card" && !file_r1.isUploading);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", file_r1.isUploading);
} }
const isImageFileType = (type) => !!type && type.indexOf('image/') === 0;
const MEASURE_SIZE = 200;
export class TDSUploadListComponent {
    // #endregion
    constructor(cdr, doc, ngZone, platform, elementRef) {
        this.cdr = cdr;
        this.doc = doc;
        this.ngZone = ngZone;
        this.platform = platform;
        this.elementRef = elementRef;
        this.list = [];
        this.locale = {};
        this.iconRender = null;
        this.dir = 'ltr';
        // TODO: move to host after View Engine deprecation
        this.elementRef.nativeElement.classList.add('tds-upload-list');
    }
    get showPic() {
        return this.listType === 'picture' || this.listType === 'picture-card';
    }
    set items(list) {
        this.list = list;
    }
    genErr(file) {
        if (file.response && typeof file.response === 'string') {
            return file.response;
        }
        return (file.error && file.error.statusText) || this.locale.uploadError;
    }
    extname(url) {
        const temp = url.split('/');
        const filename = temp[temp.length - 1];
        const filenameWithoutSuffix = filename.split(/#|\?/)[0];
        return (/\.[^./\\]*$/.exec(filenameWithoutSuffix) || [''])[0];
    }
    isImageUrl(file) {
        if (isImageFileType(file.type)) {
            return true;
        }
        const url = (file.thumbUrl || file.url || '');
        if (!url) {
            return false;
        }
        const extension = this.extname(url);
        if (/^data:image\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(extension)) {
            return true;
        }
        else if (/^data:/.test(url)) {
            // other file types of base64
            return false;
        }
        else if (extension) {
            // other file types which have extension
            return false;
        }
        return true;
    }
    getIconType(file) {
        if (!this.showPic) {
            return '';
        }
        if (file.isUploading || (!file.thumbUrl && !file.url)) {
            return 'uploading';
        }
        else {
            return 'thumbnail';
        }
    }
    previewImage(file) {
        return new Promise(resolve => {
            if (!isImageFileType(file.type) || !this.platform.isBrowser) {
                resolve('');
                return;
            }
            this.ngZone.runOutsideAngular(() => {
                const canvas = this.doc.createElement('canvas');
                canvas.width = MEASURE_SIZE;
                canvas.height = MEASURE_SIZE;
                canvas.style.cssText = `position: fixed; left: 0; top: 0; width: ${MEASURE_SIZE}px; height: ${MEASURE_SIZE}px; z-index: 9999; display: none;`;
                this.doc.body.appendChild(canvas);
                const ctx = canvas.getContext('2d');
                const img = new Image();
                img.onload = () => {
                    const { width, height } = img;
                    let drawWidth = MEASURE_SIZE;
                    let drawHeight = MEASURE_SIZE;
                    let offsetX = 0;
                    let offsetY = 0;
                    if (width < height) {
                        drawHeight = height * (MEASURE_SIZE / width);
                        offsetY = -(drawHeight - drawWidth) / 2;
                    }
                    else {
                        drawWidth = width * (MEASURE_SIZE / height);
                        offsetX = -(drawWidth - drawHeight) / 2;
                    }
                    try {
                        ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);
                    }
                    catch { }
                    const dataURL = canvas.toDataURL();
                    this.doc.body.removeChild(canvas);
                    resolve(dataURL);
                };
                img.src = window.URL.createObjectURL(file);
            });
        });
    }
    genThumb() {
        if (!this.platform.isBrowser) {
            return;
        }
        const win = window;
        if (!this.showPic ||
            typeof document === 'undefined' ||
            typeof win === 'undefined' ||
            !win.FileReader ||
            !win.File) {
            return;
        }
        this.list
            .filter(file => file.originFileObj instanceof File && file.thumbUrl === undefined)
            .forEach(file => {
            file.thumbUrl = '';
            (this.previewFile ? this.previewFile(file).toPromise() : this.previewImage(file.originFileObj)).then(dataUrl => {
                file.thumbUrl = dataUrl;
                this.detectChanges();
            });
        });
    }
    showDownload(file) {
        return !!(this.icons.showDownloadIcon && file.status === 'done');
    }
    fixData() {
        this.list.forEach(file => {
            file.isUploading = file.status === 'uploading';
            file.message = this.genErr(file);
            file.linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;
            file.isImageUrl = this.previewIsImage ? this.previewIsImage(file) : this.isImageUrl(file);
            file.iconType = this.getIconType(file);
            file.showDownload = this.showDownload(file);
        });
    }
    handlePreview(file, e) {
        if (!this.onPreview) {
            return;
        }
        e.preventDefault();
        return this.onPreview(file);
    }
    handleRemove(file, e) {
        e.preventDefault();
        if (this.onRemove) {
            this.onRemove(file);
        }
        return;
    }
    handleDownload(file) {
        if (typeof this.onDownload === 'function') {
            this.onDownload(file);
        }
        else if (file.url) {
            window.open(file.url);
        }
    }
    get isPictureCard() {
        return this.listType === 'picture-card';
    }
    detectChanges() {
        this.fixData();
        this.cdr.detectChanges();
    }
    ngOnChanges() {
        this.fixData();
        this.genThumb();
    }
}
TDSUploadListComponent.ɵfac = function TDSUploadListComponent_Factory(t) { return new (t || TDSUploadListComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i1.Platform), i0.ɵɵdirectiveInject(i0.ElementRef)); };
TDSUploadListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TDSUploadListComponent, selectors: [["tds-upload-list"]], hostVars: 12, hostBindings: function TDSUploadListComponent_HostBindings(rf, ctx) { if (rf & 2) {
        i0.ɵɵclassProp("tds-upload-list-rtl", ctx.dir === "rtl")("tds-upload-list-text", ctx.listType === "text")("tds-upload-list-picture", ctx.listType === "picture")("tds-upload-list-picture-card", ctx.listType === "picture-card")("flex", ctx.listType === "picture-card")("flex-nowrap", ctx.listType === "picture-card");
    } }, inputs: { locale: "locale", listType: "listType", items: "items", icons: "icons", onPreview: "onPreview", onRemove: "onRemove", onDownload: "onDownload", previewFile: "previewFile", previewIsImage: "previewIsImage", iconRender: "iconRender", dir: "dir" }, exportAs: ["tdsUploadList"], features: [i0.ɵɵNgOnChangesFeature], decls: 1, vars: 1, consts: [[3, "class", "ngClass", 4, "ngFor", "ngForOf"], [3, "ngClass"], ["tds-tooltip", "", 3, "ngClass", "tooltipTitle"], ["icon", ""], ["iconNode", ""], ["removeIcon", ""], ["downloadIcon", ""], ["downloadOrDelete", ""], ["preview", ""], [1, "tds-upload-list-item-info", 3, "ngClass"], [1, "tds-upload-span", 3, "ngClass"], [3, "ngTemplateOutlet"], ["class", "tds-upload-list-item-actions hidden rounded  group-hover:flex absolute   justify-center inset-0 items-center bg-black bg-opacity-40", 4, "ngIf"], ["class", "tds-upload-list-item-progress", 3, "ngClass", 4, "ngIf"], [3, "ngSwitch"], ["class", "tds-upload-list-item-thumbnail", 3, "tds-upload-list-item-file", 4, "ngSwitchCase"], ["class", "tds-upload-list-item-thumbnail", "target", "_blank", "rel", "noopener noreferrer", 3, "ngClass", "tds-upload-list-item-file", "href", "click", 4, "ngSwitchCase"], ["class", "tds-upload-text-icon flex items-center", 4, "ngSwitchDefault"], ["noImageThumbTpl", ""], [1, "tds-upload-list-item-thumbnail"], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], ["target", "_blank", "rel", "noopener noreferrer", 1, "tds-upload-list-item-thumbnail", 3, "ngClass", "href", "click"], ["class", "tds-upload-list-item-image rounded object-cover", 3, "src", "ngClass", 4, "ngIf", "ngIfElse"], [1, "tds-upload-list-item-image", "rounded", "object-cover", 3, "src", "ngClass"], [1, "tds-upload-text-icon", "flex", "items-center"], [4, "ngIf", "ngIfElse"], ["customIconRender", ""], ["iconNodeFileIcon", ""], [4, "ngSwitchCase"], [4, "ngSwitchDefault"], ["class", "tdsi-attached-file-fill  text-base leading-4 mr-2", 4, "ngIf"], ["class", "w-3 h-3  mr-2", 4, "ngIf"], [1, "tdsi-attached-file-fill", "text-base", "leading-4", "mr-2"], [1, "w-3", "h-3", "mr-2"], [1, "tdsi-warning-fill", "text-xl", "leading-5", "mb-6"], ["class", "tds-upload-list-item-card-actions-btn flex", 3, "click", 4, "ngIf"], [1, "tds-upload-list-item-card-actions-btn", "flex", 3, "click"], [1, "flex", "items-center"], [1, "tdsi-close-fill", "text-base", "leading-4", 3, "ngClass"], ["class", "tds-upload-list-item-card-actions-btn mr-2", 3, "click", 4, "ngIf"], [1, "tds-upload-list-item-card-actions-btn", "mr-2", 3, "click"], [1, "tdsi-download-fill", "text-base", "leading-4", 3, "ngClass"], [3, "class", 4, "ngIf"], ["target", "_blank", "rel", "noopener noreferrer", "class", "tds-upload-list-item-name flex-auto hidden", 3, "ngClass", "href", "click", 4, "ngIf"], ["class", "tds-upload-list-item-name text-body-2 font-regular flex-auto ", 3, "ngClass", "click", 4, "ngIf"], ["target", "_blank", "rel", "noopener noreferrer", 1, "tds-upload-list-item-name", "flex-auto", "hidden", 3, "ngClass", "href", "click"], [1, "tds-upload-list-item-name", "text-body-2", "font-regular", "flex-auto", 3, "ngClass", "click"], [1, "tds-upload-list-item-actions", "hidden", "rounded", "group-hover:flex", "absolute", "justify-center", "inset-0", "items-center", "bg-black", "bg-opacity-40"], ["class", "flex mr-2", "target", "_blank", "rel", "noopener noreferrer", 3, "href", "ngStyle", "click", 4, "ngIf"], [4, "ngIf"], ["target", "_blank", "rel", "noopener noreferrer", 1, "flex", "mr-2", 3, "href", "ngStyle", "click"], [1, "tdsi-eye-open-fill", "text-base", "leading-4", "text-white"], [1, "tds-upload-list-item-progress", 3, "ngClass"], ["type", "line", 3, "percent", "showInfo", "strokeWidth"]], template: function TDSUploadListComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵtemplate(0, TDSUploadListComponent_div_0_Template, 20, 31, "div", 0);
    } if (rf & 2) {
        i0.ɵɵproperty("ngForOf", ctx.list);
    } }, directives: [i2.NgForOf, i2.NgClass, i3.TDSTooltipDirective, i2.NgSwitch, i2.NgSwitchCase, i2.NgTemplateOutlet, i2.NgIf, i2.NgSwitchDefault, i4.TDSProgressSpinnerComponent, i2.NgStyle, i5.TDSProgressComponent], encapsulation: 2, data: { animation: [
            trigger('itemState', [
                transition(':enter', [
                    style({ height: '0', width: '0', opacity: 0 }),
                    animate(150, style({ height: '*', width: '*', opacity: 1 }))
                ]),
                transition(':leave', [animate(150, style({ height: '0', width: '0', opacity: 0 }))])
            ])
        ] }, changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(TDSUploadListComponent, [{
        type: Component,
        args: [{ selector: 'tds-upload-list', exportAs: 'tdsUploadList', animations: [
                    trigger('itemState', [
                        transition(':enter', [
                            style({ height: '0', width: '0', opacity: 0 }),
                            animate(150, style({ height: '*', width: '*', opacity: 1 }))
                        ]),
                        transition(':leave', [animate(150, style({ height: '0', width: '0', opacity: 0 }))])
                    ])
                ], host: {
                    '[class.tds-upload-list-rtl]': `dir === 'rtl'`,
                    '[class.tds-upload-list-text]': `listType === 'text'`,
                    '[class.tds-upload-list-picture]': `listType === 'picture'`,
                    '[class.tds-upload-list-picture-card]': `listType === 'picture-card'`,
                    '[class.flex]': `listType === 'picture-card'`,
                    '[class.flex-nowrap]': `listType === 'picture-card'`
                }, preserveWhitespaces: false, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: "<div *ngFor=\"let file of list\" class=\"tds-upload-list-{{ listType }}-container mt-2.5\" \r\n[ngClass]=\"{'h-28 w-28  mr-2.5 flex justify-center items-center relative group ':isPictureCard,\r\n'border-dashed border-neutral-2-200 dark:border-d-neutral-2-200 border rounded': file.status == 'uploading' && isPictureCard\r\n}\">\r\n  <div class=\"tds-upload-list-item relative tds-upload-list-item-{{ file.status }} text-{{file.status != 'done' ?file.status:'success' }}-500 tds-upload-list-item-list-type-{{ listType }}  \"\r\n   [ngClass]=\"{'bg-neutral-3-50 rounded dark:bg-d-neutral-3-200':!isPictureCard,'w-full h-full flex justify-center items-center relative':isPictureCard && file.status !=='uploading',\r\n   'border-error-300 border rounded': file.status == 'error' && isPictureCard }\"\r\n    [attr.data-key]=\"file.key\" @itemState tds-tooltip [tooltipTitle]=\"file.status === 'error' ? file.message : null\">\r\n    <ng-template #icon>\r\n      <ng-container [ngSwitch]=\"file.iconType\">\r\n        <div *ngSwitchCase=\"'uploading'\" class=\"tds-upload-list-item-thumbnail\"\r\n          [class.tds-upload-list-item-file]=\"!file.isUploading\">\r\n          <ng-template [ngTemplateOutlet]=\"iconNode\" [ngTemplateOutletContext]=\"{ $implicit: file }\"></ng-template>\r\n        </div>\r\n        <a *ngSwitchCase=\"'thumbnail'\" class=\"tds-upload-list-item-thumbnail\" [ngClass]=\"{'w-12 h-12 mr-2':!isPictureCard , 'h-28 w-28':isPictureCard}\"\r\n          [class.tds-upload-list-item-file]=\"!file.isImageUrl\" target=\"_blank\" rel=\"noopener noreferrer\"\r\n          [href]=\"file.url || file.thumbUrl\" (click)=\"handlePreview(file, $event)\">\r\n          <img *ngIf=\"file.isImageUrl; else noImageThumbTpl\" class=\"tds-upload-list-item-image rounded object-cover\"\r\n            [src]=\"file.thumbUrl || file.url\" [attr.alt]=\"file.name\" [ngClass]=\"{'h-28 w-28':isPictureCard}\"/>\r\n        </a>\r\n        <div *ngSwitchDefault class=\"tds-upload-text-icon flex items-center\">\r\n          <ng-template [ngTemplateOutlet]=\"iconNode\" [ngTemplateOutletContext]=\"{ $implicit: file }\"></ng-template>\r\n        </div>\r\n      </ng-container>\r\n      <ng-template #noImageThumbTpl>\r\n        <ng-template [ngTemplateOutlet]=\"iconNode\" [ngTemplateOutletContext]=\"{ $implicit: file }\"></ng-template>\r\n      </ng-template>\r\n    </ng-template>\r\n    <ng-template #iconNode let-file>\r\n      <ng-container *ngIf=\"!iconRender; else customIconRender\">\r\n        <ng-container [ngSwitch]=\"listType\">\r\n          <ng-container *ngSwitchCase=\"'picture'\">\r\n            <ng-container *ngIf=\"file.isUploading; else iconNodeFileIcon\">\r\n              <!-- <i nz-icon type=\"loading\"></i> -->\r\n            </ng-container>\r\n          </ng-container>\r\n          <ng-container *ngSwitchCase=\"'picture-card'\">\r\n            <ng-container *ngIf=\"file.isUploading; else iconNodeFileIcon\">\r\n              {{ locale.uploading }}\r\n            </ng-container>\r\n          </ng-container>\r\n          <ng-container *ngSwitchDefault>\r\n            <i *ngIf=\"!file.isUploading\"  class=\"tdsi-attached-file-fill  text-base leading-4 mr-2\"></i>\r\n            <tds-spinner *ngIf=\"file.isUploading\"  class=\"w-3 h-3  mr-2\"></tds-spinner>\r\n          </ng-container>\r\n          \r\n        </ng-container>\r\n      </ng-container>\r\n      <ng-template #customIconRender [ngTemplateOutlet]=\"iconRender\" [ngTemplateOutletContext]=\"{ $implicit: file }\">\r\n      </ng-template>\r\n      <ng-template #iconNodeFileIcon>\r\n        <!-- <i  [type]=\"file.isImageUrl ? 'picture' : 'file'\" nzTheme=\"twotone\"></i> -->\r\n        <span class=\"tdsi-warning-fill text-xl leading-5 mb-6\"></span>\r\n      </ng-template>\r\n    </ng-template>\r\n    <ng-template #removeIcon>\r\n      <button (click)=\"handleRemove(file, $event)\" [attr.title]=\"locale.removeFile\"\r\n        class=\"tds-upload-list-item-card-actions-btn flex\" *ngIf=\"icons.showRemoveIcon\">\r\n        <span class=\"flex items-center\">\r\n          <i class=\"tdsi-close-fill text-base leading-4 \" [ngClass]=\"{'text-white':isPictureCard,'text-neutral-1-500 dark:text-d-neutral-1-500':!isPictureCard}\"></i>\r\n        </span>\r\n      </button>\r\n    </ng-template>\r\n    <ng-template #downloadIcon>\r\n      <button *ngIf=\"file.showDownload\" (click)=\"handleDownload(file)\" [attr.title]=\"locale.downloadFile\"\r\n        class=\"tds-upload-list-item-card-actions-btn mr-2\">\r\n        <span class=\"flex items-center\">\r\n          <i class=\"tdsi-download-fill text-base leading-4\" [ngClass]=\"{'text-white':isPictureCard,'text-neutral-1-500 dark:text-d-neutral-1-500':!isPictureCard}\"></i>\r\n        </span>\r\n      </button>\r\n    </ng-template>\r\n    <ng-template #downloadOrDelete>\r\n      <span *ngIf=\"listType !== 'picture-card'\"\r\n        class=\"tds-upload-list-item-card-actions {{ listType === 'picture' ? 'picture' : '' }} flex\">\r\n        <ng-template [ngTemplateOutlet]=\"downloadIcon\"></ng-template>\r\n        <ng-template [ngTemplateOutlet]=\"removeIcon\"></ng-template>\r\n      </span>\r\n    </ng-template>\r\n    <ng-template #preview>\r\n      <a *ngIf=\"file.url\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"tds-upload-list-item-name flex-auto hidden\" [ngClass]=\"{'hidden':isPictureCard && file.status !== 'error' }\"\r\n        [attr.title]=\"file.name\" [href]=\"file.url\" [attr.download]=\"file.linkProps && file.linkProps.download\"\r\n        (click)=\"handlePreview(file, $event)\">\r\n        {{ file.name }} \r\n      </a>     \r\n      <span *ngIf=\"!file.url\" class=\"tds-upload-list-item-name text-body-2 font-regular flex-auto \" [attr.title]=\"file.name\" [ngClass]=\"{'hidden':isPictureCard && (file.isUploading || file.iconType =='thumbnail') }\"\r\n        (click)=\"handlePreview(file, $event)\">\r\n        {{ file.name }} \r\n      </span>\r\n      <ng-template [ngTemplateOutlet]=\"downloadOrDelete\"></ng-template>\r\n    </ng-template>\r\n    <div class=\"tds-upload-list-item-info \" [ngClass]=\"{'h-full p-1':!isPictureCard,'text-center':isPictureCard}\">\r\n      <span class=\"tds-upload-span \" [ngClass]=\"{'flex items-center':!isPictureCard}\">\r\n        <ng-template [ngTemplateOutlet]=\"icon\"></ng-template>\r\n        <ng-template [ngTemplateOutlet]=\"preview\"></ng-template>\r\n      </span>\r\n    </div>\r\n    <span *ngIf=\"listType === 'picture-card' && !file.isUploading\" class=\"tds-upload-list-item-actions hidden rounded  group-hover:flex absolute   justify-center inset-0 items-center bg-black bg-opacity-40\"\r\n    >\r\n      <a class=\"flex mr-2\" *ngIf=\"icons.showPreviewIcon\" [href]=\"file.url || file.thumbUrl\" target=\"_blank\" rel=\"noopener noreferrer\"\r\n        [attr.title]=\"locale.previewFile\"\r\n        [ngStyle]=\"!(file.url || file.thumbUrl) ? { opacity: 0.5, 'pointer-events': 'none' } : null\"\r\n        (click)=\"handlePreview(file, $event)\">\r\n        <i class=\"tdsi-eye-open-fill text-base leading-4 text-white\"></i>\r\n      </a>\r\n      <ng-container *ngIf=\"file.status === 'done'\">\r\n        <ng-template [ngTemplateOutlet]=\"downloadIcon\"></ng-template>\r\n      </ng-container>\r\n      <ng-template [ngTemplateOutlet]=\"removeIcon\"></ng-template>\r\n    </span>\r\n    <div *ngIf=\"file.isUploading\" class=\"tds-upload-list-item-progress\" [ngClass]=\"{'mt-6':isPictureCard}\">\r\n      <tds-progress [percent]=\"file.percent!\" type=\"line\" [showInfo]=\"false\" [strokeWidth]=\"2\"></tds-progress>\r\n    </div>\r\n  </div>\r\n</div>" }]
    }], function () { return [{ type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{
                type: Inject,
                args: [DOCUMENT]
            }] }, { type: i0.NgZone }, { type: i1.Platform }, { type: i0.ElementRef }]; }, { locale: [{
            type: Input
        }], listType: [{
            type: Input
        }], items: [{
            type: Input
        }], icons: [{
            type: Input
        }], onPreview: [{
            type: Input
        }], onRemove: [{
            type: Input
        }], onDownload: [{
            type: Input
        }], previewFile: [{
            type: Input
        }], previewIsImage: [{
            type: Input
        }], iconRender: [{
            type: Input
        }], dir: [{
            type: Input
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXBsb2FkLWxpc3QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvdGRzLXVpL3VwbG9hZC91cGxvYWQtbGlzdC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy90ZHMtdWkvdXBsb2FkL3VwbG9hZC1saXN0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUcxRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0MsT0FBTyxFQUNMLHVCQUF1QixFQUV2QixTQUFTLEVBRVQsTUFBTSxFQUNOLEtBQUssRUFHTCxpQkFBaUIsRUFDbEIsTUFBTSxlQUFlLENBQUM7Ozs7Ozs7Ozs7SUNOZiwrQkFDd0Q7SUFDdEQsa0hBQXlHO0lBQzNHLGlCQUFNOzs7O0lBRkosaUVBQXFEO0lBQ3hDLGVBQTZCO0lBQTdCLHNDQUE2QixnRUFBQTs7OztJQUsxQywwQkFDb0c7Ozs7SUFBbEcsdUVBQWlDLDhEQUFBO0lBQUMsbUNBQXNCOzs7OztJQUo1RCw2QkFFMkU7SUFBdEMsdU9BQVMsc0NBQTJCLElBQUM7SUFDeEUsZ0dBQ29HO0lBQ3RHLGlCQUFJOzs7Ozs7SUFKRixnRUFBb0Q7SUFEZ0IsbUdBQXlFLDJEQUFBO0lBR3ZJLGVBQXVCO0lBQXZCLHlDQUF1QixrQkFBQTs7OztJQUcvQiwrQkFBcUU7SUFDbkUsa0hBQXlHO0lBQzNHLGlCQUFNOzs7O0lBRFMsZUFBNkI7SUFBN0Isc0NBQTZCLGdFQUFBOzs7O0lBSTVDLDBIQUF5Rzs7OztJQUE1RixzQ0FBNkIsZ0VBQUE7OztJQWhCNUMsaUNBQXlDO0lBQ3ZDLDRGQUdNO0lBQ04sd0ZBS0k7SUFDSiw0RkFFTTtJQUNSLDBCQUFlO0lBQ2YsNklBRWM7OztJQWpCQSwyQ0FBMEI7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Q0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQ3JGLENBQUM7aUJBQ0gsUUFDSztvQkFDSiw2QkFBNkIsRUFBRSxlQUFlO29CQUM5Qyw4QkFBOEIsRUFBRSxxQkFBcUI7b0JBQ3JELGlDQUFpQyxFQUFFLHdCQUF3QjtvQkFDM0Qsc0NBQXNDLEVBQUUsNkJBQTZCO29CQUNyRSxjQUFjLEVBQUUsNkJBQTZCO29CQUM3QyxxQkFBcUIsRUFBRSw2QkFBNkI7aUJBQ3JELHVCQUNvQixLQUFLLGlCQUNYLGlCQUFpQixDQUFDLElBQUksbUJBQ3BCLHVCQUF1QixDQUFDLE1BQU07O3NCQTRMNUMsTUFBTTt1QkFBQyxRQUFROzZGQW5MVCxNQUFNO2tCQUFkLEtBQUs7WUFDRyxRQUFRO2tCQUFoQixLQUFLO1lBRUYsS0FBSztrQkFEUixLQUFLO1lBSUcsS0FBSztrQkFBYixLQUFLO1lBQ0csU0FBUztrQkFBakIsS0FBSztZQUNHLFFBQVE7a0JBQWhCLEtBQUs7WUFDRyxVQUFVO2tCQUFsQixLQUFLO1lBQ0csV0FBVztrQkFBbkIsS0FBSztZQUNHLGNBQWM7a0JBQXRCLEtBQUs7WUFDRyxVQUFVO2tCQUFsQixLQUFLO1lBQ0csR0FBRztrQkFBWCxLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5pbXBvcnQgeyBhbmltYXRlLCBzdHlsZSwgdHJhbnNpdGlvbiwgdHJpZ2dlciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xyXG5pbXBvcnQgeyBEaXJlY3Rpb24gfSBmcm9tICdAYW5ndWxhci9jZGsvYmlkaSc7XHJcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL3BsYXRmb3JtJztcclxuaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQge1xyXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxyXG4gIENoYW5nZURldGVjdG9yUmVmLFxyXG4gIENvbXBvbmVudCxcclxuICBFbGVtZW50UmVmLFxyXG4gIEluamVjdCxcclxuICBJbnB1dCxcclxuICBOZ1pvbmUsXHJcbiAgT25DaGFuZ2VzLFxyXG4gIFZpZXdFbmNhcHN1bGF0aW9uXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgVERTU2FmZUFueSB9IGZyb20gJ3Rkcy11aS9zaGFyZWQvdXRpbGl0eSc7XHJcblxyXG5pbXBvcnQgeyBURFNJY29uUmVuZGVyVGVtcGxhdGUsIFREU1Nob3dVcGxvYWRMaXN0LCBURFNVcGxvYWRGaWxlLCBURFNVcGxvYWRMaXN0VHlwZSB9IGZyb20gJy4vaW50ZXJmYWNlJztcclxuXHJcbmNvbnN0IGlzSW1hZ2VGaWxlVHlwZSA9ICh0eXBlOiBzdHJpbmcpOiBib29sZWFuID0+ICEhdHlwZSAmJiB0eXBlLmluZGV4T2YoJ2ltYWdlLycpID09PSAwO1xyXG5cclxuY29uc3QgTUVBU1VSRV9TSVpFID0gMjAwO1xyXG5cclxudHlwZSBVcGxvYWRMaXN0SWNvblR5cGUgPSAnJyB8ICd1cGxvYWRpbmcnIHwgJ3RodW1ibmFpbCc7XHJcblxyXG5pbnRlcmZhY2UgVXBsb2FkTGlzdEZpbGUgZXh0ZW5kcyBURFNVcGxvYWRGaWxlIHtcclxuICBpc0ltYWdlVXJsPzogYm9vbGVhbjtcclxuICBpc1VwbG9hZGluZz86IGJvb2xlYW47XHJcbiAgaWNvblR5cGU/OiBVcGxvYWRMaXN0SWNvblR5cGU7XHJcbiAgc2hvd0Rvd25sb2FkPzogYm9vbGVhbjtcclxufVxyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICd0ZHMtdXBsb2FkLWxpc3QnLFxyXG4gIGV4cG9ydEFzOiAndGRzVXBsb2FkTGlzdCcsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3VwbG9hZC1saXN0LmNvbXBvbmVudC5odG1sJyxcclxuICBhbmltYXRpb25zOiBbXHJcbiAgICB0cmlnZ2VyKCdpdGVtU3RhdGUnLCBbXHJcbiAgICAgIHRyYW5zaXRpb24oJzplbnRlcicsIFtcclxuICAgICAgICBzdHlsZSh7IGhlaWdodDogJzAnLCB3aWR0aDogJzAnLCBvcGFjaXR5OiAwIH0pLFxyXG4gICAgICAgIGFuaW1hdGUoMTUwLCBzdHlsZSh7IGhlaWdodDogJyonLCB3aWR0aDogJyonLCBvcGFjaXR5OiAxIH0pKVxyXG4gICAgICBdKSxcclxuICAgICAgdHJhbnNpdGlvbignOmxlYXZlJywgW2FuaW1hdGUoMTUwLCBzdHlsZSh7IGhlaWdodDogJzAnLCB3aWR0aDogJzAnLCBvcGFjaXR5OiAwIH0pKV0pXHJcbiAgICBdKVxyXG4gIF0sXHJcbiAgaG9zdDoge1xyXG4gICAgJ1tjbGFzcy50ZHMtdXBsb2FkLWxpc3QtcnRsXSc6IGBkaXIgPT09ICdydGwnYCxcclxuICAgICdbY2xhc3MudGRzLXVwbG9hZC1saXN0LXRleHRdJzogYGxpc3RUeXBlID09PSAndGV4dCdgLFxyXG4gICAgJ1tjbGFzcy50ZHMtdXBsb2FkLWxpc3QtcGljdHVyZV0nOiBgbGlzdFR5cGUgPT09ICdwaWN0dXJlJ2AsXHJcbiAgICAnW2NsYXNzLnRkcy11cGxvYWQtbGlzdC1waWN0dXJlLWNhcmRdJzogYGxpc3RUeXBlID09PSAncGljdHVyZS1jYXJkJ2AsXHJcbiAgICAnW2NsYXNzLmZsZXhdJzogYGxpc3RUeXBlID09PSAncGljdHVyZS1jYXJkJ2AsXHJcbiAgICAnW2NsYXNzLmZsZXgtbm93cmFwXSc6IGBsaXN0VHlwZSA9PT0gJ3BpY3R1cmUtY2FyZCdgXHJcbiAgfSxcclxuICBwcmVzZXJ2ZVdoaXRlc3BhY2VzOiBmYWxzZSxcclxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBURFNVcGxvYWRMaXN0Q29tcG9uZW50IGltcGxlbWVudHMgT25DaGFuZ2VzIHtcclxuICBsaXN0OiBVcGxvYWRMaXN0RmlsZVtdID0gW107XHJcblxyXG4gIHByaXZhdGUgZ2V0IHNob3dQaWMoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5saXN0VHlwZSA9PT0gJ3BpY3R1cmUnIHx8IHRoaXMubGlzdFR5cGUgPT09ICdwaWN0dXJlLWNhcmQnO1xyXG4gIH1cclxuXHJcbiAgQElucHV0KCkgbG9jYWxlOiBURFNTYWZlQW55ID0ge307XHJcbiAgQElucHV0KCkgbGlzdFR5cGUhOiBURFNVcGxvYWRMaXN0VHlwZTtcclxuICBASW5wdXQoKVxyXG4gIHNldCBpdGVtcyhsaXN0OiBURFNVcGxvYWRGaWxlW10pIHtcclxuICAgIHRoaXMubGlzdCA9IGxpc3Q7XHJcbiAgfVxyXG4gIEBJbnB1dCgpIGljb25zITogVERTU2hvd1VwbG9hZExpc3Q7XHJcbiAgQElucHV0KCkgb25QcmV2aWV3PzogKGZpbGU6IFREU1VwbG9hZEZpbGUpID0+IHZvaWQ7XHJcbiAgQElucHV0KCkgb25SZW1vdmUhOiAoZmlsZTogVERTVXBsb2FkRmlsZSkgPT4gdm9pZDtcclxuICBASW5wdXQoKSBvbkRvd25sb2FkPzogKGZpbGU6IFREU1VwbG9hZEZpbGUpID0+IHZvaWQ7XHJcbiAgQElucHV0KCkgcHJldmlld0ZpbGU/OiAoZmlsZTogVERTVXBsb2FkRmlsZSkgPT4gT2JzZXJ2YWJsZTxzdHJpbmc+O1xyXG4gIEBJbnB1dCgpIHByZXZpZXdJc0ltYWdlPzogKGZpbGU6IFREU1VwbG9hZEZpbGUpID0+IGJvb2xlYW47XHJcbiAgQElucHV0KCkgaWNvblJlbmRlcjogVERTSWNvblJlbmRlclRlbXBsYXRlIHwgbnVsbCA9IG51bGw7XHJcbiAgQElucHV0KCkgZGlyOiBEaXJlY3Rpb24gPSAnbHRyJztcclxuXHJcbiAgcHJpdmF0ZSBnZW5FcnIoZmlsZTogVERTVXBsb2FkRmlsZSk6IHN0cmluZyB7XHJcbiAgICBpZiAoZmlsZS5yZXNwb25zZSAmJiB0eXBlb2YgZmlsZS5yZXNwb25zZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgcmV0dXJuIGZpbGUucmVzcG9uc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGZpbGUuZXJyb3IgJiYgZmlsZS5lcnJvci5zdGF0dXNUZXh0KSB8fCB0aGlzLmxvY2FsZS51cGxvYWRFcnJvcjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZXh0bmFtZSh1cmw6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCB0ZW1wID0gdXJsLnNwbGl0KCcvJyk7XHJcbiAgICBjb25zdCBmaWxlbmFtZSA9IHRlbXBbdGVtcC5sZW5ndGggLSAxXTtcclxuICAgIGNvbnN0IGZpbGVuYW1lV2l0aG91dFN1ZmZpeCA9IGZpbGVuYW1lLnNwbGl0KC8jfFxcPy8pWzBdO1xyXG4gICAgcmV0dXJuICgvXFwuW14uL1xcXFxdKiQvLmV4ZWMoZmlsZW5hbWVXaXRob3V0U3VmZml4KSB8fCBbJyddKVswXTtcclxuICB9XHJcblxyXG4gIGlzSW1hZ2VVcmwoZmlsZTogVERTVXBsb2FkRmlsZSk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKGlzSW1hZ2VGaWxlVHlwZShmaWxlLnR5cGUhKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IHVybDogc3RyaW5nID0gKGZpbGUudGh1bWJVcmwgfHwgZmlsZS51cmwgfHwgJycpIGFzIHN0cmluZztcclxuICAgIGlmICghdXJsKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGV4dGVuc2lvbiA9IHRoaXMuZXh0bmFtZSh1cmwpO1xyXG4gICAgaWYgKC9eZGF0YTppbWFnZVxcLy8udGVzdCh1cmwpIHx8IC8od2VicHxzdmd8cG5nfGdpZnxqcGd8anBlZ3xqZmlmfGJtcHxkcGcpJC9pLnRlc3QoZXh0ZW5zaW9uKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoL15kYXRhOi8udGVzdCh1cmwpKSB7XHJcbiAgICAgIC8vIG90aGVyIGZpbGUgdHlwZXMgb2YgYmFzZTY0XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gZWxzZSBpZiAoZXh0ZW5zaW9uKSB7XHJcbiAgICAgIC8vIG90aGVyIGZpbGUgdHlwZXMgd2hpY2ggaGF2ZSBleHRlbnNpb25cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEljb25UeXBlKGZpbGU6IFVwbG9hZExpc3RGaWxlKTogVXBsb2FkTGlzdEljb25UeXBlIHtcclxuICAgIGlmICghdGhpcy5zaG93UGljKSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIGlmIChmaWxlLmlzVXBsb2FkaW5nIHx8ICghZmlsZS50aHVtYlVybCAmJiAhZmlsZS51cmwpKSB7XHJcbiAgICAgIHJldHVybiAndXBsb2FkaW5nJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAndGh1bWJuYWlsJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJldmlld0ltYWdlKGZpbGU6IEZpbGUgfCBCbG9iKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgaWYgKCFpc0ltYWdlRmlsZVR5cGUoZmlsZS50eXBlKSB8fCAhdGhpcy5wbGF0Zm9ybS5pc0Jyb3dzZXIpIHtcclxuICAgICAgICByZXNvbHZlKCcnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZG9jLmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IE1FQVNVUkVfU0laRTtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTUVBU1VSRV9TSVpFO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMDsgdG9wOiAwOyB3aWR0aDogJHtNRUFTVVJFX1NJWkV9cHg7IGhlaWdodDogJHtNRUFTVVJFX1NJWkV9cHg7IHotaW5kZXg6IDk5OTk7IGRpc3BsYXk6IG5vbmU7YDtcclxuICAgICAgICB0aGlzLmRvYy5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gaW1nO1xyXG5cclxuICAgICAgICAgIGxldCBkcmF3V2lkdGggPSBNRUFTVVJFX1NJWkU7XHJcbiAgICAgICAgICBsZXQgZHJhd0hlaWdodCA9IE1FQVNVUkVfU0laRTtcclxuICAgICAgICAgIGxldCBvZmZzZXRYID0gMDtcclxuICAgICAgICAgIGxldCBvZmZzZXRZID0gMDtcclxuXHJcbiAgICAgICAgICBpZiAod2lkdGggPCBoZWlnaHQpIHtcclxuICAgICAgICAgICAgZHJhd0hlaWdodCA9IGhlaWdodCAqIChNRUFTVVJFX1NJWkUgLyB3aWR0aCk7XHJcbiAgICAgICAgICAgIG9mZnNldFkgPSAtKGRyYXdIZWlnaHQgLSBkcmF3V2lkdGgpIC8gMjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRyYXdXaWR0aCA9IHdpZHRoICogKE1FQVNVUkVfU0laRSAvIGhlaWdodCk7XHJcbiAgICAgICAgICAgIG9mZnNldFggPSAtKGRyYXdXaWR0aCAtIGRyYXdIZWlnaHQpIC8gMjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjdHghLmRyYXdJbWFnZShpbWcsIG9mZnNldFgsIG9mZnNldFksIGRyYXdXaWR0aCwgZHJhd0hlaWdodCk7XHJcbiAgICAgICAgICB9IGNhdGNoIHsgfVxyXG4gICAgICAgICAgY29uc3QgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgICAgICAgIHRoaXMuZG9jLmJvZHkucmVtb3ZlQ2hpbGQoY2FudmFzKTtcclxuXHJcbiAgICAgICAgICByZXNvbHZlKGRhdGFVUkwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW1nLnNyYyA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZW5UaHVtYigpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5wbGF0Zm9ybS5pc0Jyb3dzZXIpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHdpbiA9IHdpbmRvdyBhcyBURFNTYWZlQW55O1xyXG4gICAgaWYgKFxyXG4gICAgICAhdGhpcy5zaG93UGljIHx8XHJcbiAgICAgIHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHxcclxuICAgICAgdHlwZW9mIHdpbiA9PT0gJ3VuZGVmaW5lZCcgfHxcclxuICAgICAgIXdpbi5GaWxlUmVhZGVyIHx8XHJcbiAgICAgICF3aW4uRmlsZVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMubGlzdFxyXG4gICAgICAuZmlsdGVyKGZpbGUgPT4gZmlsZS5vcmlnaW5GaWxlT2JqIGluc3RhbmNlb2YgRmlsZSAmJiBmaWxlLnRodW1iVXJsID09PSB1bmRlZmluZWQpXHJcbiAgICAgIC5mb3JFYWNoKGZpbGUgPT4ge1xyXG4gICAgICAgIGZpbGUudGh1bWJVcmwgPSAnJztcclxuICAgICAgICAodGhpcy5wcmV2aWV3RmlsZSA/IHRoaXMucHJldmlld0ZpbGUoZmlsZSkudG9Qcm9taXNlKCkgOiB0aGlzLnByZXZpZXdJbWFnZShmaWxlLm9yaWdpbkZpbGVPYmohKSkudGhlbihcclxuICAgICAgICAgIGRhdGFVcmwgPT4ge1xyXG4gICAgICAgICAgICBmaWxlLnRodW1iVXJsID0gZGF0YVVybDtcclxuICAgICAgICAgICAgdGhpcy5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNob3dEb3dubG9hZChmaWxlOiBURFNVcGxvYWRGaWxlKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gISEodGhpcy5pY29ucy5zaG93RG93bmxvYWRJY29uICYmIGZpbGUuc3RhdHVzID09PSAnZG9uZScpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBmaXhEYXRhKCk6IHZvaWQge1xyXG4gICAgdGhpcy5saXN0LmZvckVhY2goZmlsZSA9PiB7XHJcbiAgICAgIGZpbGUuaXNVcGxvYWRpbmcgPSBmaWxlLnN0YXR1cyA9PT0gJ3VwbG9hZGluZyc7XHJcbiAgICAgIGZpbGUubWVzc2FnZSA9IHRoaXMuZ2VuRXJyKGZpbGUpO1xyXG4gICAgICBmaWxlLmxpbmtQcm9wcyA9IHR5cGVvZiBmaWxlLmxpbmtQcm9wcyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGZpbGUubGlua1Byb3BzKSA6IGZpbGUubGlua1Byb3BzO1xyXG4gICAgICBmaWxlLmlzSW1hZ2VVcmwgPSB0aGlzLnByZXZpZXdJc0ltYWdlID8gdGhpcy5wcmV2aWV3SXNJbWFnZShmaWxlKSA6IHRoaXMuaXNJbWFnZVVybChmaWxlKTtcclxuICAgICAgZmlsZS5pY29uVHlwZSA9IHRoaXMuZ2V0SWNvblR5cGUoZmlsZSk7XHJcbiAgICAgIGZpbGUuc2hvd0Rvd25sb2FkID0gdGhpcy5zaG93RG93bmxvYWQoZmlsZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVByZXZpZXcoZmlsZTogVERTVXBsb2FkRmlsZSwgZTogRXZlbnQpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5vblByZXZpZXcpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHJldHVybiB0aGlzLm9uUHJldmlldyhmaWxlKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVJlbW92ZShmaWxlOiBURFNVcGxvYWRGaWxlLCBlOiBFdmVudCk6IHZvaWQge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYgKHRoaXMub25SZW1vdmUpIHtcclxuICAgICAgdGhpcy5vblJlbW92ZShmaWxlKTtcclxuICAgIH1cclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGhhbmRsZURvd25sb2FkKGZpbGU6IFREU1VwbG9hZEZpbGUpOiB2b2lkIHtcclxuICAgIGlmICh0eXBlb2YgdGhpcy5vbkRvd25sb2FkID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRoaXMub25Eb3dubG9hZChmaWxlKTtcclxuICAgIH0gZWxzZSBpZiAoZmlsZS51cmwpIHtcclxuICAgICAgd2luZG93Lm9wZW4oZmlsZS51cmwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGlzUGljdHVyZUNhcmQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5saXN0VHlwZSA9PT0gJ3BpY3R1cmUtY2FyZCdcclxuICB9XHJcbiAgLy8gI2VuZHJlZ2lvblxyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgY2RyOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgIEBJbmplY3QoRE9DVU1FTlQpIHByaXZhdGUgZG9jOiBURFNTYWZlQW55LFxyXG4gICAgcHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZSxcclxuICAgIHByaXZhdGUgcGxhdGZvcm06IFBsYXRmb3JtLFxyXG4gICAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmXHJcbiAgKSB7XHJcbiAgICAvLyBUT0RPOiBtb3ZlIHRvIGhvc3QgYWZ0ZXIgVmlldyBFbmdpbmUgZGVwcmVjYXRpb25cclxuICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Rkcy11cGxvYWQtbGlzdCcpO1xyXG4gIH1cclxuXHJcbiAgZGV0ZWN0Q2hhbmdlcygpOiB2b2lkIHtcclxuICAgIHRoaXMuZml4RGF0YSgpO1xyXG4gICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkNoYW5nZXMoKTogdm9pZCB7XHJcbiAgICB0aGlzLmZpeERhdGEoKTtcclxuICAgIHRoaXMuZ2VuVGh1bWIoKTtcclxuICB9XHJcbn1cclxuIiwiPGRpdiAqbmdGb3I9XCJsZXQgZmlsZSBvZiBsaXN0XCIgY2xhc3M9XCJ0ZHMtdXBsb2FkLWxpc3Qte3sgbGlzdFR5cGUgfX0tY29udGFpbmVyIG10LTIuNVwiIFxyXG5bbmdDbGFzc109XCJ7J2gtMjggdy0yOCAgbXItMi41IGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHJlbGF0aXZlIGdyb3VwICc6aXNQaWN0dXJlQ2FyZCxcclxuJ2JvcmRlci1kYXNoZWQgYm9yZGVyLW5ldXRyYWwtMi0yMDAgZGFyazpib3JkZXItZC1uZXV0cmFsLTItMjAwIGJvcmRlciByb3VuZGVkJzogZmlsZS5zdGF0dXMgPT0gJ3VwbG9hZGluZycgJiYgaXNQaWN0dXJlQ2FyZFxyXG59XCI+XHJcbiAgPGRpdiBjbGFzcz1cInRkcy11cGxvYWQtbGlzdC1pdGVtIHJlbGF0aXZlIHRkcy11cGxvYWQtbGlzdC1pdGVtLXt7IGZpbGUuc3RhdHVzIH19IHRleHQte3tmaWxlLnN0YXR1cyAhPSAnZG9uZScgP2ZpbGUuc3RhdHVzOidzdWNjZXNzJyB9fS01MDAgdGRzLXVwbG9hZC1saXN0LWl0ZW0tbGlzdC10eXBlLXt7IGxpc3RUeXBlIH19ICBcIlxyXG4gICBbbmdDbGFzc109XCJ7J2JnLW5ldXRyYWwtMy01MCByb3VuZGVkIGRhcms6YmctZC1uZXV0cmFsLTMtMjAwJzohaXNQaWN0dXJlQ2FyZCwndy1mdWxsIGgtZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciByZWxhdGl2ZSc6aXNQaWN0dXJlQ2FyZCAmJiBmaWxlLnN0YXR1cyAhPT0ndXBsb2FkaW5nJyxcclxuICAgJ2JvcmRlci1lcnJvci0zMDAgYm9yZGVyIHJvdW5kZWQnOiBmaWxlLnN0YXR1cyA9PSAnZXJyb3InICYmIGlzUGljdHVyZUNhcmQgfVwiXHJcbiAgICBbYXR0ci5kYXRhLWtleV09XCJmaWxlLmtleVwiIEBpdGVtU3RhdGUgdGRzLXRvb2x0aXAgW3Rvb2x0aXBUaXRsZV09XCJmaWxlLnN0YXR1cyA9PT0gJ2Vycm9yJyA/IGZpbGUubWVzc2FnZSA6IG51bGxcIj5cclxuICAgIDxuZy10ZW1wbGF0ZSAjaWNvbj5cclxuICAgICAgPG5nLWNvbnRhaW5lciBbbmdTd2l0Y2hdPVwiZmlsZS5pY29uVHlwZVwiPlxyXG4gICAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT1cIid1cGxvYWRpbmcnXCIgY2xhc3M9XCJ0ZHMtdXBsb2FkLWxpc3QtaXRlbS10aHVtYm5haWxcIlxyXG4gICAgICAgICAgW2NsYXNzLnRkcy11cGxvYWQtbGlzdC1pdGVtLWZpbGVdPVwiIWZpbGUuaXNVcGxvYWRpbmdcIj5cclxuICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJpY29uTm9kZVwiIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogZmlsZSB9XCI+PC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8YSAqbmdTd2l0Y2hDYXNlPVwiJ3RodW1ibmFpbCdcIiBjbGFzcz1cInRkcy11cGxvYWQtbGlzdC1pdGVtLXRodW1ibmFpbFwiIFtuZ0NsYXNzXT1cInsndy0xMiBoLTEyIG1yLTInOiFpc1BpY3R1cmVDYXJkICwgJ2gtMjggdy0yOCc6aXNQaWN0dXJlQ2FyZH1cIlxyXG4gICAgICAgICAgW2NsYXNzLnRkcy11cGxvYWQtbGlzdC1pdGVtLWZpbGVdPVwiIWZpbGUuaXNJbWFnZVVybFwiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxyXG4gICAgICAgICAgW2hyZWZdPVwiZmlsZS51cmwgfHwgZmlsZS50aHVtYlVybFwiIChjbGljayk9XCJoYW5kbGVQcmV2aWV3KGZpbGUsICRldmVudClcIj5cclxuICAgICAgICAgIDxpbWcgKm5nSWY9XCJmaWxlLmlzSW1hZ2VVcmw7IGVsc2Ugbm9JbWFnZVRodW1iVHBsXCIgY2xhc3M9XCJ0ZHMtdXBsb2FkLWxpc3QtaXRlbS1pbWFnZSByb3VuZGVkIG9iamVjdC1jb3ZlclwiXHJcbiAgICAgICAgICAgIFtzcmNdPVwiZmlsZS50aHVtYlVybCB8fCBmaWxlLnVybFwiIFthdHRyLmFsdF09XCJmaWxlLm5hbWVcIiBbbmdDbGFzc109XCJ7J2gtMjggdy0yOCc6aXNQaWN0dXJlQ2FyZH1cIi8+XHJcbiAgICAgICAgPC9hPlxyXG4gICAgICAgIDxkaXYgKm5nU3dpdGNoRGVmYXVsdCBjbGFzcz1cInRkcy11cGxvYWQtdGV4dC1pY29uIGZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiaWNvbk5vZGVcIiBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyAkaW1wbGljaXQ6IGZpbGUgfVwiPjwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICA8bmctdGVtcGxhdGUgI25vSW1hZ2VUaHVtYlRwbD5cclxuICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiaWNvbk5vZGVcIiBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyAkaW1wbGljaXQ6IGZpbGUgfVwiPjwvbmctdGVtcGxhdGU+XHJcbiAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgPG5nLXRlbXBsYXRlICNpY29uTm9kZSBsZXQtZmlsZT5cclxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIiFpY29uUmVuZGVyOyBlbHNlIGN1c3RvbUljb25SZW5kZXJcIj5cclxuICAgICAgICA8bmctY29udGFpbmVyIFtuZ1N3aXRjaF09XCJsaXN0VHlwZVwiPlxyXG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdTd2l0Y2hDYXNlPVwiJ3BpY3R1cmUnXCI+XHJcbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJmaWxlLmlzVXBsb2FkaW5nOyBlbHNlIGljb25Ob2RlRmlsZUljb25cIj5cclxuICAgICAgICAgICAgICA8IS0tIDxpIG56LWljb24gdHlwZT1cImxvYWRpbmdcIj48L2k+IC0tPlxyXG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdTd2l0Y2hDYXNlPVwiJ3BpY3R1cmUtY2FyZCdcIj5cclxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImZpbGUuaXNVcGxvYWRpbmc7IGVsc2UgaWNvbk5vZGVGaWxlSWNvblwiPlxyXG4gICAgICAgICAgICAgIHt7IGxvY2FsZS51cGxvYWRpbmcgfX1cclxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nU3dpdGNoRGVmYXVsdD5cclxuICAgICAgICAgICAgPGkgKm5nSWY9XCIhZmlsZS5pc1VwbG9hZGluZ1wiICBjbGFzcz1cInRkc2ktYXR0YWNoZWQtZmlsZS1maWxsICB0ZXh0LWJhc2UgbGVhZGluZy00IG1yLTJcIj48L2k+XHJcbiAgICAgICAgICAgIDx0ZHMtc3Bpbm5lciAqbmdJZj1cImZpbGUuaXNVcGxvYWRpbmdcIiAgY2xhc3M9XCJ3LTMgaC0zICBtci0yXCI+PC90ZHMtc3Bpbm5lcj5cclxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICA8bmctdGVtcGxhdGUgI2N1c3RvbUljb25SZW5kZXIgW25nVGVtcGxhdGVPdXRsZXRdPVwiaWNvblJlbmRlclwiIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogZmlsZSB9XCI+XHJcbiAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgIDxuZy10ZW1wbGF0ZSAjaWNvbk5vZGVGaWxlSWNvbj5cclxuICAgICAgICA8IS0tIDxpICBbdHlwZV09XCJmaWxlLmlzSW1hZ2VVcmwgPyAncGljdHVyZScgOiAnZmlsZSdcIiBuelRoZW1lPVwidHdvdG9uZVwiPjwvaT4gLS0+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZHNpLXdhcm5pbmctZmlsbCB0ZXh0LXhsIGxlYWRpbmctNSBtYi02XCI+PC9zcGFuPlxyXG4gICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgIDxuZy10ZW1wbGF0ZSAjcmVtb3ZlSWNvbj5cclxuICAgICAgPGJ1dHRvbiAoY2xpY2spPVwiaGFuZGxlUmVtb3ZlKGZpbGUsICRldmVudClcIiBbYXR0ci50aXRsZV09XCJsb2NhbGUucmVtb3ZlRmlsZVwiXHJcbiAgICAgICAgY2xhc3M9XCJ0ZHMtdXBsb2FkLWxpc3QtaXRlbS1jYXJkLWFjdGlvbnMtYnRuIGZsZXhcIiAqbmdJZj1cImljb25zLnNob3dSZW1vdmVJY29uXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgPGkgY2xhc3M9XCJ0ZHNpLWNsb3NlLWZpbGwgdGV4dC1iYXNlIGxlYWRpbmctNCBcIiBbbmdDbGFzc109XCJ7J3RleHQtd2hpdGUnOmlzUGljdHVyZUNhcmQsJ3RleHQtbmV1dHJhbC0xLTUwMCBkYXJrOnRleHQtZC1uZXV0cmFsLTEtNTAwJzohaXNQaWN0dXJlQ2FyZH1cIj48L2k+XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICA8bmctdGVtcGxhdGUgI2Rvd25sb2FkSWNvbj5cclxuICAgICAgPGJ1dHRvbiAqbmdJZj1cImZpbGUuc2hvd0Rvd25sb2FkXCIgKGNsaWNrKT1cImhhbmRsZURvd25sb2FkKGZpbGUpXCIgW2F0dHIudGl0bGVdPVwibG9jYWxlLmRvd25sb2FkRmlsZVwiXHJcbiAgICAgICAgY2xhc3M9XCJ0ZHMtdXBsb2FkLWxpc3QtaXRlbS1jYXJkLWFjdGlvbnMtYnRuIG1yLTJcIj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICA8aSBjbGFzcz1cInRkc2ktZG93bmxvYWQtZmlsbCB0ZXh0LWJhc2UgbGVhZGluZy00XCIgW25nQ2xhc3NdPVwieyd0ZXh0LXdoaXRlJzppc1BpY3R1cmVDYXJkLCd0ZXh0LW5ldXRyYWwtMS01MDAgZGFyazp0ZXh0LWQtbmV1dHJhbC0xLTUwMCc6IWlzUGljdHVyZUNhcmR9XCI+PC9pPlxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgPC9idXR0b24+XHJcbiAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgPG5nLXRlbXBsYXRlICNkb3dubG9hZE9yRGVsZXRlPlxyXG4gICAgICA8c3BhbiAqbmdJZj1cImxpc3RUeXBlICE9PSAncGljdHVyZS1jYXJkJ1wiXHJcbiAgICAgICAgY2xhc3M9XCJ0ZHMtdXBsb2FkLWxpc3QtaXRlbS1jYXJkLWFjdGlvbnMge3sgbGlzdFR5cGUgPT09ICdwaWN0dXJlJyA/ICdwaWN0dXJlJyA6ICcnIH19IGZsZXhcIj5cclxuICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiZG93bmxvYWRJY29uXCI+PC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwicmVtb3ZlSWNvblwiPjwvbmctdGVtcGxhdGU+XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICA8bmctdGVtcGxhdGUgI3ByZXZpZXc+XHJcbiAgICAgIDxhICpuZ0lmPVwiZmlsZS51cmxcIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCIgY2xhc3M9XCJ0ZHMtdXBsb2FkLWxpc3QtaXRlbS1uYW1lIGZsZXgtYXV0byBoaWRkZW5cIiBbbmdDbGFzc109XCJ7J2hpZGRlbic6aXNQaWN0dXJlQ2FyZCAmJiBmaWxlLnN0YXR1cyAhPT0gJ2Vycm9yJyB9XCJcclxuICAgICAgICBbYXR0ci50aXRsZV09XCJmaWxlLm5hbWVcIiBbaHJlZl09XCJmaWxlLnVybFwiIFthdHRyLmRvd25sb2FkXT1cImZpbGUubGlua1Byb3BzICYmIGZpbGUubGlua1Byb3BzLmRvd25sb2FkXCJcclxuICAgICAgICAoY2xpY2spPVwiaGFuZGxlUHJldmlldyhmaWxlLCAkZXZlbnQpXCI+XHJcbiAgICAgICAge3sgZmlsZS5uYW1lIH19IFxyXG4gICAgICA8L2E+ICAgICBcclxuICAgICAgPHNwYW4gKm5nSWY9XCIhZmlsZS51cmxcIiBjbGFzcz1cInRkcy11cGxvYWQtbGlzdC1pdGVtLW5hbWUgdGV4dC1ib2R5LTIgZm9udC1yZWd1bGFyIGZsZXgtYXV0byBcIiBbYXR0ci50aXRsZV09XCJmaWxlLm5hbWVcIiBbbmdDbGFzc109XCJ7J2hpZGRlbic6aXNQaWN0dXJlQ2FyZCAmJiAoZmlsZS5pc1VwbG9hZGluZyB8fCBmaWxlLmljb25UeXBlID09J3RodW1ibmFpbCcpIH1cIlxyXG4gICAgICAgIChjbGljayk9XCJoYW5kbGVQcmV2aWV3KGZpbGUsICRldmVudClcIj5cclxuICAgICAgICB7eyBmaWxlLm5hbWUgfX0gXHJcbiAgICAgIDwvc3Bhbj5cclxuICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImRvd25sb2FkT3JEZWxldGVcIj48L25nLXRlbXBsYXRlPlxyXG4gICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgIDxkaXYgY2xhc3M9XCJ0ZHMtdXBsb2FkLWxpc3QtaXRlbS1pbmZvIFwiIFtuZ0NsYXNzXT1cInsnaC1mdWxsIHAtMSc6IWlzUGljdHVyZUNhcmQsJ3RleHQtY2VudGVyJzppc1BpY3R1cmVDYXJkfVwiPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cInRkcy11cGxvYWQtc3BhbiBcIiBbbmdDbGFzc109XCJ7J2ZsZXggaXRlbXMtY2VudGVyJzohaXNQaWN0dXJlQ2FyZH1cIj5cclxuICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiaWNvblwiPjwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInByZXZpZXdcIj48L25nLXRlbXBsYXRlPlxyXG4gICAgICA8L3NwYW4+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxzcGFuICpuZ0lmPVwibGlzdFR5cGUgPT09ICdwaWN0dXJlLWNhcmQnICYmICFmaWxlLmlzVXBsb2FkaW5nXCIgY2xhc3M9XCJ0ZHMtdXBsb2FkLWxpc3QtaXRlbS1hY3Rpb25zIGhpZGRlbiByb3VuZGVkICBncm91cC1ob3ZlcjpmbGV4IGFic29sdXRlICAganVzdGlmeS1jZW50ZXIgaW5zZXQtMCBpdGVtcy1jZW50ZXIgYmctYmxhY2sgYmctb3BhY2l0eS00MFwiXHJcbiAgICA+XHJcbiAgICAgIDxhIGNsYXNzPVwiZmxleCBtci0yXCIgKm5nSWY9XCJpY29ucy5zaG93UHJldmlld0ljb25cIiBbaHJlZl09XCJmaWxlLnVybCB8fCBmaWxlLnRodW1iVXJsXCIgdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXHJcbiAgICAgICAgW2F0dHIudGl0bGVdPVwibG9jYWxlLnByZXZpZXdGaWxlXCJcclxuICAgICAgICBbbmdTdHlsZV09XCIhKGZpbGUudXJsIHx8IGZpbGUudGh1bWJVcmwpID8geyBvcGFjaXR5OiAwLjUsICdwb2ludGVyLWV2ZW50cyc6ICdub25lJyB9IDogbnVsbFwiXHJcbiAgICAgICAgKGNsaWNrKT1cImhhbmRsZVByZXZpZXcoZmlsZSwgJGV2ZW50KVwiPlxyXG4gICAgICAgIDxpIGNsYXNzPVwidGRzaS1leWUtb3Blbi1maWxsIHRleHQtYmFzZSBsZWFkaW5nLTQgdGV4dC13aGl0ZVwiPjwvaT5cclxuICAgICAgPC9hPlxyXG4gICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiZmlsZS5zdGF0dXMgPT09ICdkb25lJ1wiPlxyXG4gICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJkb3dubG9hZEljb25cIj48L25nLXRlbXBsYXRlPlxyXG4gICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInJlbW92ZUljb25cIj48L25nLXRlbXBsYXRlPlxyXG4gICAgPC9zcGFuPlxyXG4gICAgPGRpdiAqbmdJZj1cImZpbGUuaXNVcGxvYWRpbmdcIiBjbGFzcz1cInRkcy11cGxvYWQtbGlzdC1pdGVtLXByb2dyZXNzXCIgW25nQ2xhc3NdPVwieydtdC02Jzppc1BpY3R1cmVDYXJkfVwiPlxyXG4gICAgICA8dGRzLXByb2dyZXNzIFtwZXJjZW50XT1cImZpbGUucGVyY2VudCFcIiB0eXBlPVwibGluZVwiIFtzaG93SW5mb109XCJmYWxzZVwiIFtzdHJva2VXaWR0aF09XCIyXCI+PC90ZHMtcHJvZ3Jlc3M+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+Il19