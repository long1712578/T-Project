import { ChangeDetectionStrategy, Component, Optional, ViewEncapsulation } from "@angular/core";
import { TDSButtonBase } from "./button.base";
import * as i0 from "@angular/core";
import * as i1 from "./button-group.component";
import * as i2 from "@angular/common";
import * as i3 from "tds-ui/progress-spinner";
import * as i4 from "tds-ui/core/outlet";
const _c0 = ["tds-button-flat", ""];
function TDSButtonFlatComponent_div_0_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainer(0);
} }
function TDSButtonFlatComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 5);
    i0.ɵɵtemplate(1, TDSButtonFlatComponent_div_0_ng_container_1_Template, 1, 0, "ng-container", 6);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    i0.ɵɵnextContext();
    const _r4 = i0.ɵɵreference(5);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", _r4);
} }
function TDSButtonFlatComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "div");
} if (rf & 2) {
    const ctx_r1 = i0.ɵɵnextContext();
    i0.ɵɵclassMap(ctx_r1.loadingCss);
} }
function TDSButtonFlatComponent_ng_template_2_div_0_tds_spinner_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "tds-spinner", 11);
} if (rf & 2) {
    const ctx_r10 = i0.ɵɵnextContext(3);
    i0.ɵɵproperty("color", ctx_r10.spinerColor);
} }
function TDSButtonFlatComponent_ng_template_2_div_0_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 8);
    i0.ɵɵtemplate(1, TDSButtonFlatComponent_ng_template_2_div_0_tds_spinner_1_Template, 1, 1, "tds-spinner", 9);
    i0.ɵɵelementStart(2, "div", 10);
    i0.ɵɵtext(3, " Loading... ");
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r9 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r9.loading);
} }
function TDSButtonFlatComponent_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtemplate(0, TDSButtonFlatComponent_ng_template_2_div_0_Template, 4, 1, "div", 7);
} if (rf & 2) {
    const ctx_r3 = i0.ɵɵnextContext();
    const _r6 = i0.ɵɵreference(7);
    i0.ɵɵproperty("ngIf", !ctx_r3.loadingTemplate)("ngIfElse", _r6);
} }
function TDSButtonFlatComponent_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵprojection(0);
} }
function TDSButtonFlatComponent_ng_template_6_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtext(1);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r11 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", ctx_r11.loadingTemplate, " ");
} }
function TDSButtonFlatComponent_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtemplate(0, TDSButtonFlatComponent_ng_template_6_ng_container_0_Template, 2, 1, "ng-container", 12);
} if (rf & 2) {
    const ctx_r7 = i0.ɵɵnextContext();
    i0.ɵɵproperty("tdsStringTemplateOutlet", ctx_r7.loadingTemplate);
} }
const _c1 = ["*"];
export class TDSButtonFlatComponent extends TDSButtonBase {
    constructor(ngZone, elementRef, cdr, _buttonGroup) {
        super(ngZone, elementRef, cdr, _buttonGroup);
        this.ngZone = ngZone;
        this.elementRef = elementRef;
        this.cdr = cdr;
        this._buttonGroup = _buttonGroup;
    }
    getClassCssActive() {
        let result = 'dark:hover:bg-d-neutral-3-300 hover:bg-neutral-3-300 dark:focus:bg-d-neutral-3-300 focus:bg-neutral-3-300';
        switch (this.color) {
            case "primary":
                result += ` text-primary-1 dark:text-d-primary-1  ring-primary-1 dark:ring-d-primary-1 `;
                break;
            case "secondary":
                result += ` text-neutral-1-500 dark:text-d-neutral-1-500  ring-primary-1 dark:ring-d-primary-1  `;
                break;
            case 'info':
                result += ` text-info-400 dark:text-d-info-400 ring-info-400 dark:ring-d-info-400 `;
                break;
            case 'success':
                result += ` text-success-400 dark:text-d-success-400 ring-success-400 dark:ring-d-success-400 `;
                break;
            case 'warning':
                result += ` text-warning-400 dark:text-d-warning-400 ring-warning-400 dark:ring-d-warning-400 `;
                break;
            case 'error':
                result += ` text-error-400 dark:text-d-error-400 ring-error-400 dark:ring-d-error-400 `;
                break;
            case 'red':
                result += ' text-base-red-500 dark:text-d-base-red-500 ring-base-red-500 dark:ring-d-base-red-500 ';
                break;
            case 'yellow':
                result += ' text-base-yellow-500 dark:text-d-base-yellow-500 ring-base-yellow-500 dark:ring-d-base-yellow-500 ';
                break;
            case 'green':
                result += ' text-base-green-500 dark:text-d-base-green-500 ring-base-green-500 dark:ring-d-base-green-500 ';
                break;
            case 'blue':
                result += ' text-base-blue-500 dark:text-d-base-blue-500 ring-base-blue-500 dark:ring-d-base-blue-500 ';
                break;
            case 'indigo':
                result += ' text-base-indigo-500 dark:text-d-base-indigo-500 ring-base-indigo-500 dark:ring-d-base-indigo-500 ';
                break;
            case 'purple':
                result += ' text-base-purple-500 dark:text-d-base-purple-500 ring-base-purple-500 dark:ring-d-base-purple-500 ';
                break;
            case 'pink':
                result += ' text-base-pink-500 dark:text-d-base-pink-500 ring-base-pink-500 dark:ring-d-base-pink-500 ';
                break;
            case 'amber':
                result += ' text-base-amber-500 dark:text-d-base-amber-500 ring-base-amber-500 dark:ring-d-base-amber-500 ';
                break;
            case 'sky':
                result += ' text-base-sky-500 dark:text-d-base-sky-500 ring-base-sky-500 dark:ring-d-base-sky-500 ';
                break;
            case 'lime':
                result += ' text-base-lime-500 dark:text-d-base-lime-500 ring-base-lime-500 dark:ring-d-base-lime-500 ';
                break;
            case 'teal':
                result += ' text-base-teal-500 dark:text-d-base-teal-500 ring-base-teal-500 dark:ring-d-base-teal-500 ';
                break;
            case 'orange':
                result += ' text-base-orange-500 dark:text-d-base-orange-500 ring-base-orange-500 dark:ring-d-base-orange-500 ';
                break;
        }
        return result;
    }
    defaultClassCss() {
        let result = `focus:outline-none font-semibold box-border ring-opacity-20 dark:ring-opacity-20 focus:ring whitespace-nowrap  text-body-2 border-transparent relative`;
        return result;
    }
    getClassCssDisabled() {
        return 'cursor-not-allowed  text-neutral-1-300 dark:text-d-neutral-1-300 font-semibold';
    }
    buildSpinerColor() {
        // let result = 'white'
        if (this.color == 'secondary') {
            return 'primary';
        }
        else {
            return this.color;
        }
        // return result;
    }
}
TDSButtonFlatComponent.ɵfac = function TDSButtonFlatComponent_Factory(t) { return new (t || TDSButtonFlatComponent)(i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.TDSButtonGroupComponent, 8)); };
TDSButtonFlatComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TDSButtonFlatComponent, selectors: [["button", "tds-button-flat", ""], ["a", "tds-button-flat", ""]], hostVars: 4, hostBindings: function TDSButtonFlatComponent_HostBindings(rf, ctx) { if (rf & 2) {
        i0.ɵɵattribute("tabindex", ctx.disabled ? -1 : ctx.tabIndex === null ? null : ctx.tabIndex)("disabled", ctx.disabled || ctx.loading || null);
        i0.ɵɵclassMap(ctx.cssClass);
    } }, exportAs: ["tdsButtonFlat"], features: [i0.ɵɵInheritDefinitionFeature], attrs: _c0, ngContentSelectors: _c1, decls: 8, vars: 3, consts: [["class", "flex w-full items-center justify-center", 4, "ngIf", "ngIfElse"], [3, "class", 4, "ngIf"], ["loadingtmpl", ""], ["content", ""], ["CustomLoadingtmpl", ""], [1, "flex", "w-full", "items-center", "justify-center"], [4, "ngTemplateOutlet"], ["class", "flex w-full items-center", 4, "ngIf", "ngIfElse"], [1, "flex", "w-full", "items-center"], ["class", "w-4 h-4 mr-2", 3, "color", 4, "ngIf"], [1, "flex-auto"], [1, "w-4", "h-4", "mr-2", 3, "color"], [4, "tdsStringTemplateOutlet"]], template: function TDSButtonFlatComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵprojectionDef();
        i0.ɵɵtemplate(0, TDSButtonFlatComponent_div_0_Template, 2, 1, "div", 0);
        i0.ɵɵtemplate(1, TDSButtonFlatComponent_div_1_Template, 1, 2, "div", 1);
        i0.ɵɵtemplate(2, TDSButtonFlatComponent_ng_template_2_Template, 1, 2, "ng-template", null, 2, i0.ɵɵtemplateRefExtractor);
        i0.ɵɵtemplate(4, TDSButtonFlatComponent_ng_template_4_Template, 1, 0, "ng-template", null, 3, i0.ɵɵtemplateRefExtractor);
        i0.ɵɵtemplate(6, TDSButtonFlatComponent_ng_template_6_Template, 1, 1, "ng-template", null, 4, i0.ɵɵtemplateRefExtractor);
    } if (rf & 2) {
        const _r2 = i0.ɵɵreference(3);
        i0.ɵɵproperty("ngIf", !ctx.loading || ctx.disabled)("ngIfElse", _r2);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.loading && !ctx.disabled);
    } }, directives: [i2.NgIf, i2.NgTemplateOutlet, i3.TDSProgressSpinnerComponent, i4.TDSStringTemplateOutletDirective], encapsulation: 2, changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(TDSButtonFlatComponent, [{
        type: Component,
        args: [{ selector: 'button[tds-button-flat], a[tds-button-flat]', exportAs: 'tdsButtonFlat', preserveWhitespaces: false, changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, host: {
                    '[class]': 'cssClass',
                    '[attr.tabindex]': 'disabled ? -1 : (tabIndex === null ? null : tabIndex)',
                    '[attr.disabled]': 'disabled || loading || null',
                }, template: "<div class='flex w-full items-center justify-center' *ngIf=\"!loading || disabled; else loadingtmpl\">\r\n    <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n</div>\r\n<div [class]=\"loadingCss\" *ngIf=\"loading && !disabled\">\r\n</div>\r\n<ng-template #loadingtmpl>    \r\n    <div class='flex w-full items-center' *ngIf=\"!loadingTemplate; else CustomLoadingtmpl\">    \r\n        <tds-spinner *ngIf=\"loading\" [color]=\"spinerColor\" class=\"w-4 h-4 mr-2\"></tds-spinner>\r\n        <div class='flex-auto'>\r\n            Loading...\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n<ng-template #content>\r\n    <ng-content></ng-content>\r\n</ng-template>\r\n<ng-template #CustomLoadingtmpl>\r\n    <ng-container *tdsStringTemplateOutlet=\"loadingTemplate\">\r\n        {{loadingTemplate}}\r\n    </ng-container>\r\n</ng-template>\r\n" }]
    }], function () { return [{ type: i0.NgZone }, { type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: i1.TDSButtonGroupComponent, decorators: [{
                type: Optional
            }] }]; }, null); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnV0dG9uLWZsYXQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvdGRzLXVpL2J1dHRvbi9idXR0b24tZmxhdC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy90ZHMtdWkvYnV0dG9uL2J1dHRvbi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsdUJBQXVCLEVBQXFCLFNBQVMsRUFBdUIsUUFBUSxFQUFFLGlCQUFpQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBR3hJLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxlQUFlLENBQUM7Ozs7Ozs7O0lDSDFDLHdCQUF5RDs7O0lBRDdELDhCQUFvRztJQUNoRywrRkFBeUQ7SUFDN0QsaUJBQU07Ozs7SUFEYSxlQUF5QjtJQUF6QixzQ0FBeUI7OztJQUU1QyxzQkFDTTs7O0lBREQsZ0NBQW9COzs7SUFJakIsa0NBQXNGOzs7SUFBekQsMkNBQXFCOzs7SUFEdEQsOEJBQXVGO0lBQ25GLDJHQUFzRjtJQUN0RiwrQkFBdUI7SUFDbkIsNEJBQ0o7SUFBQSxpQkFBTSxFQUFBOzs7SUFIUSxlQUFhO0lBQWIscUNBQWE7OztJQUQvQixxRkFLTTs7OztJQUxpQyw4Q0FBd0IsaUJBQUE7OztJQVEvRCxrQkFBeUI7OztJQUd6Qiw2QkFBeUQ7SUFDckQsWUFDSjtJQUFBLDBCQUFlOzs7SUFEWCxlQUNKO0lBREksd0RBQ0o7OztJQUZBLHdHQUVlOzs7SUFGQSxnRUFBd0M7OztBREUzRCxNQUFNLE9BQU8sc0JBQXVCLFNBQVEsYUFBYTtJQUNyRCxZQUNXLE1BQWMsRUFDZCxVQUFzQixFQUN0QixHQUFzQixFQUNWLFlBQXFDO1FBQ3hELEtBQUssQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxZQUFZLENBQUMsQ0FBQTtRQUpyQyxXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQ2QsZUFBVSxHQUFWLFVB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cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBFbGVtZW50UmVmLCAgTmdab25lLCBPcHRpb25hbCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xyXG5pbXBvcnQgeyBURFNUaGVtZVBhbGV0dGUgfSBmcm9tIFwidGRzLXVpL3NoYXJlZC9jb21tb25cIjtcclxuaW1wb3J0IHsgVERTQnV0dG9uR3JvdXBDb21wb25lbnQgfSBmcm9tIFwiLi9idXR0b24tZ3JvdXAuY29tcG9uZW50XCI7XHJcbmltcG9ydCB7IFREU0J1dHRvbkJhc2UgfSBmcm9tIFwiLi9idXR0b24uYmFzZVwiO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2J1dHRvblt0ZHMtYnV0dG9uLWZsYXRdLCBhW3Rkcy1idXR0b24tZmxhdF0nLFxyXG4gICAgZXhwb3J0QXM6ICd0ZHNCdXR0b25GbGF0JyxcclxuICAgIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxyXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcuL2J1dHRvbi5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBob3N0OiB7XHJcbiAgICAgICAgJ1tjbGFzc10nOiAnY3NzQ2xhc3MnLFxyXG4gICAgICAgICdbYXR0ci50YWJpbmRleF0nOiAnZGlzYWJsZWQgPyAtMSA6ICh0YWJJbmRleCA9PT0gbnVsbCA/IG51bGwgOiB0YWJJbmRleCknLFxyXG4gICAgICAgICdbYXR0ci5kaXNhYmxlZF0nOiAnZGlzYWJsZWQgfHwgbG9hZGluZyB8fCBudWxsJyxcclxuICAgIH1cclxufSlcclxuZXhwb3J0IGNsYXNzIFREU0J1dHRvbkZsYXRDb21wb25lbnQgZXh0ZW5kcyBURFNCdXR0b25CYXNlIHtcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyBuZ1pvbmU6IE5nWm9uZSxcclxuICAgICAgICBwdWJsaWMgZWxlbWVudFJlZjogRWxlbWVudFJlZixcclxuICAgICAgICBwdWJsaWMgY2RyOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgICAgICBAT3B0aW9uYWwoKSBwdWJsaWMgX2J1dHRvbkdyb3VwOiBURFNCdXR0b25Hcm91cENvbXBvbmVudCkge1xyXG4gICAgICAgIHN1cGVyKG5nWm9uZSwgZWxlbWVudFJlZiwgY2RyLCBfYnV0dG9uR3JvdXApXHJcbiAgICB9XHJcbiAgICBnZXRDbGFzc0Nzc0FjdGl2ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSAnZGFyazpob3ZlcjpiZy1kLW5ldXRyYWwtMy0zMDAgaG92ZXI6YmctbmV1dHJhbC0zLTMwMCBkYXJrOmZvY3VzOmJnLWQtbmV1dHJhbC0zLTMwMCBmb2N1czpiZy1uZXV0cmFsLTMtMzAwJztcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuY29sb3IpIHtcclxuICAgICAgICAgICAgY2FzZSBcInByaW1hcnlcIjpcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBgIHRleHQtcHJpbWFyeS0xIGRhcms6dGV4dC1kLXByaW1hcnktMSAgcmluZy1wcmltYXJ5LTEgZGFyazpyaW5nLWQtcHJpbWFyeS0xIGA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInNlY29uZGFyeVwiOlxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGAgdGV4dC1uZXV0cmFsLTEtNTAwIGRhcms6dGV4dC1kLW5ldXRyYWwtMS01MDAgIHJpbmctcHJpbWFyeS0xIGRhcms6cmluZy1kLXByaW1hcnktMSAgYDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdpbmZvJzpcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBgIHRleHQtaW5mby00MDAgZGFyazp0ZXh0LWQtaW5mby00MDAgcmluZy1pbmZvLTQwMCBkYXJrOnJpbmctZC1pbmZvLTQwMCBgO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3N1Y2Nlc3MnOlxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGAgdGV4dC1zdWNjZXNzLTQwMCBkYXJrOnRleHQtZC1zdWNjZXNzLTQwMCByaW5nLXN1Y2Nlc3MtNDAwIGRhcms6cmluZy1kLXN1Y2Nlc3MtNDAwIGA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnd2FybmluZyc6XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gYCB0ZXh0LXdhcm5pbmctNDAwIGRhcms6dGV4dC1kLXdhcm5pbmctNDAwIHJpbmctd2FybmluZy00MDAgZGFyazpyaW5nLWQtd2FybmluZy00MDAgYDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdlcnJvcic6XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gYCB0ZXh0LWVycm9yLTQwMCBkYXJrOnRleHQtZC1lcnJvci00MDAgcmluZy1lcnJvci00MDAgZGFyazpyaW5nLWQtZXJyb3ItNDAwIGA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncmVkJzpcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnIHRleHQtYmFzZS1yZWQtNTAwIGRhcms6dGV4dC1kLWJhc2UtcmVkLTUwMCByaW5nLWJhc2UtcmVkLTUwMCBkYXJrOnJpbmctZC1iYXNlLXJlZC01MDAgJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd5ZWxsb3cnOlxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgdGV4dC1iYXNlLXllbGxvdy01MDAgZGFyazp0ZXh0LWQtYmFzZS15ZWxsb3ctNTAwIHJpbmctYmFzZS15ZWxsb3ctNTAwIGRhcms6cmluZy1kLWJhc2UteWVsbG93LTUwMCAnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2dyZWVuJzpcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnIHRleHQtYmFzZS1ncmVlbi01MDAgZGFyazp0ZXh0LWQtYmFzZS1ncmVlbi01MDAgcmluZy1iYXNlLWdyZWVuLTUwMCBkYXJrOnJpbmctZC1iYXNlLWdyZWVuLTUwMCAnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2JsdWUnOlxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgdGV4dC1iYXNlLWJsdWUtNTAwIGRhcms6dGV4dC1kLWJhc2UtYmx1ZS01MDAgcmluZy1iYXNlLWJsdWUtNTAwIGRhcms6cmluZy1kLWJhc2UtYmx1ZS01MDAgJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdpbmRpZ28nOlxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgdGV4dC1iYXNlLWluZGlnby01MDAgZGFyazp0ZXh0LWQtYmFzZS1pbmRpZ28tNTAwIHJpbmctYmFzZS1pbmRpZ28tNTAwIGRhcms6cmluZy1kLWJhc2UtaW5kaWdvLTUwMCAnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3B1cnBsZSc6XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyB0ZXh0LWJhc2UtcHVycGxlLTUwMCBkYXJrOnRleHQtZC1iYXNlLXB1cnBsZS01MDAgcmluZy1iYXNlLXB1cnBsZS01MDAgZGFyazpyaW5nLWQtYmFzZS1wdXJwbGUtNTAwICc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncGluayc6XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyB0ZXh0LWJhc2UtcGluay01MDAgZGFyazp0ZXh0LWQtYmFzZS1waW5rLTUwMCByaW5nLWJhc2UtcGluay01MDAgZGFyazpyaW5nLWQtYmFzZS1waW5rLTUwMCAnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2FtYmVyJzpcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnIHRleHQtYmFzZS1hbWJlci01MDAgZGFyazp0ZXh0LWQtYmFzZS1hbWJlci01MDAgcmluZy1iYXNlLWFtYmVyLTUwMCBkYXJrOnJpbmctZC1iYXNlLWFtYmVyLTUwMCAnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3NreSc6XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyB0ZXh0LWJhc2Utc2t5LTUwMCBkYXJrOnRleHQtZC1iYXNlLXNreS01MDAgcmluZy1iYXNlLXNreS01MDAgZGFyazpyaW5nLWQtYmFzZS1za3ktNTAwICc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbGltZSc6XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyB0ZXh0LWJhc2UtbGltZS01MDAgZGFyazp0ZXh0LWQtYmFzZS1saW1lLTUwMCByaW5nLWJhc2UtbGltZS01MDAgZGFyazpyaW5nLWQtYmFzZS1saW1lLTUwMCAnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RlYWwnOlxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgdGV4dC1iYXNlLXRlYWwtNTAwIGRhcms6dGV4dC1kLWJhc2UtdGVhbC01MDAgcmluZy1iYXNlLXRlYWwtNTAwIGRhcms6cmluZy1kLWJhc2UtdGVhbC01MDAgJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdvcmFuZ2UnOlxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgdGV4dC1iYXNlLW9yYW5nZS01MDAgZGFyazp0ZXh0LWQtYmFzZS1vcmFuZ2UtNTAwIHJpbmctYmFzZS1vcmFuZ2UtNTAwIGRhcms6cmluZy1kLWJhc2Utb3JhbmdlLTUwMCAnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBkZWZhdWx0Q2xhc3NDc3MoKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYGZvY3VzOm91dGxpbmUtbm9uZSBmb250LXNlbWlib2xkIGJveC1ib3JkZXIgcmluZy1vcGFjaXR5LTIwIGRhcms6cmluZy1vcGFjaXR5LTIwIGZvY3VzOnJpbmcgd2hpdGVzcGFjZS1ub3dyYXAgIHRleHQtYm9keS0yIGJvcmRlci10cmFuc3BhcmVudCByZWxhdGl2ZWA7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIGdldENsYXNzQ3NzRGlzYWJsZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICdjdXJzb3Itbm90LWFsbG93ZWQgIHRleHQtbmV1dHJhbC0xLTMwMCBkYXJrOnRleHQtZC1uZXV0cmFsLTEtMzAwIGZvbnQtc2VtaWJvbGQnO1xyXG4gICAgfVxyXG4gICAgYnVpbGRTcGluZXJDb2xvcigpIDpURFNUaGVtZVBhbGV0dGV7XHJcbiAgICAgICAgLy8gbGV0IHJlc3VsdCA9ICd3aGl0ZSdcclxuICAgICAgICBpZiAodGhpcy5jb2xvciA9PSAnc2Vjb25kYXJ5Jykge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3ByaW1hcnknO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yIGFzIFREU1RoZW1lUGFsZXR0ZVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuXHJcbn0iLCI8ZGl2IGNsYXNzPSdmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXInICpuZ0lmPVwiIWxvYWRpbmcgfHwgZGlzYWJsZWQ7IGVsc2UgbG9hZGluZ3RtcGxcIj5cclxuICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJjb250ZW50XCI+PC9uZy1jb250YWluZXI+XHJcbjwvZGl2PlxyXG48ZGl2IFtjbGFzc109XCJsb2FkaW5nQ3NzXCIgKm5nSWY9XCJsb2FkaW5nICYmICFkaXNhYmxlZFwiPlxyXG48L2Rpdj5cclxuPG5nLXRlbXBsYXRlICNsb2FkaW5ndG1wbD4gICAgXHJcbiAgICA8ZGl2IGNsYXNzPSdmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXInICpuZ0lmPVwiIWxvYWRpbmdUZW1wbGF0ZTsgZWxzZSBDdXN0b21Mb2FkaW5ndG1wbFwiPiAgICBcclxuICAgICAgICA8dGRzLXNwaW5uZXIgKm5nSWY9XCJsb2FkaW5nXCIgW2NvbG9yXT1cInNwaW5lckNvbG9yXCIgY2xhc3M9XCJ3LTQgaC00IG1yLTJcIj48L3Rkcy1zcGlubmVyPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9J2ZsZXgtYXV0byc+XHJcbiAgICAgICAgICAgIExvYWRpbmcuLi5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L25nLXRlbXBsYXRlPlxyXG48bmctdGVtcGxhdGUgI2NvbnRlbnQ+XHJcbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XHJcbjwvbmctdGVtcGxhdGU+XHJcbjxuZy10ZW1wbGF0ZSAjQ3VzdG9tTG9hZGluZ3RtcGw+XHJcbiAgICA8bmctY29udGFpbmVyICp0ZHNTdHJpbmdUZW1wbGF0ZU91dGxldD1cImxvYWRpbmdUZW1wbGF0ZVwiPlxyXG4gICAgICAgIHt7bG9hZGluZ1RlbXBsYXRlfX1cclxuICAgIDwvbmctY29udGFpbmVyPlxyXG48L25nLXRlbXBsYXRlPlxyXG4iXX0=