import { __decorate } from "tslib";
import { ChangeDetectionStrategy, Component, EventEmitter, Input, Optional, Output, ViewEncapsulation } from '@angular/core';
import { Subject } from 'rxjs';
import { takeUntil } from 'rxjs/operators';
import { InputBoolean } from 'tds-ui/shared/utility';
import { slideAlertMotion } from 'tds-ui/core/animation';
import * as i0 from "@angular/core";
import * as i1 from "@angular/cdk/bidi";
import * as i2 from "@angular/common";
import * as i3 from "tds-ui/core/outlet";
import * as i4 from "tds-ui/button";
function TDSAlertComponent_div_0_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelementStart(1, "div", 6);
    i0.ɵɵelement(2, "span", 7);
    i0.ɵɵelementEnd();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r1 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngClass", ctx_r1._iconClass);
} }
function TDSAlertComponent_div_0_div_3_div_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtext(1);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r7 = i0.ɵɵnextContext(4);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r7.message);
} }
const _c0 = function (a0, a1, a2, a3) { return { "text-neutral-1-900 dark:text-d-neutral-1-900": a0, "text-white text-body-2 font-regular mr-8": a1, "text-title-1 font-semibold": a2, "text-body-2 font-regular ": a3 }; };
function TDSAlertComponent_div_0_div_3_div_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 13);
    i0.ɵɵtemplate(1, TDSAlertComponent_div_0_div_3_div_2_ng_container_1_Template, 2, 1, "ng-container", 14);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r4 = i0.ɵɵnextContext(3);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction4(2, _c0, !ctx_r4.banner, ctx_r4.banner && !ctx_r4.description, ctx_r4.description, !ctx_r4.banner && !ctx_r4.description));
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tdsStringTemplateOutlet", ctx_r4.message);
} }
function TDSAlertComponent_div_0_div_3_div_3_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtext(1);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r8 = i0.ɵɵnextContext(4);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r8.description);
} }
const _c1 = function (a0, a1) { return { "text-neutral-1-900 dark:text-d-neutral-1-900": a0, "text-white": a1 }; };
function TDSAlertComponent_div_0_div_3_div_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 15);
    i0.ɵɵtemplate(1, TDSAlertComponent_div_0_div_3_div_3_ng_container_1_Template, 2, 1, "ng-container", 14);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r5 = i0.ɵɵnextContext(3);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction2(2, _c1, !ctx_r5.banner, ctx_r5.banner));
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tdsStringTemplateOutlet", ctx_r5.description);
} }
function TDSAlertComponent_div_0_div_3_div_4_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtext(1);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r9 = i0.ɵɵnextContext(4);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r9.footer);
} }
function TDSAlertComponent_div_0_div_3_div_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 16);
    i0.ɵɵtemplate(1, TDSAlertComponent_div_0_div_3_div_4_ng_container_1_Template, 2, 1, "ng-container", 14);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r6 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tdsStringTemplateOutlet", ctx_r6.footer);
} }
const _c2 = function (a0) { return { "items-center": a0 }; };
function TDSAlertComponent_div_0_div_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 8)(1, "div", 9);
    i0.ɵɵtemplate(2, TDSAlertComponent_div_0_div_3_div_2_Template, 2, 7, "div", 10);
    i0.ɵɵtemplate(3, TDSAlertComponent_div_0_div_3_div_3_Template, 2, 5, "div", 11);
    i0.ɵɵtemplate(4, TDSAlertComponent_div_0_div_3_div_4_Template, 2, 1, "div", 12);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(4, _c2, ctx_r2.banner));
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.message);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.description);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.footer);
} }
const _c3 = function (a0) { return { "!text-white !dark:text-white": a0 }; };
function TDSAlertComponent_div_0_div_4_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "button", 20);
} if (rf & 2) {
    const ctx_r11 = i0.ɵɵnextContext(3);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(1, _c3, ctx_r11.banner));
} }
function TDSAlertComponent_div_0_div_4_ng_container_3_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelementStart(1, "span", 21);
    i0.ɵɵtext(2);
    i0.ɵɵelementEnd();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r13 = i0.ɵɵnextContext(4);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(ctx_r13.closeText);
} }
function TDSAlertComponent_div_0_div_4_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, TDSAlertComponent_div_0_div_4_ng_container_3_ng_container_1_Template, 3, 1, "ng-container", 14);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r12 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tdsStringTemplateOutlet", ctx_r12.closeText);
} }
const _c4 = function (a0) { return { "absolute  right-4": a0 }; };
function TDSAlertComponent_div_0_div_4_Template(rf, ctx) { if (rf & 1) {
    const _r15 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 17);
    i0.ɵɵlistener("click", function TDSAlertComponent_div_0_div_4_Template_div_click_0_listener() { i0.ɵɵrestoreView(_r15); const ctx_r14 = i0.ɵɵnextContext(2); return ctx_r14.closeAlert(); });
    i0.ɵɵtemplate(1, TDSAlertComponent_div_0_div_4_ng_template_1_Template, 1, 3, "ng-template", null, 18, i0.ɵɵtemplateRefExtractor);
    i0.ɵɵtemplate(3, TDSAlertComponent_div_0_div_4_ng_container_3_Template, 2, 1, "ng-container", 19);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const _r10 = i0.ɵɵreference(2);
    const ctx_r3 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(3, _c4, ctx_r3.banner));
    i0.ɵɵadvance(3);
    i0.ɵɵproperty("ngIf", ctx_r3.closeText)("ngIfElse", _r10);
} }
const _c5 = function (a0) { return { "w-full": a0 }; };
function TDSAlertComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r17 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 1);
    i0.ɵɵlistener("@slideAlertMotion.done", function TDSAlertComponent_div_0_Template_div_animation_slideAlertMotion_done_0_listener() { i0.ɵɵrestoreView(_r17); const ctx_r16 = i0.ɵɵnextContext(); return ctx_r16.onFadeAnimationDone(); });
    i0.ɵɵelementStart(1, "div", 2);
    i0.ɵɵtemplate(2, TDSAlertComponent_div_0_ng_container_2_Template, 3, 1, "ng-container", 3);
    i0.ɵɵtemplate(3, TDSAlertComponent_div_0_div_3_Template, 5, 6, "div", 4);
    i0.ɵɵtemplate(4, TDSAlertComponent_div_0_div_4_Template, 4, 5, "div", 5);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngClass", ctx_r0._contentClass)("@.disabled", ctx_r0.noAnimation)("@slideAlertMotion", undefined);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(7, _c5, !ctx_r0.banner));
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r0.showIcon);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r0.message || ctx_r0.description);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r0.closeable || ctx_r0.closeText);
} }
export class TDSAlertComponent {
    constructor(cdr, directionality) {
        this.cdr = cdr;
        this.directionality = directionality;
        this.closeText = null;
        this.message = null;
        this.description = null;
        this.footer = null;
        this.type = 'info';
        this.closeable = false;
        this.showIcon = false;
        this.banner = false;
        this.noAnimation = false;
        this.close = new EventEmitter();
        this.closed = false;
        this.iconTheme = 'fill';
        this.inferredIconType = 'tdsi-information-fill';
        this.dir = 'ltr';
        this._contentClass = {};
        this._iconClass = {};
        this.isTypeSet = false;
        this.isShowIconSet = false;
        this.destroy$ = new Subject();
    }
    ngOnInit() {
        this.directionality.change?.pipe(takeUntil(this.destroy$)).subscribe((direction) => {
            this.dir = direction;
            this.cdr.detectChanges();
        });
        this.dir = this.directionality.value;
    }
    closeAlert() {
        this.closed = true;
        this.cdr.markForCheck();
    }
    onFadeAnimationDone() {
        if (this.closed) {
            this.close.emit(true);
        }
    }
    ngOnChanges(changes) {
        const { showIcon, description, type, banner } = changes;
        if (showIcon) {
            this.isShowIconSet = true;
        }
        if (type) {
            this.isTypeSet = true;
        }
        if (description) {
            this.iconTheme = this.description ? 'outline' : 'fill';
        }
        if (banner) {
            if (!this.isTypeSet) {
                this.type = 'warning';
            }
            if (!this.isShowIconSet) {
                this.showIcon = true;
            }
        }
        this.p_BuildClass();
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
    p_BuildClass() {
        let clsBanner = '';
        let clsNotBanner = '';
        let clsTextIcon = '';
        switch (this.type) {
            case 'error':
                this.inferredIconType = 'tdsi-error-fill';
                clsBanner = "bg-error-400 dark:bg-d-error-400";
                clsNotBanner = "bg-error-100 dark:bg-d-error-100 dark:text-white";
                clsTextIcon = "text-error-400 dark:text-d-error-400";
                break;
            case 'success':
                this.inferredIconType = 'tdsi-success-fill';
                clsBanner = "bg-success-400 dark:bg-d-success-400 ";
                clsNotBanner = "bg-success-100 dark:bg-d-success-100 dark:text-white";
                clsTextIcon = "text-success-400 dark:text-d-success-400";
                break;
            case 'info':
                this.inferredIconType = 'tdsi-information-fill';
                clsBanner = "bg-info-400 dark:bg-d-info-400 ";
                clsTextIcon = "text-info-400 dark:text-d-info-400 dark:text-white";
                clsNotBanner = "bg-info-100 dark:bg-d-info-100 ";
                break;
            case 'warning':
                this.inferredIconType = 'tdsi-warning-fill';
                clsBanner = "bg-warning-400 dark:bg-d-warning-400 ";
                clsTextIcon = "text-warning-400 dark:text-d-warning-400";
                clsNotBanner = "bg-warning-100 dark:bg-d-warning-100 dark:text-white";
                break;
        }
        if (this.banner) {
            this._contentClass = {
                [clsBanner]: true,
                ['justify-center relative items-center']: true,
            };
        }
        else {
            this._contentClass = {
                [clsNotBanner]: true,
                ['rounded-lg']: true,
            };
        }
        this._iconClass = {
            [this.inferredIconType]: true,
            [`text-white`]: this.banner,
            [clsTextIcon]: !this.banner,
        };
    }
}
TDSAlertComponent.ɵfac = function TDSAlertComponent_Factory(t) { return new (t || TDSAlertComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.Directionality, 8)); };
TDSAlertComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TDSAlertComponent, selectors: [["tds-alert"]], hostAttrs: [1, "border-box"], inputs: { closeText: "closeText", message: "message", description: "description", footer: "footer", type: "type", closeable: "closeable", showIcon: "showIcon", banner: "banner", noAnimation: "noAnimation" }, outputs: { close: "close" }, exportAs: ["tdsAlert"], features: [i0.ɵɵNgOnChangesFeature], decls: 1, vars: 1, consts: [["class", "tds-alert p-4 flex ", 3, "ngClass", 4, "ngIf"], [1, "tds-alert", "p-4", "flex", 3, "ngClass"], [1, "flex", "items-center", 3, "ngClass"], [4, "ngIf"], ["class", "tds-alert-content flex-auto flex items-center", 4, "ngIf"], ["class", "tds-alert-close-icon pl-4 flex cursor-pointer break-all", "type", "button", "tabindex", "0", 3, "ngClass", "click", 4, "ngIf"], [1, "pr-4", "flex", "items-center"], [1, "text-xl", "leading-5", 3, "ngClass"], [1, "tds-alert-content", "flex-auto", "flex", "items-center"], [1, "w-full", "flex", "flex-col", 3, "ngClass"], ["class", "tds-alert-message  break-all", 3, "ngClass", 4, "ngIf"], ["class", "tds-alert-description pt-2 text-body-2 font-regular break-all", 3, "ngClass", 4, "ngIf"], ["class", "tds-alert-footer pt-4 text-body-2 font-regular text-neutral-1-900 dark:text-d-neutral-1-900 break-all", 4, "ngIf"], [1, "tds-alert-message", "break-all", 3, "ngClass"], [4, "tdsStringTemplateOutlet"], [1, "tds-alert-description", "pt-2", "text-body-2", "font-regular", "break-all", 3, "ngClass"], [1, "tds-alert-footer", "pt-4", "text-body-2", "font-regular", "text-neutral-1-900", "dark:text-d-neutral-1-900", "break-all"], ["type", "button", "tabindex", "0", 1, "tds-alert-close-icon", "pl-4", "flex", "cursor-pointer", "break-all", 3, "ngClass", "click"], ["closeDefaultTemplate", ""], [4, "ngIf", "ngIfElse"], ["tds-button-close", "", 3, "ngClass"], [1, "tds-alert-close-text"]], template: function TDSAlertComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵtemplate(0, TDSAlertComponent_div_0_Template, 5, 9, "div", 0);
    } if (rf & 2) {
        i0.ɵɵproperty("ngIf", !ctx.closed);
    } }, directives: [i2.NgIf, i2.NgClass, i3.TDSStringTemplateOutletDirective, i4.TDSButtonCloseComponent], encapsulation: 2, data: { animation: [slideAlertMotion] }, changeDetection: 0 });
__decorate([
    InputBoolean()
], TDSAlertComponent.prototype, "closeable", void 0);
__decorate([
    InputBoolean()
], TDSAlertComponent.prototype, "showIcon", void 0);
__decorate([
    InputBoolean()
], TDSAlertComponent.prototype, "banner", void 0);
__decorate([
    InputBoolean()
], TDSAlertComponent.prototype, "noAnimation", void 0);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(TDSAlertComponent, [{
        type: Component,
        args: [{
                selector: 'tds-alert',
                exportAs: 'tdsAlert',
                animations: [slideAlertMotion],
                template: `
    <div
      *ngIf="!closed"
      class="tds-alert p-4 flex " 
      [ngClass]="_contentClass"     
      [@.disabled]="noAnimation"
      [@slideAlertMotion]
      (@slideAlertMotion.done)="onFadeAnimationDone()"
    >
      <div class="flex items-center" [ngClass]="{'w-full':!banner}">
      <ng-container *ngIf="showIcon">
       <div class="pr-4 flex items-center">
         <span class="text-xl leading-5" [ngClass]="_iconClass"></span>
       </div>       
      </ng-container>
      <div class="tds-alert-content flex-auto flex items-center" *ngIf="message || description">
        <div class="w-full flex flex-col" [ngClass]="{'items-center':banner}">
          <div class="tds-alert-message  break-all" *ngIf="message" [ngClass]="{'text-neutral-1-900 dark:text-d-neutral-1-900':!banner,'text-white text-body-2 font-regular mr-8': banner &&  !description,'text-title-1 font-semibold': description,'text-body-2 font-regular ': !banner && !description}">
            <ng-container *tdsStringTemplateOutlet="message">{{ message }}</ng-container>
          </div>
          <div class="tds-alert-description pt-2 text-body-2 font-regular break-all" [ngClass]="{'text-neutral-1-900 dark:text-d-neutral-1-900':!banner,'text-white': banner }" *ngIf="description">
             <ng-container *tdsStringTemplateOutlet="description">{{ description }}</ng-container>
          </div>
          <div class="tds-alert-footer pt-4 text-body-2 font-regular text-neutral-1-900 dark:text-d-neutral-1-900 break-all" *ngIf="footer">
          <ng-container *tdsStringTemplateOutlet="footer">{{ footer }}</ng-container>
       </div>
        </div>
      </div>
      <div [ngClass]="{'absolute  right-4':banner}" class="tds-alert-close-icon pl-4 flex cursor-pointer break-all" type="button" tabindex="0" *ngIf="closeable || closeText"  (click)="closeAlert()">
        <ng-template #closeDefaultTemplate>
                    <button tds-button-close  [ngClass]="{'!text-white !dark:text-white':banner}"></button>         
        </ng-template>
        <ng-container *ngIf="closeText; else closeDefaultTemplate">
          <ng-container *tdsStringTemplateOutlet="closeText">
            <span class="tds-alert-close-text">{{ closeText }}</span>
          </ng-container>
        </ng-container>
      </div>
      </div>

    </div>
  `,
                host: {
                    class: "border-box"
                },
                changeDetection: ChangeDetectionStrategy.OnPush,
                encapsulation: ViewEncapsulation.None,
                preserveWhitespaces: false,
            }]
    }], function () { return [{ type: i0.ChangeDetectorRef }, { type: i1.Directionality, decorators: [{
                type: Optional
            }] }]; }, { closeText: [{
            type: Input
        }], message: [{
            type: Input
        }], description: [{
            type: Input
        }], footer: [{
            type: Input
        }], type: [{
            type: Input
        }], closeable: [{
            type: Input
        }], showIcon: [{
            type: Input
        }], banner: [{
            type: Input
        }], noAnimation: [{
            type: Input
        }], close: [{
            type: Output
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxlcnQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvdGRzLXVpL2FsZXJ0L2FsZXJ0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBSUEsT0FBTyxFQUNMLHVCQUF1QixFQUV2QixTQUFTLEVBQ1QsWUFBWSxFQUNaLEtBQUssRUFJTCxRQUFRLEVBQ1IsTUFBTSxFQUdOLGlCQUFpQixFQUNsQixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMzQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDckQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7Ozs7Ozs7SUFtQm5ELDZCQUErQjtJQUM5Qiw4QkFBb0M7SUFDbEMsMEJBQThEO0lBQ2hFLGlCQUFNO0lBQ1AsMEJBQWU7OztJQUZvQixlQUFzQjtJQUF0QiwyQ0FBc0I7OztJQU1uRCw2QkFBaUQ7SUFBQSxZQUFhO0lBQUEsMEJBQWU7OztJQUE1QixlQUFhO0lBQWIsb0NBQWE7Ozs7SUFEaEUsK0JBQWtTO0lBQ2hTLHVHQUE2RTtJQUMvRSxpQkFBTTs7O0lBRm9ELHFLQUF1TztJQUNoUixlQUFnQztJQUFoQyx3REFBZ0M7OztJQUc5Qyw2QkFBcUQ7SUFBQSxZQUFpQjtJQUFBLDBCQUFlOzs7SUFBaEMsZUFBaUI7SUFBakIsd0NBQWlCOzs7O0lBRHpFLCtCQUEwTDtJQUN2TCx1R0FBcUY7SUFDeEYsaUJBQU07OztJQUZxRSxtRkFBMEY7SUFDbkosZUFBb0M7SUFBcEMsNERBQW9DOzs7SUFHdEQsNkJBQWdEO0lBQUEsWUFBWTtJQUFBLDBCQUFlOzs7SUFBM0IsZUFBWTtJQUFaLG1DQUFZOzs7SUFENUQsK0JBQWtJO0lBQ2xJLHVHQUEyRTtJQUM5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aW9uYWxpdHkgfSBmcm9tICdAYW5ndWxhci9jZGsvYmlkaSc7XHJcbmltcG9ydCB7IEJvb2xlYW5JbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9jb2VyY2lvbic7XHJcbmltcG9ydCB7XHJcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgQ29tcG9uZW50LFxyXG4gIEV2ZW50RW1pdHRlcixcclxuICBJbnB1dCxcclxuICBPbkNoYW5nZXMsXHJcbiAgT25EZXN0cm95LFxyXG4gIE9uSW5pdCxcclxuICBPcHRpb25hbCxcclxuICBPdXRwdXQsXHJcbiAgU2ltcGxlQ2hhbmdlcyxcclxuICBUZW1wbGF0ZVJlZixcclxuICBWaWV3RW5jYXBzdWxhdGlvblxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IHRha2VVbnRpbCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuaW1wb3J0IHsgSW5wdXRCb29sZWFuIH0gZnJvbSAndGRzLXVpL3NoYXJlZC91dGlsaXR5JztcclxuaW1wb3J0IHsgc2xpZGVBbGVydE1vdGlvbiB9IGZyb20gJ3Rkcy11aS9jb3JlL2FuaW1hdGlvbic7XHJcbmltcG9ydCB7IE5nQ2xhc3NJbnRlcmZhY2UgfSBmcm9tICd0ZHMtdWkvY29yZS9jb25maWcnO1xyXG5cclxuXHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3Rkcy1hbGVydCcsXHJcbiAgZXhwb3J0QXM6ICd0ZHNBbGVydCcsXHJcbiAgYW5pbWF0aW9uczogW3NsaWRlQWxlcnRNb3Rpb25dLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8ZGl2XHJcbiAgICAgICpuZ0lmPVwiIWNsb3NlZFwiXHJcbiAgICAgIGNsYXNzPVwidGRzLWFsZXJ0IHAtNCBmbGV4IFwiIFxyXG4gICAgICBbbmdDbGFzc109XCJfY29udGVudENsYXNzXCIgICAgIFxyXG4gICAgICBbQC5kaXNhYmxlZF09XCJub0FuaW1hdGlvblwiXHJcbiAgICAgIFtAc2xpZGVBbGVydE1vdGlvbl1cclxuICAgICAgKEBzbGlkZUFsZXJ0TW90aW9uLmRvbmUpPVwib25GYWRlQW5pbWF0aW9uRG9uZSgpXCJcclxuICAgID5cclxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCIgW25nQ2xhc3NdPVwieyd3LWZ1bGwnOiFiYW5uZXJ9XCI+XHJcbiAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJzaG93SWNvblwiPlxyXG4gICAgICAgPGRpdiBjbGFzcz1cInByLTQgZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhsIGxlYWRpbmctNVwiIFtuZ0NsYXNzXT1cIl9pY29uQ2xhc3NcIj48L3NwYW4+XHJcbiAgICAgICA8L2Rpdj4gICAgICAgXHJcbiAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwidGRzLWFsZXJ0LWNvbnRlbnQgZmxleC1hdXRvIGZsZXggaXRlbXMtY2VudGVyXCIgKm5nSWY9XCJtZXNzYWdlIHx8IGRlc2NyaXB0aW9uXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInctZnVsbCBmbGV4IGZsZXgtY29sXCIgW25nQ2xhc3NdPVwieydpdGVtcy1jZW50ZXInOmJhbm5lcn1cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZHMtYWxlcnQtbWVzc2FnZSAgYnJlYWstYWxsXCIgKm5nSWY9XCJtZXNzYWdlXCIgW25nQ2xhc3NdPVwieyd0ZXh0LW5ldXRyYWwtMS05MDAgZGFyazp0ZXh0LWQtbmV1dHJhbC0xLTkwMCc6IWJhbm5lciwndGV4dC13aGl0ZSB0ZXh0LWJvZHktMiBmb250LXJlZ3VsYXIgbXItOCc6IGJhbm5lciAmJiAgIWRlc2NyaXB0aW9uLCd0ZXh0LXRpdGxlLTEgZm9udC1zZW1pYm9sZCc6IGRlc2NyaXB0aW9uLCd0ZXh0LWJvZHktMiBmb250LXJlZ3VsYXIgJzogIWJhbm5lciAmJiAhZGVzY3JpcHRpb259XCI+XHJcbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKnRkc1N0cmluZ1RlbXBsYXRlT3V0bGV0PVwibWVzc2FnZVwiPnt7IG1lc3NhZ2UgfX08L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRkcy1hbGVydC1kZXNjcmlwdGlvbiBwdC0yIHRleHQtYm9keS0yIGZvbnQtcmVndWxhciBicmVhay1hbGxcIiBbbmdDbGFzc109XCJ7J3RleHQtbmV1dHJhbC0xLTkwMCBkYXJrOnRleHQtZC1uZXV0cmFsLTEtOTAwJzohYmFubmVyLCd0ZXh0LXdoaXRlJzogYmFubmVyIH1cIiAqbmdJZj1cImRlc2NyaXB0aW9uXCI+XHJcbiAgICAgICAgICAgICA8bmctY29udGFpbmVyICp0ZHNTdHJpbmdUZW1wbGF0ZU91dGxldD1cImRlc2NyaXB0aW9uXCI+e3sgZGVzY3JpcHRpb24gfX08L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRkcy1hbGVydC1mb290ZXIgcHQtNCB0ZXh0LWJvZHktMiBmb250LXJlZ3VsYXIgdGV4dC1uZXV0cmFsLTEtOTAwIGRhcms6dGV4dC1kLW5ldXRyYWwtMS05MDAgYnJlYWstYWxsXCIgKm5nSWY9XCJmb290ZXJcIj5cclxuICAgICAgICAgIDxuZy1jb250YWluZXIgKnRkc1N0cmluZ1RlbXBsYXRlT3V0bGV0PVwiZm9vdGVyXCI+e3sgZm9vdGVyIH19PC9uZy1jb250YWluZXI+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgW25nQ2xhc3NdPVwieydhYnNvbHV0ZSAgcmlnaHQtNCc6YmFubmVyfVwiIGNsYXNzPVwidGRzLWFsZXJ0LWNsb3NlLWljb24gcGwtNCBmbGV4IGN1cnNvci1wb2ludGVyIGJyZWFrLWFsbFwiIHR5cGU9XCJidXR0b25cIiB0YWJpbmRleD1cIjBcIiAqbmdJZj1cImNsb3NlYWJsZSB8fCBjbG9zZVRleHRcIiAgKGNsaWNrKT1cImNsb3NlQWxlcnQoKVwiPlxyXG4gICAgICAgIDxuZy10ZW1wbGF0ZSAjY2xvc2VEZWZhdWx0VGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0ZHMtYnV0dG9uLWNsb3NlICBbbmdDbGFzc109XCJ7JyF0ZXh0LXdoaXRlICFkYXJrOnRleHQtd2hpdGUnOmJhbm5lcn1cIj48L2J1dHRvbj4gICAgICAgICBcclxuICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjbG9zZVRleHQ7IGVsc2UgY2xvc2VEZWZhdWx0VGVtcGxhdGVcIj5cclxuICAgICAgICAgIDxuZy1jb250YWluZXIgKnRkc1N0cmluZ1RlbXBsYXRlT3V0bGV0PVwiY2xvc2VUZXh0XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGRzLWFsZXJ0LWNsb3NlLXRleHRcIj57eyBjbG9zZVRleHQgfX08L3NwYW4+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgIDwvZGl2PlxyXG4gIGAsXHJcbiAgaG9zdDoge1xyXG4gICAgY2xhc3M6IFwiYm9yZGVyLWJveFwiXHJcbiAgfSxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxyXG4gIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxyXG5cclxufSlcclxuZXhwb3J0IGNsYXNzIFREU0FsZXJ0Q29tcG9uZW50IGltcGxlbWVudHMgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksIE9uSW5pdCB7XHJcblxyXG4gIHN0YXRpYyBuZ0FjY2VwdElucHV0VHlwZV9jbG9zZWFibGU6IEJvb2xlYW5JbnB1dDtcclxuICBzdGF0aWMgbmdBY2NlcHRJbnB1dFR5cGVfc2hvd0ljb246IEJvb2xlYW5JbnB1dDtcclxuICBzdGF0aWMgbmdBY2NlcHRJbnB1dFR5cGVfYmFubmVyOiBCb29sZWFuSW5wdXQ7XHJcblxyXG4gIEBJbnB1dCgpIGNsb3NlVGV4dDogc3RyaW5nIHwgVGVtcGxhdGVSZWY8dm9pZD4gfCBudWxsID0gbnVsbDtcclxuICBASW5wdXQoKSBtZXNzYWdlOiBzdHJpbmcgfCBUZW1wbGF0ZVJlZjx2b2lkPiB8IG51bGwgPSBudWxsO1xyXG4gIEBJbnB1dCgpIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBUZW1wbGF0ZVJlZjx2b2lkPiB8IG51bGwgPSBudWxsO1xyXG4gIEBJbnB1dCgpIGZvb3Rlcjogc3RyaW5nIHwgVGVtcGxhdGVSZWY8dm9pZD4gfCBudWxsID0gbnVsbDtcclxuICBASW5wdXQoKSB0eXBlOiAnc3VjY2VzcycgfCAnaW5mbycgfCAnd2FybmluZycgfCAnZXJyb3InID0gJ2luZm8nO1xyXG4gIEBJbnB1dCgpIEBJbnB1dEJvb2xlYW4oKSBjbG9zZWFibGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgc2hvd0ljb246IGJvb2xlYW4gPSBmYWxzZTtcclxuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgYmFubmVyID0gZmFsc2U7XHJcbiAgQElucHV0KCkgQElucHV0Qm9vbGVhbigpIG5vQW5pbWF0aW9uID0gZmFsc2U7XHJcbiAgQE91dHB1dCgpIHJlYWRvbmx5IGNsb3NlID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xyXG4gIGNsb3NlZCA9IGZhbHNlO1xyXG4gIGljb25UaGVtZTogJ291dGxpbmUnIHwgJ2ZpbGwnID0gJ2ZpbGwnO1xyXG4gIGluZmVycmVkSWNvblR5cGU6IHN0cmluZyA9ICd0ZHNpLWluZm9ybWF0aW9uLWZpbGwnO1xyXG5cclxuICBkaXI6IERpcmVjdGlvbiA9ICdsdHInO1xyXG4gIF9jb250ZW50Q2xhc3M6IE5nQ2xhc3NJbnRlcmZhY2UgPSB7fTtcclxuICBfaWNvbkNsYXNzOiBOZ0NsYXNzSW50ZXJmYWNlID0ge307XHJcbiAgcHJpdmF0ZSBpc1R5cGVTZXQgPSBmYWxzZTtcclxuICBwcml2YXRlIGlzU2hvd0ljb25TZXQgPSBmYWxzZTtcclxuICBwcml2YXRlIGRlc3Ryb3kkID0gbmV3IFN1YmplY3Q8dm9pZD4oKTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBjZHI6IENoYW5nZURldGVjdG9yUmVmLCBAT3B0aW9uYWwoKSBwcml2YXRlIGRpcmVjdGlvbmFsaXR5OiBEaXJlY3Rpb25hbGl0eSkge1xyXG5cclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5kaXJlY3Rpb25hbGl0eS5jaGFuZ2U/LnBpcGUodGFrZVVudGlsKHRoaXMuZGVzdHJveSQpKS5zdWJzY3JpYmUoKGRpcmVjdGlvbjogRGlyZWN0aW9uKSA9PiB7XHJcbiAgICAgIHRoaXMuZGlyID0gZGlyZWN0aW9uO1xyXG4gICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmRpciA9IHRoaXMuZGlyZWN0aW9uYWxpdHkudmFsdWU7XHJcbiAgfVxyXG5cclxuICBjbG9zZUFsZXJ0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xyXG4gICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgfVxyXG5cclxuICBvbkZhZGVBbmltYXRpb25Eb25lKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UuZW1pdCh0cnVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcclxuICAgIGNvbnN0IHsgc2hvd0ljb24sIGRlc2NyaXB0aW9uLCB0eXBlLCBiYW5uZXIgfSA9IGNoYW5nZXM7XHJcbiAgICBpZiAoc2hvd0ljb24pIHtcclxuICAgICAgdGhpcy5pc1Nob3dJY29uU2V0ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlKSB7XHJcbiAgICAgIHRoaXMuaXNUeXBlU2V0ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChkZXNjcmlwdGlvbikge1xyXG4gICAgICB0aGlzLmljb25UaGVtZSA9IHRoaXMuZGVzY3JpcHRpb24gPyAnb3V0bGluZScgOiAnZmlsbCc7XHJcbiAgICB9XHJcbiAgICBpZiAoYmFubmVyKSB7XHJcbiAgICAgIGlmICghdGhpcy5pc1R5cGVTZXQpIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSAnd2FybmluZyc7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCF0aGlzLmlzU2hvd0ljb25TZXQpIHtcclxuICAgICAgICB0aGlzLnNob3dJY29uID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIHRoaXMucF9CdWlsZENsYXNzKCk7XHJcbiAgfVxyXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgdGhpcy5kZXN0cm95JC5uZXh0KCk7XHJcbiAgICB0aGlzLmRlc3Ryb3kkLmNvbXBsZXRlKCk7XHJcbiAgfVxyXG4gIHByaXZhdGUgcF9CdWlsZENsYXNzKCkge1xyXG5cclxuICAgIGxldCBjbHNCYW5uZXIgPSAnJztcclxuICAgIGxldCBjbHNOb3RCYW5uZXIgPSAnJztcclxuICAgIGxldCBjbHNUZXh0SWNvbiA9Jyc7XHJcbiAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xyXG4gICAgICBjYXNlICdlcnJvcic6XHJcbiAgICAgICAgdGhpcy5pbmZlcnJlZEljb25UeXBlID0gJ3Rkc2ktZXJyb3ItZmlsbCc7XHJcbiAgICAgICAgY2xzQmFubmVyID0gXCJiZy1lcnJvci00MDAgZGFyazpiZy1kLWVycm9yLTQwMFwiO1xyXG4gICAgICAgIGNsc05vdEJhbm5lciA9IFwiYmctZXJyb3ItMTAwIGRhcms6YmctZC1lcnJvci0xMDAgZGFyazp0ZXh0LXdoaXRlXCI7XHJcbiAgICAgICAgY2xzVGV4dEljb24gPSBcInRleHQtZXJyb3ItNDAwIGRhcms6dGV4dC1kLWVycm9yLTQwMFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdzdWNjZXNzJzpcclxuICAgICAgICB0aGlzLmluZmVycmVkSWNvblR5cGUgPSAndGRzaS1zdWNjZXNzLWZpbGwnO1xyXG4gICAgICAgIGNsc0Jhbm5lciA9IFwiYmctc3VjY2Vzcy00MDAgZGFyazpiZy1kLXN1Y2Nlc3MtNDAwIFwiO1xyXG4gICAgICAgIGNsc05vdEJhbm5lciA9IFwiYmctc3VjY2Vzcy0xMDAgZGFyazpiZy1kLXN1Y2Nlc3MtMTAwIGRhcms6dGV4dC13aGl0ZVwiO1xyXG4gICAgICAgIGNsc1RleHRJY29uID0gXCJ0ZXh0LXN1Y2Nlc3MtNDAwIGRhcms6dGV4dC1kLXN1Y2Nlc3MtNDAwXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2luZm8nOlxyXG4gICAgICAgIHRoaXMuaW5mZXJyZWRJY29uVHlwZSA9ICd0ZHNpLWluZm9ybWF0aW9uLWZpbGwnO1xyXG4gICAgICAgIGNsc0Jhbm5lciA9IFwiYmctaW5mby00MDAgZGFyazpiZy1kLWluZm8tNDAwIFwiO1xyXG4gICAgICAgIGNsc1RleHRJY29uID0gXCJ0ZXh0LWluZm8tNDAwIGRhcms6dGV4dC1kLWluZm8tNDAwIGRhcms6dGV4dC13aGl0ZVwiO1xyXG4gICAgICAgIGNsc05vdEJhbm5lciA9IFwiYmctaW5mby0xMDAgZGFyazpiZy1kLWluZm8tMTAwIFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICd3YXJuaW5nJzpcclxuICAgICAgICB0aGlzLmluZmVycmVkSWNvblR5cGUgPSAndGRzaS13YXJuaW5nLWZpbGwnO1xyXG4gICAgICAgIGNsc0Jhbm5lciA9IFwiYmctd2FybmluZy00MDAgZGFyazpiZy1kLXdhcm5pbmctNDAwIFwiO1xyXG4gICAgICAgIGNsc1RleHRJY29uID0gXCJ0ZXh0LXdhcm5pbmctNDAwIGRhcms6dGV4dC1kLXdhcm5pbmctNDAwXCI7XHJcbiAgICAgICAgY2xzTm90QmFubmVyID0gXCJiZy13YXJuaW5nLTEwMCBkYXJrOmJnLWQtd2FybmluZy0xMDAgZGFyazp0ZXh0LXdoaXRlXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5iYW5uZXIpXHJcbiAgICB7XHJcbiAgICAgIHRoaXMuX2NvbnRlbnRDbGFzcyA9IHtcclxuICAgICBcclxuICAgICAgW2Nsc0Jhbm5lcl06IHRydWUsXHJcbiAgICAgIFsnanVzdGlmeS1jZW50ZXIgcmVsYXRpdmUgaXRlbXMtY2VudGVyJ106IHRydWUsXHJcblxyXG5cclxuICAgIH07XHJcblxyXG4gICAgfWVsc2VcclxuICAgIHtcclxuICAgICAgdGhpcy5fY29udGVudENsYXNzID0ge1xyXG4gICAgICAgIFtjbHNOb3RCYW5uZXJdOiB0cnVlLFxyXG4gICAgICAgIFsncm91bmRlZC1sZyddOiB0cnVlLFxyXG4gIFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLl9pY29uQ2xhc3MgPSB7XHJcbiAgICAgIFt0aGlzLmluZmVycmVkSWNvblR5cGVdOiB0cnVlLFxyXG4gICAgICBbYHRleHQtd2hpdGVgXTogdGhpcy5iYW5uZXIsXHJcbiAgICAgIFtjbHNUZXh0SWNvbl06ICF0aGlzLmJhbm5lcixcclxuICAgIH07XHJcbiAgfVxyXG5cclxufVxyXG4iXX0=