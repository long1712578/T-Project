import { __decorate } from "tslib";
import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewChild, ViewEncapsulation } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { of, Subject } from 'rxjs';
import { map, takeUntil } from 'rxjs/operators';
import { reqAnimFrame } from 'tds-ui/core/animation';
import { isNotNil } from 'tds-ui/core/util';
import { InputBoolean, TDSHelperObject } from 'tds-ui/shared/utility';
import { TimeHolder } from './time-holder';
import * as i0 from "@angular/core";
import * as i1 from "tds-ui/i18n";
import * as i2 from "@angular/common";
import * as i3 from "tds-ui/button";
import * as i4 from "tds-ui/select";
import * as i5 from "@angular/forms";
const _c0 = ["hourListElement"];
const _c1 = ["minuteListElement"];
const _c2 = ["secondListElement"];
const _c3 = ["use12HoursListElement"];
const _c4 = function (a0, a1, a2) { return { "dark:text-d-primary-1 text-primary-1 tds-picker-time-panel-cell-selected font-semibold": a0, "tds-picker-time-panel-cell-disabled cursor-not-allowed": a1, "cursor-pointer hover:text-primary-1 dark:hover:text-d-primary-1": a2 }; };
function TDSTimePickerPanelComponent_ng_container_0_ul_4_ng_container_2_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r14 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "li", 17);
    i0.ɵɵlistener("click", function TDSTimePickerPanelComponent_ng_container_0_ul_4_ng_container_2_li_1_Template_li_click_0_listener() { i0.ɵɵrestoreView(_r14); const hour_r10 = i0.ɵɵnextContext().$implicit; const ctx_r12 = i0.ɵɵnextContext(3); return ctx_r12.selectHour(hour_r10); });
    i0.ɵɵelementStart(1, "div", 18);
    i0.ɵɵtext(2);
    i0.ɵɵpipe(3, "number");
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const hour_r10 = i0.ɵɵnextContext().$implicit;
    const ctx_r11 = i0.ɵɵnextContext(3);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction3(5, _c4, ctx_r11.isSelectedHour(hour_r10), hour_r10.disabled, !hour_r10.disabled));
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 2, hour_r10.index, "2.0-0"));
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_4_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, TDSTimePickerPanelComponent_ng_container_0_ul_4_ng_container_2_li_1_Template, 4, 9, "li", 16);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const hour_r10 = ctx.$implicit;
    const ctx_r9 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !(ctx_r9.hideDisabledOptions && hour_r10.disabled));
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "ul", 13, 14);
    i0.ɵɵtemplate(2, TDSTimePickerPanelComponent_ng_container_0_ul_4_ng_container_2_Template, 2, 1, "ng-container", 15);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r3 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngForOf", ctx_r3.hourRange)("ngForTrackBy", ctx_r3.trackByFn);
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_5_ng_container_2_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r22 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "li", 21);
    i0.ɵɵlistener("click", function TDSTimePickerPanelComponent_ng_container_0_ul_5_ng_container_2_li_1_Template_li_click_0_listener() { i0.ɵɵrestoreView(_r22); const minute_r18 = i0.ɵɵnextContext().$implicit; const ctx_r20 = i0.ɵɵnextContext(3); return ctx_r20.selectMinute(minute_r18); });
    i0.ɵɵelementStart(1, "div", 18);
    i0.ɵɵtext(2);
    i0.ɵɵpipe(3, "number");
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const minute_r18 = i0.ɵɵnextContext().$implicit;
    const ctx_r19 = i0.ɵɵnextContext(3);
    i0.ɵɵclassProp("text-primary-1", ctx_r19.isSelectedMinute(minute_r18))("tds-picker-time-panel-cell-selected", ctx_r19.isSelectedMinute(minute_r18))("tds-picker-time-panel-cell-disabled", minute_r18.disabled);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 7, minute_r18.index, "2.0-0"));
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_5_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, TDSTimePickerPanelComponent_ng_container_0_ul_5_ng_container_2_li_1_Template, 4, 10, "li", 20);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const minute_r18 = ctx.$implicit;
    const ctx_r17 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !(ctx_r17.hideDisabledOptions && minute_r18.disabled));
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_5_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "ul", 13, 19);
    i0.ɵɵtemplate(2, TDSTimePickerPanelComponent_ng_container_0_ul_5_ng_container_2_Template, 2, 1, "ng-container", 15);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r4 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngForOf", ctx_r4.minuteRange)("ngForTrackBy", ctx_r4.trackByFn);
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_6_ng_container_2_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r30 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "li", 21);
    i0.ɵɵlistener("click", function TDSTimePickerPanelComponent_ng_container_0_ul_6_ng_container_2_li_1_Template_li_click_0_listener() { i0.ɵɵrestoreView(_r30); const second_r26 = i0.ɵɵnextContext().$implicit; const ctx_r28 = i0.ɵɵnextContext(3); return ctx_r28.selectSecond(second_r26); });
    i0.ɵɵelementStart(1, "div", 18);
    i0.ɵɵtext(2);
    i0.ɵɵpipe(3, "number");
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const second_r26 = i0.ɵɵnextContext().$implicit;
    const ctx_r27 = i0.ɵɵnextContext(3);
    i0.ɵɵclassProp("text-primary-1", ctx_r27.isSelectedSecond(second_r26))("tds-picker-time-panel-cell-selected", ctx_r27.isSelectedSecond(second_r26))("tds-picker-time-panel-cell-disabled", second_r26.disabled);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 7, second_r26.index, "2.0-0"));
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_6_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, TDSTimePickerPanelComponent_ng_container_0_ul_6_ng_container_2_li_1_Template, 4, 10, "li", 20);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const second_r26 = ctx.$implicit;
    const ctx_r25 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !(ctx_r25.hideDisabledOptions && second_r26.disabled));
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_6_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "ul", 13, 22);
    i0.ɵɵtemplate(2, TDSTimePickerPanelComponent_ng_container_0_ul_6_ng_container_2_Template, 2, 1, "ng-container", 15);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r5 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngForOf", ctx_r5.secondRange)("ngForTrackBy", ctx_r5.trackByFn);
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_7_ng_container_2_li_1_button_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "button", 31);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const range_r34 = i0.ɵɵnextContext(2).$implicit;
    i0.ɵɵproperty("color", "primary");
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(range_r34.value);
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_7_ng_container_2_li_1_button_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "button", 32);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const range_r34 = i0.ɵɵnextContext(2).$implicit;
    i0.ɵɵproperty("color", "secondary");
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(range_r34.value);
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_7_ng_container_2_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r42 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "li", 27);
    i0.ɵɵlistener("click", function TDSTimePickerPanelComponent_ng_container_0_ul_7_ng_container_2_li_1_Template_li_click_0_listener() { i0.ɵɵrestoreView(_r42); const range_r34 = i0.ɵɵnextContext().$implicit; const ctx_r40 = i0.ɵɵnextContext(3); return ctx_r40.select12Hours(range_r34); });
    i0.ɵɵelementStart(1, "div", 28);
    i0.ɵɵtemplate(2, TDSTimePickerPanelComponent_ng_container_0_ul_7_ng_container_2_li_1_button_2_Template, 2, 2, "button", 29);
    i0.ɵɵtemplate(3, TDSTimePickerPanelComponent_ng_container_0_ul_7_ng_container_2_li_1_button_3_Template, 2, 2, "button", 30);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const range_r34 = i0.ɵɵnextContext().$implicit;
    const ctx_r35 = i0.ɵɵnextContext(3);
    i0.ɵɵclassProp("tds-picker-time-panel-cell-selected", ctx_r35.isSelected12Hours(range_r34));
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngIf", ctx_r35.isSelected12Hours(range_r34));
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !ctx_r35.isSelected12Hours(range_r34));
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_7_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, TDSTimePickerPanelComponent_ng_container_0_ul_7_ng_container_2_li_1_Template, 4, 4, "li", 26);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r33 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !ctx_r33.hideDisabledOptions);
} }
function TDSTimePickerPanelComponent_ng_container_0_ul_7_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "ul", 23, 24);
    i0.ɵɵtemplate(2, TDSTimePickerPanelComponent_ng_container_0_ul_7_ng_container_2_Template, 2, 1, "ng-container", 25);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r6 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngForOf", ctx_r6.use12HoursRange);
} }
function TDSTimePickerPanelComponent_ng_container_0_div_9_ng_template_1_Template(rf, ctx) { }
function TDSTimePickerPanelComponent_ng_container_0_div_9_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 33);
    i0.ɵɵtemplate(1, TDSTimePickerPanelComponent_ng_container_0_div_9_ng_template_1_Template, 0, 0, "ng-template", 34);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r7 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", ctx_r7.addOn);
} }
function TDSTimePickerPanelComponent_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    const _r46 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelementStart(1, "div", 2)(2, "div", 3)(3, "div", 4);
    i0.ɵɵtemplate(4, TDSTimePickerPanelComponent_ng_container_0_ul_4_Template, 3, 2, "ul", 5);
    i0.ɵɵtemplate(5, TDSTimePickerPanelComponent_ng_container_0_ul_5_Template, 3, 2, "ul", 6);
    i0.ɵɵtemplate(6, TDSTimePickerPanelComponent_ng_container_0_ul_6_Template, 3, 2, "ul", 6);
    i0.ɵɵtemplate(7, TDSTimePickerPanelComponent_ng_container_0_ul_7_Template, 3, 1, "ul", 7);
    i0.ɵɵelementEnd();
    i0.ɵɵelementStart(8, "div", 8);
    i0.ɵɵtemplate(9, TDSTimePickerPanelComponent_ng_container_0_div_9_Template, 2, 1, "div", 9);
    i0.ɵɵelementStart(10, "ul", 10)(11, "li", 11)(12, "button", 12);
    i0.ɵɵlistener("click", function TDSTimePickerPanelComponent_ng_container_0_Template_button_click_12_listener() { i0.ɵɵrestoreView(_r46); const ctx_r45 = i0.ɵɵnextContext(); return ctx_r45.onClickNow(); });
    i0.ɵɵtext(13);
    i0.ɵɵpipe(14, "tdsI18n");
    i0.ɵɵelementEnd()()()()()();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵadvance(4);
    i0.ɵɵproperty("ngIf", ctx_r0.hourEnabled);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r0.minuteEnabled);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r0.secondEnabled);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r0.use12Hours);
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngIf", ctx_r0.addOn);
    i0.ɵɵadvance(4);
    i0.ɵɵtextInterpolate1(" ", ctx_r0.nowText || i0.ɵɵpipeBind1(14, 6, "Calendar.lang.now"), " ");
} }
function TDSTimePickerPanelComponent_ng_template_1_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtext(0);
    i0.ɵɵpipe(1, "number");
} if (rf & 2) {
    const item_r52 = ctx.item;
    i0.ɵɵtextInterpolate1(" ", i0.ɵɵpipeBind2(1, 1, item_r52.data.index, "2.0-0"), " ");
} }
const _c5 = function (a0) { return { "text-primary-1 dark:text-d-primary-1": a0 }; };
function TDSTimePickerPanelComponent_ng_template_1_ng_template_7_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 43);
    i0.ɵɵtext(1);
    i0.ɵɵpipe(2, "number");
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const item_r54 = ctx.item;
    const selected_r56 = ctx.selected;
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(5, _c5, selected_r56));
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", i0.ɵɵpipeBind2(2, 2, item_r54.index, "2.0-0"), " ");
} }
function TDSTimePickerPanelComponent_ng_template_1_ng_template_12_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtext(0);
    i0.ɵɵpipe(1, "number");
} if (rf & 2) {
    const item_r57 = ctx.item;
    i0.ɵɵtextInterpolate1(" ", i0.ɵɵpipeBind2(1, 1, item_r57.data.index, "2.0-0"), " ");
} }
function TDSTimePickerPanelComponent_ng_template_1_ng_template_13_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 43);
    i0.ɵɵtext(1);
    i0.ɵɵpipe(2, "number");
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const item_r59 = ctx.item;
    const selected_r61 = ctx.selected;
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(5, _c5, selected_r61));
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", i0.ɵɵpipeBind2(2, 2, item_r59.index, "2.0-0"), " ");
} }
function TDSTimePickerPanelComponent_ng_template_1_ng_template_16_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 43);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const item_r63 = ctx.item;
    const ctx_r51 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(2, _c5, ctx_r51.time.selected12Hours == item_r63.value));
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", item_r63.value, " ");
} }
function TDSTimePickerPanelComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    const _r67 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 35)(1, "div", 36);
    i0.ɵɵtext(2);
    i0.ɵɵpipe(3, "async");
    i0.ɵɵelementEnd();
    i0.ɵɵelementStart(4, "div", 37)(5, "tds-select", 38);
    i0.ɵɵlistener("selectChange", function TDSTimePickerPanelComponent_ng_template_1_Template_tds_select_selectChange_5_listener($event) { i0.ɵɵrestoreView(_r67); const ctx_r66 = i0.ɵɵnextContext(); return ctx_r66.selectHour($event); });
    i0.ɵɵtemplate(6, TDSTimePickerPanelComponent_ng_template_1_ng_template_6_Template, 2, 4, "ng-template", 39);
    i0.ɵɵtemplate(7, TDSTimePickerPanelComponent_ng_template_1_ng_template_7_Template, 3, 7, "ng-template", 40);
    i0.ɵɵelementEnd()();
    i0.ɵɵelementStart(8, "div");
    i0.ɵɵtext(9, " : ");
    i0.ɵɵelementEnd();
    i0.ɵɵelementStart(10, "div", 37)(11, "tds-select", 38);
    i0.ɵɵlistener("selectChange", function TDSTimePickerPanelComponent_ng_template_1_Template_tds_select_selectChange_11_listener($event) { i0.ɵɵrestoreView(_r67); const ctx_r68 = i0.ɵɵnextContext(); return ctx_r68.selectMinute($event); });
    i0.ɵɵtemplate(12, TDSTimePickerPanelComponent_ng_template_1_ng_template_12_Template, 2, 4, "ng-template", 39);
    i0.ɵɵtemplate(13, TDSTimePickerPanelComponent_ng_template_1_ng_template_13_Template, 3, 7, "ng-template", 40);
    i0.ɵɵelementEnd()();
    i0.ɵɵelementStart(14, "div", 41)(15, "tds-select", 42);
    i0.ɵɵlistener("selectChange", function TDSTimePickerPanelComponent_ng_template_1_Template_tds_select_selectChange_15_listener($event) { i0.ɵɵrestoreView(_r67); const ctx_r69 = i0.ɵɵnextContext(); return ctx_r69.select12Hours($event); });
    i0.ɵɵtemplate(16, TDSTimePickerPanelComponent_ng_template_1_ng_template_16_Template, 2, 4, "ng-template", 40);
    i0.ɵɵelementEnd()()();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate1(" ", i0.ɵɵpipeBind1(3, 13, ctx_r2.i18nTime$), " ");
    i0.ɵɵadvance(3);
    i0.ɵɵproperty("data", ctx_r2.hourRange)("ngModel", ctx_r2.time.viewHours)("valuePrimitive", false)("classIcon", null);
    i0.ɵɵadvance(6);
    i0.ɵɵproperty("data", ctx_r2.minuteRange)("ngModel", ctx_r2.time.minutes)("valuePrimitive", false)("classIcon", null);
    i0.ɵɵadvance(4);
    i0.ɵɵproperty("data", ctx_r2.use12HoursRange)("ngModel", ctx_r2.time.selected12Hours)("valuePrimitive", false)("classIcon", null);
} }
function makeRange(length, step = 1, start = 0) {
    return new Array(Math.ceil(length / step)).fill(0).map((_, i) => (i + start) * step);
}
export class TDSTimePickerPanelComponent {
    constructor(cdr, dateHelper, elementRef, i18n) {
        this.cdr = cdr;
        this.dateHelper = dateHelper;
        this.elementRef = elementRef;
        this.i18n = i18n;
        this._hourStep = 1;
        this._minuteStep = 1;
        this._secondStep = 1;
        this.unsubscribe$ = new Subject();
        this._format = 'hh:mm:ss a';
        this._disabledHours = () => [];
        this._disabledMinutes = () => [];
        this._disabledSeconds = () => [];
        this._allowEmpty = true;
        this._strAM = 'AM';
        this._strPM = 'PM';
        this.time = new TimeHolder();
        this.hourEnabled = true;
        this.minuteEnabled = true;
        this.secondEnabled = true;
        this.firstScrolled = false;
        this.enabledColumns = 3;
        this.select12HoursRange = [];
        this.select12HoursRangeDefault = [
            {
                index: 0,
                value: this._strAM
            },
            {
                index: 1,
                value: this._strPM
            }
        ];
        this.i18nTime$ = of(undefined);
        this.inDatePicker = false; // If inside a date-picker, more diff works need to be done
        this.hideDisabledOptions = false;
        this.use12Hours = true;
        this.closePanel = new EventEmitter();
        // TODO: move to host after View Engine deprecation
        this.elementRef.nativeElement.classList.add('tds-picker-time-panel');
    }
    set allowEmpty(value) {
        if (isNotNil(value)) {
            this._allowEmpty = value;
        }
    }
    get allowEmpty() {
        return this._allowEmpty;
    }
    set disabledHours(value) {
        this._disabledHours = value;
        if (!!this._disabledHours) {
            this.buildHours();
        }
    }
    get disabledHours() {
        return this._disabledHours;
    }
    set disabledMinutes(value) {
        if (isNotNil(value)) {
            this._disabledMinutes = value;
            this.buildMinutes();
        }
    }
    get disabledMinutes() {
        return this._disabledMinutes;
    }
    set disabledSeconds(value) {
        if (isNotNil(value)) {
            this._disabledSeconds = value;
            this.buildSeconds();
        }
    }
    get disabledSeconds() {
        return this._disabledSeconds;
    }
    set format(value) {
        if (isNotNil(value)) {
            this._format = value;
            this.enabledColumns = 0;
            const charSet = new Set(value);
            this.hourEnabled = charSet.has('H') || charSet.has('h');
            this.minuteEnabled = charSet.has('m');
            this.secondEnabled = charSet.has('s');
            if (this.hourEnabled) {
                this.enabledColumns++;
            }
            if (this.minuteEnabled) {
                this.enabledColumns++;
            }
            if (this.secondEnabled) {
                this.enabledColumns++;
            }
            if (this.use12Hours) {
                this.build12Hours();
            }
        }
    }
    get format() {
        return this._format;
    }
    set hourStep(value) {
        if (isNotNil(value)) {
            this._hourStep = value;
            this.buildHours();
        }
    }
    get hourStep() {
        return this._hourStep;
    }
    set minuteStep(value) {
        if (isNotNil(value)) {
            this._minuteStep = value;
            this.buildMinutes();
        }
    }
    get minuteStep() {
        return this._minuteStep;
    }
    set secondStep(value) {
        if (isNotNil(value)) {
            this._secondStep = value;
            this.buildSeconds();
        }
    }
    get secondStep() {
        return this._secondStep;
    }
    trackByFn(index) {
        return index;
    }
    buildHours() {
        let hourRanges = 24;
        let disabledHours = this.disabledHours?.();
        let startIndex = 0;
        if (this.use12Hours) {
            hourRanges = 12;
            if (disabledHours) {
                if (this.time.selected12Hours === this._strPM) {
                    /**
                     * Filter and transform hours which greater or equal to 12
                     * [0, 1, 2, ..., 12, 13, 14, 15, ..., 23] => [12, 1, 2, 3, ..., 11]
                     */
                    disabledHours = disabledHours.filter(i => i >= 12).map(i => (i > 12 ? i - 12 : i));
                }
                else {
                    /**
                     * Filter and transform hours which less than 12
                     * [0, 1, 2,..., 12, 13, 14, 15, ...23] => [12, 1, 2, 3, ..., 11]
                     */
                    disabledHours = disabledHours.filter(i => i < 12 || i === 24).map(i => (i === 24 || i === 0 ? 12 : i));
                }
            }
            startIndex = 1;
        }
        this.hourRange = makeRange(hourRanges, this.hourStep, startIndex).map(r => {
            return {
                index: r,
                disabled: !!disabledHours && disabledHours.indexOf(r) !== -1
            };
        });
        if (this.use12Hours && this.hourRange[this.hourRange.length - 1].index === 12) {
            const temp = [...this.hourRange];
            temp.unshift(temp[temp.length - 1]);
            temp.splice(temp.length - 1, 1);
            this.hourRange = temp;
        }
    }
    buildMinutes() {
        this.minuteRange = makeRange(60, this.minuteStep).map(r => {
            return {
                index: r,
                disabled: !!this.disabledMinutes && this.disabledMinutes(this.time.hours).indexOf(r) !== -1
            };
        });
    }
    buildSeconds() {
        this.secondRange = makeRange(60, this.secondStep).map(r => {
            return {
                index: r,
                disabled: !!this.disabledSeconds && this.disabledSeconds(this.time.hours, this.time.minutes).indexOf(r) !== -1
            };
        });
    }
    build12Hours() {
        const local = this.i18n.getLocale();
        const isUpperFormat = this._format.includes('A');
        if (local.locale === 'vi') {
            this._strAM = 'SA';
            this._strPM = 'CH';
            this.time.setStrAM('SA');
            this.time.setStrPM('CH');
        }
        this.use12HoursRange = [
            {
                index: 0,
                value: this._strAM
            },
            {
                index: 1,
                value: this._strPM
            }
        ];
        this.select12HoursRangeDefault = [
            {
                index: 0,
                value: this._strAM
            },
            {
                index: 1,
                value: this._strPM
            }
        ];
    }
    buildSelect12Hours() {
        this.select12HoursRange = [];
        let array = [];
        if (this.use12Hours && TDSHelperObject.hasValue(this.hourRange)) {
            this.hourRange.forEach(h => {
                array.push({
                    hour: h.index,
                    minute: 0,
                    second: 0,
                    disabled: h.disabled,
                    label: `${h.index}:00`
                });
                array.push({
                    hour: h.index,
                    minute: 30,
                    second: 0,
                    disabled: h.disabled,
                    label: `${h.index}:30`
                });
            });
            this.select12HoursRange = array.sort((a, b) => a.hour - b.hour);
        }
    }
    buildTimes() {
        this.buildHours();
        this.buildMinutes();
        this.buildSeconds();
        this.build12Hours();
        this.buildSelect12Hours();
    }
    scrollToTime(delay = 0) {
        if (this.hourEnabled && this.hourListElement) {
            this.scrollToSelected(this.hourListElement.nativeElement, this.time.viewHours, delay, 'hour');
        }
        if (this.minuteEnabled && this.minuteListElement) {
            this.scrollToSelected(this.minuteListElement.nativeElement, this.time.minutes, delay, 'minute');
        }
        if (this.secondEnabled && this.secondListElement) {
            this.scrollToSelected(this.secondListElement.nativeElement, this.time.seconds, delay, 'second');
        }
        if (this.use12Hours && this.use12HoursListElement) {
            const selectedHours = this.time.selected12Hours;
            const index = selectedHours === this._strAM ? 0 : 1;
            this.scrollToSelected(this.use12HoursListElement.nativeElement, index, delay, '12-hour');
        }
    }
    selectHour(hour) {
        this.time.setHours(hour.index, hour.disabled);
        if (!!this._disabledMinutes) {
            this.buildMinutes();
        }
        if (this._disabledSeconds || this._disabledMinutes) {
            this.buildSeconds();
        }
    }
    selectMinute(minute) {
        this.time.setMinutes(minute.index, minute.disabled);
        if (!!this._disabledSeconds) {
            this.buildSeconds();
        }
    }
    selectSecond(second) {
        this.time.setSeconds(second.index, second.disabled);
    }
    select12Hours(value) {
        const select12h = this.select12HoursRangeDefault.find(f => f.index == value.index)?.value;
        this.time.setSelected12Hours(select12h);
        if (!!this._disabledHours) {
            this.buildHours();
        }
        if (!!this._disabledMinutes) {
            this.buildMinutes();
        }
        if (!!this._disabledSeconds) {
            this.buildSeconds();
        }
    }
    selectCutom12Hours(data, str) {
        const select12h = this.select12HoursRangeDefault.find(f => f.index == str.index)?.value;
        this.time.setHours(data.hour, data.disabled);
        this.time.setMinutes(data.minute, data.disabled);
        this.time.setSeconds(data.second, data.disabled);
        this.time.setSelected12Hours(select12h);
        if (!!this._disabledHours) {
            this.buildHours();
        }
        if (!!this._disabledMinutes) {
            this.buildMinutes();
        }
        if (!!this._disabledSeconds) {
            this.buildSeconds();
        }
    }
    scrollToSelected(instance, index, duration = 0, unit) {
        if (!instance) {
            return;
        }
        const transIndex = this.translateIndex(index, unit);
        const currentOption = (instance.children[transIndex] || instance.children[0]);
        this.scrollTo(instance, currentOption.offsetTop, duration);
    }
    translateIndex(index, unit) {
        if (unit === 'hour') {
            return this.calcIndex(this.disabledHours?.(), this.hourRange.map(item => item.index).indexOf(index));
        }
        else if (unit === 'minute') {
            return this.calcIndex(this.disabledMinutes?.(this.time.hours), this.minuteRange.map(item => item.index).indexOf(index));
        }
        else if (unit === 'second') {
            // second
            return this.calcIndex(this.disabledSeconds?.(this.time.hours, this.time.minutes), this.secondRange.map(item => item.index).indexOf(index));
        }
        else {
            // 12-hour
            return this.calcIndex([], this.use12HoursRange.map(item => item.index).indexOf(index));
        }
    }
    scrollTo(element, to, duration) {
        if (duration <= 0) {
            element.scrollTop = to;
            return;
        }
        const difference = to - element.scrollTop;
        const perTick = (difference / duration) * 10;
        reqAnimFrame(() => {
            element.scrollTop = element.scrollTop + perTick;
            if (element.scrollTop === to) {
                return;
            }
            this.scrollTo(element, to, duration - 10);
        });
    }
    calcIndex(array, index) {
        if (array?.length && this.hideDisabledOptions) {
            return (index -
                array.reduce((pre, value) => {
                    return pre + (value < index ? 1 : 0);
                }, 0));
        }
        else {
            return index;
        }
    }
    changed() {
        if (this.onChange) {
            this.onChange(this.time.value);
        }
    }
    touched() {
        if (this.onTouch) {
            this.onTouch();
        }
    }
    timeDisabled(value) {
        const hour = value.getHours();
        const minute = value.getMinutes();
        const second = value.getSeconds();
        return ((this.disabledHours?.().indexOf(hour) ?? -1) > -1 ||
            (this.disabledMinutes?.(hour).indexOf(minute) ?? -1) > -1 ||
            (this.disabledSeconds?.(hour, minute).indexOf(second) ?? -1) > -1);
    }
    onClickNow() {
        const now = new Date();
        if (this.timeDisabled(now)) {
            return;
        }
        this.time.setValue(now);
        this.changed();
        this.closePanel.emit();
    }
    onClickOk() {
        this.closePanel.emit();
    }
    isSelectedHour(hour) {
        return hour.index === this.time.viewHours;
    }
    isSelectedMinute(minute) {
        return minute.index === this.time.minutes;
    }
    isSelectedSecond(second) {
        return second.index === this.time.seconds;
    }
    // isSelected12Hours(value: { hour: number; minute: number; second: number; label: string; disabled: boolean }, range: { index: number; value: string }): boolean {
    //   const select12h = this.select12HoursRangeDefault.find(f => f.index == range.index)?.value?.toUpperCase();
    //   return value.hour === this.time.viewHours
    //     && value.minute === this.time.minutes
    //     && value.second === this.time.seconds
    //     && select12h === this.time.selected12Hours?.toUpperCase();
    // }
    isSelected12Hours(value) {
        const select12h = this.select12HoursRangeDefault.find(f => f.index == value.index)?.value?.toUpperCase();
        return select12h === this.time.selected12Hours?.toUpperCase();
    }
    ngOnInit() {
        this.time.changes.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {
            this.changed();
            this.touched();
            this.scrollToTime(120);
        });
        this.buildTimes();
        setTimeout(() => {
            this.scrollToTime();
            this.firstScrolled = true;
        });
        this.i18nTime$ = this.i18n.localeChange.pipe(map((locale) => locale.TimePicker.time));
    }
    ngOnDestroy() {
        this.unsubscribe$.next();
        this.unsubscribe$.complete();
    }
    ngOnChanges(changes) {
        const { use12Hours, defaultOpenValue } = changes;
        if (!use12Hours?.previousValue && use12Hours?.currentValue) {
            this.build12Hours();
            this.enabledColumns++;
        }
        if (defaultOpenValue?.currentValue) {
            this.time.setDefaultOpenValue(this.defaultOpenValue || new Date());
        }
    }
    writeValue(value) {
        this.time.setValue(value, this.use12Hours);
        this.buildTimes();
        if (value && this.firstScrolled) {
            this.scrollToTime(120);
        }
        // Mark this component to be checked manually with internal properties changing (see: https://github.com/angular/angular/issues/10816)
        this.cdr.markForCheck();
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouch = fn;
    }
    /**
     * Prevent input losing focus when click panel
     * @param event
     */
    onMousedown(event) {
        event.preventDefault();
    }
}
TDSTimePickerPanelComponent.ɵfac = function TDSTimePickerPanelComponent_Factory(t) { return new (t || TDSTimePickerPanelComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.DateHelperService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.TDSI18nService)); };
TDSTimePickerPanelComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TDSTimePickerPanelComponent, selectors: [["tds-time-picker-panel"]], viewQuery: function TDSTimePickerPanelComponent_Query(rf, ctx) { if (rf & 1) {
        i0.ɵɵviewQuery(_c0, 5);
        i0.ɵɵviewQuery(_c1, 5);
        i0.ɵɵviewQuery(_c2, 5);
        i0.ɵɵviewQuery(_c3, 5);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.hourListElement = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.minuteListElement = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.secondListElement = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.use12HoursListElement = _t.first);
    } }, hostAttrs: [1, "flex", "flex-col", "pr-0", "border-box"], hostVars: 12, hostBindings: function TDSTimePickerPanelComponent_HostBindings(rf, ctx) { if (rf & 1) {
        i0.ɵɵlistener("mousedown", function TDSTimePickerPanelComponent_mousedown_HostBindingHandler($event) { return ctx.onMousedown($event); });
    } if (rf & 2) {
        i0.ɵɵclassProp("tds-picker-time-panel-column-0", ctx.enabledColumns === 0 && !ctx.inDatePicker)("tds-picker-time-panel-column-1", ctx.enabledColumns === 1 && !ctx.inDatePicker)("tds-picker-time-panel-column-2", ctx.enabledColumns === 2 && !ctx.inDatePicker)("tds-picker-time-panel-column-3", ctx.enabledColumns === 3 && !ctx.inDatePicker)("tds-picker-time-panel-narrow", ctx.enabledColumns < 3)("tds-picker-time-panel-placement-bottomLeft", !ctx.inDatePicker);
    } }, inputs: { inDatePicker: "inDatePicker", addOn: "addOn", hideDisabledOptions: "hideDisabledOptions", clearText: "clearText", nowText: "nowText", okText: "okText", placeHolder: "placeHolder", use12Hours: "use12Hours", defaultOpenValue: "defaultOpenValue", allowEmpty: "allowEmpty", disabledHours: "disabledHours", disabledMinutes: "disabledMinutes", disabledSeconds: "disabledSeconds", format: "format", hourStep: "hourStep", minuteStep: "minuteStep", secondStep: "secondStep" }, outputs: { closePanel: "closePanel" }, exportAs: ["tdsTimePickerPanel"], features: [i0.ɵɵProvidersFeature([{ provide: NG_VALUE_ACCESSOR, useExisting: TDSTimePickerPanelComponent, multi: true }]), i0.ɵɵNgOnChangesFeature], decls: 3, vars: 2, consts: [[4, "ngIf", "ngIfElse"], ["datePickerTpl", ""], [1, "w-full", "py-1"], [1, "text-body-2", "bg-white", "dark:bg-d-neutral-3-200", "shadow-1-xl", "text-neutral-1-900", "dark:text-d-neutral-1-900", "rounded"], [1, "tds-picker-content", "flex", "justify-between", "h-56", "overflow-y-hidde"], ["class", "tds-picker-time-panel-column h-full relative overflow-y-hidden hover:overflow-y-auto tds-panel-scroll border-r border-neutral-2-100 dark:border-d-neutral-2-100 flex flex-col w-14 py-2.5", 4, "ngIf"], ["class", "tds-picker-time-panel-column  h-full relative overflow-y-hidden hover:overflow-y-auto tds-panel-scroll border-r border-neutral-2-100 dark:border-d-neutral-2-100 flex flex-col w-14 py-2.5", 4, "ngIf"], ["class", "tds-picker-time-panel-column h-full relative overflow-y-hidden flex flex-col px-3 py-2.5 min-w-[70px] ", 4, "ngIf"], [1, "tds-picker-footer", "p-2", "border-t", "border-neutral-2-100", "dark:border-d-neutral-2-100"], ["class", "tds-picker-footer-extra", 4, "ngIf"], [1, "tds-picker-ranges", "flex", "justify-center", "items-center"], [1, "tds-picker-now"], ["tds-button-flat", "", "type", "button", "color", "primary", 1, "uppercase", 2, "min-width", "0", 3, "click"], [1, "tds-picker-time-panel-column", "h-full", "relative", "overflow-y-hidden", "hover:overflow-y-auto", "tds-panel-scroll", "border-r", "border-neutral-2-100", "dark:border-d-neutral-2-100", "flex", "flex-col", "w-14", "py-2.5"], ["hourListElement", ""], [4, "ngFor", "ngForOf", "ngForTrackBy"], ["class", "tds-picker-time-panel-cell  flex-auto  px-3 py-2 items-center justify-center", 3, "ngClass", "click", 4, "ngIf"], [1, "tds-picker-time-panel-cell", "flex-auto", "px-3", "py-2", "items-center", "justify-center", 3, "ngClass", "click"], [1, "tds-picker-time-panel-cell-inner"], ["minuteListElement", ""], ["class", "tds-picker-time-panel-cell cursor-pointer hover:text-primary-1 px-3 py-2 items-center justify-center", 3, "text-primary-1", "tds-picker-time-panel-cell-selected", "tds-picker-time-panel-cell-disabled", "click", 4, "ngIf"], [1, "tds-picker-time-panel-cell", "cursor-pointer", "hover:text-primary-1", "px-3", "py-2", "items-center", "justify-center", 3, "click"], ["secondListElement", ""], [1, "tds-picker-time-panel-column", "h-full", "relative", "overflow-y-hidden", "flex", "flex-col", "px-3", "py-2.5", "min-w-[70px]"], ["use12HoursListElement", ""], [4, "ngFor", "ngForOf"], ["class", "tds-picker-time-panel-cell flex pb-2", 3, "tds-picker-time-panel-cell-selected", "click", 4, "ngIf"], [1, "tds-picker-time-panel-cell", "flex", "pb-2", 3, "click"], [1, "tds-picker-time-panel-cell-inner", "flex", "items-center", "justify-center"], ["tds-button", "", "type", "button", "size", "sm", 3, "color", 4, "ngIf"], ["tds-button-flat", "", "type", "button", "size", "sm", 3, "color", 4, "ngIf"], ["tds-button", "", "type", "button", "size", "sm", 3, "color"], ["tds-button-flat", "", "type", "button", "size", "sm", 3, "color"], [1, "tds-picker-footer-extra"], [3, "ngTemplateOutlet"], [1, "w-full", "flex", "items-center", "text-neutral-1-900", "dark:text-d-neutral-1-900"], [1, "text-body-2", "font-semibold"], [1, "w-14", "mx-2"], ["valueField", "index", "textField", "index", 3, "data", "ngModel", "valuePrimitive", "classIcon", "selectChange"], ["tds-label-tmp", ""], ["tds-option-tmp", ""], [1, "w-14"], ["valueField", "index", "textField", "value", 3, "data", "ngModel", "valuePrimitive", "classIcon", "selectChange"], [3, "ngClass"]], template: function TDSTimePickerPanelComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵtemplate(0, TDSTimePickerPanelComponent_ng_container_0_Template, 15, 8, "ng-container", 0);
        i0.ɵɵtemplate(1, TDSTimePickerPanelComponent_ng_template_1_Template, 17, 15, "ng-template", null, 1, i0.ɵɵtemplateRefExtractor);
    } if (rf & 2) {
        const _r1 = i0.ɵɵreference(2);
        i0.ɵɵproperty("ngIf", !ctx.inDatePicker)("ngIfElse", _r1);
    } }, directives: [i2.NgIf, i2.NgForOf, i2.NgClass, i3.TDSButtonComponent, i3.TDSButtonFlatComponent, i2.NgTemplateOutlet, i4.TDSSelect, i5.NgControlStatus, i5.NgModel, i4.TDSLabelTemplateDirective, i4.TDSOptionTemplateDirective], pipes: [i2.DecimalPipe, i1.TDSI18nPipe, i2.AsyncPipe], encapsulation: 2, changeDetection: 0 });
__decorate([
    InputBoolean()
], TDSTimePickerPanelComponent.prototype, "use12Hours", void 0);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(TDSTimePickerPanelComponent, [{
        type: Component,
        args: [{ encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, selector: 'tds-time-picker-panel', exportAs: 'tdsTimePickerPanel', host: {
                    class: "flex flex-col pr-0 border-box ",
                    '[class.tds-picker-time-panel-column-0]': `enabledColumns === 0 && !inDatePicker`,
                    '[class.tds-picker-time-panel-column-1]': `enabledColumns === 1 && !inDatePicker`,
                    '[class.tds-picker-time-panel-column-2]': `enabledColumns === 2 && !inDatePicker`,
                    '[class.tds-picker-time-panel-column-3]': `enabledColumns === 3 && !inDatePicker`,
                    '[class.tds-picker-time-panel-narrow]': `enabledColumns < 3`,
                    '[class.tds-picker-time-panel-placement-bottomLeft]': `!inDatePicker`,
                    '(mousedown)': 'onMousedown($event)'
                }, providers: [{ provide: NG_VALUE_ACCESSOR, useExisting: TDSTimePickerPanelComponent, multi: true }], template: "<ng-container *ngIf=\"!inDatePicker;else datePickerTpl\">\r\n    <div class=\"w-full py-1\">\r\n        <div\r\n            class=\"text-body-2 bg-white dark:bg-d-neutral-3-200 shadow-1-xl text-neutral-1-900 dark:text-d-neutral-1-900 rounded\">\r\n            <!-- <div *ngIf=\"inDatePicker\" class=\"tds-picker-header\">\r\n             <div class=\"tds-picker-header-view\">{{ dateHelper.format($any(time?.value), format) || '&nbsp;' }}</div>\r\n         </div> -->\r\n            <div class=\"tds-picker-content flex justify-between  h-56 overflow-y-hidde \">\r\n                <ul *ngIf=\"hourEnabled\" #hourListElement\r\n                    class=\"tds-picker-time-panel-column h-full relative overflow-y-hidden hover:overflow-y-auto tds-panel-scroll border-r border-neutral-2-100 dark:border-d-neutral-2-100 flex flex-col w-14 py-2.5\">\r\n                    <ng-container *ngFor=\"let hour of hourRange; trackBy: trackByFn\">\r\n                        <li *ngIf=\"!(hideDisabledOptions && hour.disabled)\"\r\n                            class=\"tds-picker-time-panel-cell  flex-auto  px-3 py-2 items-center justify-center\"\r\n                            (click)=\"selectHour(hour)\" [ngClass]=\"{'dark:text-d-primary-1 text-primary-1 tds-picker-time-panel-cell-selected font-semibold':isSelectedHour(hour),\r\n                         'tds-picker-time-panel-cell-disabled cursor-not-allowed':hour.disabled,\r\n                         'cursor-pointer hover:text-primary-1 dark:hover:text-d-primary-1':!hour.disabled\r\n                     }\">\r\n                            <div class=\"tds-picker-time-panel-cell-inner\">{{ hour.index | number: '2.0-0' }}</div>\r\n                        </li>\r\n                    </ng-container>\r\n                </ul>\r\n                <ul *ngIf=\"minuteEnabled\" #minuteListElement\r\n                    class=\"tds-picker-time-panel-column  h-full relative overflow-y-hidden hover:overflow-y-auto tds-panel-scroll border-r border-neutral-2-100 dark:border-d-neutral-2-100 flex flex-col w-14 py-2.5\">\r\n                    <ng-container *ngFor=\"let minute of minuteRange; trackBy: trackByFn\">\r\n                        <li *ngIf=\"!(hideDisabledOptions && minute.disabled)\"\r\n                            class=\"tds-picker-time-panel-cell cursor-pointer hover:text-primary-1 px-3 py-2 items-center justify-center\"\r\n                            (click)=\"selectMinute(minute)\" [class.text-primary-1]=\"isSelectedMinute(minute)\"\r\n                            [class.tds-picker-time-panel-cell-selected]=\"isSelectedMinute(minute)\"\r\n                            [class.tds-picker-time-panel-cell-disabled]=\"minute.disabled\">\r\n                            <div class=\"tds-picker-time-panel-cell-inner\">{{ minute.index | number: '2.0-0' }}</div>\r\n                        </li>\r\n                    </ng-container>\r\n                </ul>\r\n                <ul *ngIf=\"secondEnabled\" #secondListElement\r\n                    class=\"tds-picker-time-panel-column  h-full relative overflow-y-hidden hover:overflow-y-auto tds-panel-scroll border-r border-neutral-2-100 dark:border-d-neutral-2-100 flex flex-col w-14 py-2.5\">\r\n                    <ng-container *ngFor=\"let second of secondRange; trackBy: trackByFn\">\r\n                        <li *ngIf=\"!(hideDisabledOptions && second.disabled)\"\r\n                            class=\"tds-picker-time-panel-cell cursor-pointer hover:text-primary-1 px-3 py-2 items-center justify-center\"\r\n                            (click)=\"selectSecond(second)\" [class.text-primary-1]=\"isSelectedSecond(second)\"\r\n                            [class.tds-picker-time-panel-cell-selected]=\"isSelectedSecond(second)\"\r\n                            [class.tds-picker-time-panel-cell-disabled]=\"second.disabled\">\r\n                            <div class=\"tds-picker-time-panel-cell-inner\">{{ second.index | number: '2.0-0' }}</div>\r\n                        </li>\r\n                    </ng-container>\r\n                </ul>\r\n                <ul *ngIf=\"use12Hours\" #use12HoursListElement\r\n                    class=\"tds-picker-time-panel-column h-full relative overflow-y-hidden flex flex-col px-3 py-2.5 min-w-[70px] \">\r\n                    <ng-container *ngFor=\"let range of use12HoursRange\">\r\n                        <li *ngIf=\"!hideDisabledOptions\" (click)=\"select12Hours(range)\"\r\n                            class=\"tds-picker-time-panel-cell flex pb-2\"\r\n                            [class.tds-picker-time-panel-cell-selected]=\"isSelected12Hours(range)\">\r\n                            <div class=\"tds-picker-time-panel-cell-inner flex items-center justify-center \">\r\n                                <button tds-button type=\"button\" size=\"sm\" *ngIf=\"isSelected12Hours(range)\"\r\n                                    [color]=\"'primary'\">{{ range.value }}</button>\r\n                                <button tds-button-flat type=\"button\" size=\"sm\" *ngIf=\"!isSelected12Hours(range)\"\r\n                                    [color]=\"'secondary'\">{{ range.value }}</button>\r\n                            </div>\r\n                        </li>\r\n                    </ng-container>\r\n                </ul>\r\n            </div>\r\n            <div class=\"tds-picker-footer p-2 border-t  border-neutral-2-100 dark:border-d-neutral-2-100\">\r\n                <div *ngIf=\"addOn\" class=\"tds-picker-footer-extra\">\r\n                    <ng-template [ngTemplateOutlet]=\"addOn\"></ng-template>\r\n                </div>\r\n                <ul class=\"tds-picker-ranges flex justify-center items-center\">\r\n                    <li class=\"tds-picker-now\">\r\n                        <button tds-button-flat type=\"button\" class=\"uppercase\" color=\"primary\" (click)=\"onClickNow()\"\r\n                            style=\"min-width:0\">\r\n                            {{ nowText || ('Calendar.lang.now' | tdsI18n) }}\r\n                        </button>\r\n\r\n                    </li>\r\n                    <!-- <li class=\"tds-picker-ok\">\r\n                     <button tds-button type=\"button\" size=\"sm\" color=\"primary\"  (click)=\"onClickOk()\" style=\"min-width:0\">\r\n                         {{ okText || ('Calendar.lang.ok' | tdsI18n) }}\r\n                     </button>\r\n                 </li> -->\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</ng-container>\r\n\r\n<ng-template #datePickerTpl>\r\n    <div class=\"w-full flex items-center text-neutral-1-900 dark:text-d-neutral-1-900\">\r\n        <div class=\"text-body-2 font-semibold \">\r\n            {{(i18nTime$ | async)}}\r\n        </div>\r\n        <div class=\"w-14 mx-2\">\r\n            <tds-select [data]=\"hourRange\" [ngModel]=\"time.viewHours\" (selectChange)=\"selectHour($event)\"\r\n                [valuePrimitive]=\"false\" valueField=\"index\" textField=\"index\" [classIcon]=\"null\">\r\n                <ng-template tds-label-tmp let-item=\"item\">\r\n                    {{item.data.index | number: '2.0-0'}}\r\n                </ng-template>\r\n                <ng-template tds-option-tmp let-label='label' let-item=\"item\" let-value='value' let-selected=\"selected\">\r\n                    <span [ngClass]=\"{'text-primary-1 dark:text-d-primary-1':selected}\">\r\n                        {{ item.index | number: '2.0-0' }}\r\n                    </span>\r\n                </ng-template>\r\n            </tds-select>\r\n        </div>\r\n        <div>\r\n            :\r\n        </div>\r\n        <div class=\"w-14 mx-2\">\r\n            <tds-select [data]=\"minuteRange\" [ngModel]=\"time.minutes\" (selectChange)=\"selectMinute($event)\"\r\n                [valuePrimitive]=\"false\" valueField=\"index\" textField=\"index\" [classIcon]=\"null\">\r\n                <ng-template tds-label-tmp let-item=\"item\">\r\n                    {{item.data.index | number: '2.0-0'}}\r\n                </ng-template>\r\n                <ng-template tds-option-tmp let-label='label' let-item=\"item\" let-value='value' let-selected=\"selected\">\r\n                    <span [ngClass]=\"{'text-primary-1 dark:text-d-primary-1':selected}\">\r\n                        {{ item.index | number: '2.0-0' }}\r\n                    </span>\r\n                </ng-template>\r\n            </tds-select>\r\n        </div>\r\n        <div class=\"w-14\">\r\n            <tds-select [data]=\"use12HoursRange\" [ngModel]=\"time.selected12Hours\" (selectChange)=\"select12Hours($event)\"\r\n                [valuePrimitive]=\"false\" valueField=\"index\" textField=\"value\" [classIcon]=\"null\">\r\n                <ng-template tds-option-tmp let-label='label' let-item=\"item\" let-value='value' let-selected=\"selected\">\r\n                    <span [ngClass]=\"{'text-primary-1 dark:text-d-primary-1':time.selected12Hours == item.value}\">\r\n                        {{ item.value }}\r\n                    </span>\r\n                </ng-template>\r\n            </tds-select>\r\n        </div>\r\n\r\n    </div>\r\n</ng-template>" }]
    }], function () { return [{ type: i0.ChangeDetectorRef }, { type: i1.DateHelperService }, { type: i0.ElementRef }, { type: i1.TDSI18nService }]; }, { hourListElement: [{
            type: ViewChild,
            args: ['hourListElement', { static: false }]
        }], minuteListElement: [{
            type: ViewChild,
            args: ['minuteListElement', { static: false }]
        }], secondListElement: [{
            type: ViewChild,
            args: ['secondListElement', { static: false }]
        }], use12HoursListElement: [{
            type: ViewChild,
            args: ['use12HoursListElement', { static: false }]
        }], inDatePicker: [{
            type: Input
        }], addOn: [{
            type: Input
        }], hideDisabledOptions: [{
            type: Input
        }], clearText: [{
            type: Input
        }], nowText: [{
            type: Input
        }], okText: [{
            type: Input
        }], placeHolder: [{
            type: Input
        }], use12Hours: [{
            type: Input
        }], defaultOpenValue: [{
            type: Input
        }], closePanel: [{
            type: Output
        }], allowEmpty: [{
            type: Input
        }], disabledHours: [{
            type: Input
        }], disabledMinutes: [{
            type: Input
        }], disabledSeconds: [{
            type: Input
        }], format: [{
            type: Input
        }], hourStep: [{
            type: Input
        }], minuteStep: [{
            type: Input
        }], secondStep: [{
            type: Input
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZS1waWNrZXItcGFuZWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvdGRzLXVpL3RpbWUtcGlja2VyL3RpbWUtcGlja2VyLXBhbmVsLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uL3Byb2plY3RzL3Rkcy11aS90aW1lLXBpY2tlci90aW1lLXBpY2tlci1wYW5lbC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBR0EsT0FBTyxFQUNMLHVCQUF1QixFQUV2QixTQUFTLEVBR1QsWUFBWSxFQUNaLEtBQUssRUFJTCxNQUFNLEVBR04sU0FBUyxFQUNULGlCQUFpQixFQUNsQixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQXdCLGlCQUFpQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDekUsT0FBTyxFQUFjLEVBQUUsRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDL0MsT0FBTyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDckQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRTVDLE9BQU8sRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFjLE1BQU0sdUJBQXVCLENBQUM7QUFDbEYsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7SUNoQm5CLDhCQUtBO0lBSEksd1BBQVMsNEJBQWdCLElBQUM7SUFJMUIsK0JBQThDO0lBQUEsWUFBa0M7O0lBQUEsaUJBQU0sRUFBQTs7OztJQUozRCw2SEFHaEM7SUFDbUQsZUFBa0M7SUFBbEMsbUVBQWtDOzs7SUFQeEYsNkJBQWlFO0lBQzdELDhHQU9LO0lBQ1QsMEJBQWU7Ozs7SUFSTixlQUE2QztJQUE3Qyx5RUFBNkM7OztJQUgxRCxrQ0FDc007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QWlCO2tCQUFuRSxTQUFTO21CQUFDLG1CQUFtQixFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRTtZQUNNLHFCQUFxQjtrQkFBM0UsU0FBUzttQkFBQyx1QkFBdUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUU7WUFFNUMsWUFBWTtrQkFBcEIsS0FBSztZQUNHLEtBQUs7a0JBQWIsS0FBSztZQUNHLG1CQUFtQjtrQkFBM0IsS0FBSztZQUNHLFNBQVM7a0JBQWpCLEtBQUs7WUFDRyxPQUFPO2tCQUFmLEtBQUs7WUFDRyxNQUFNO2tCQUFkLEtBQUs7WUFDRyxXQUFXO2tCQUFuQixLQUFLO1lBQ21CLFVBQVU7a0JBQWxDLEtBQUs7WUFDRyxnQkFBZ0I7a0JBQXhCLEtBQUs7WUFFYSxVQUFVO2tCQUE1QixNQUFNO1lBR0gsVUFBVTtrQkFEYixLQUFLO1lBWUYsYUFBYTtrQkFEaEIsS0FBSztZQWFGLGVBQWU7a0JBRGxCLEtBQUs7WUFhRixlQUFlO2tCQURsQixLQUFLO1lBYUYsTUFBTTtrQkFEVCxLQUFLO1lBNkJGLFFBQVE7a0JBRFgsS0FBSztZQWFGLFVBQVU7a0JBRGIsS0FBSztZQWFGLFVBQVU7a0JBRGIsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5cclxuaW1wb3J0IHsgQm9vbGVhbklucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2NvZXJjaW9uJztcclxuaW1wb3J0IHtcclxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcclxuICBDaGFuZ2VEZXRlY3RvclJlZixcclxuICBDb21wb25lbnQsXHJcbiAgRGVidWdFbGVtZW50LFxyXG4gIEVsZW1lbnRSZWYsXHJcbiAgRXZlbnRFbWl0dGVyLFxyXG4gIElucHV0LFxyXG4gIE9uQ2hhbmdlcyxcclxuICBPbkRlc3Ryb3ksXHJcbiAgT25Jbml0LFxyXG4gIE91dHB1dCxcclxuICBTaW1wbGVDaGFuZ2VzLFxyXG4gIFRlbXBsYXRlUmVmLFxyXG4gIFZpZXdDaGlsZCxcclxuICBWaWV3RW5jYXBzdWxhdGlvblxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUsIG9mLCBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IG1hcCwgdGFrZVVudGlsIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5pbXBvcnQgeyByZXFBbmltRnJhbWUgfSBmcm9tICd0ZHMtdWkvY29yZS9hbmltYXRpb24nO1xyXG5pbXBvcnQgeyBpc05vdE5pbCB9IGZyb20gJ3Rkcy11aS9jb3JlL3V0aWwnO1xyXG5pbXBvcnQgeyBEYXRlSGVscGVyU2VydmljZSwgVERTSTE4bkludGVyZmFjZSwgVERTSTE4blNlcnZpY2UgfSBmcm9tICd0ZHMtdWkvaTE4bic7XHJcbmltcG9ydCB7IElucHV0Qm9vbGVhbiwgVERTSGVscGVyT2JqZWN0LCBURFNTYWZlQW55IH0gZnJvbSAndGRzLXVpL3NoYXJlZC91dGlsaXR5JztcclxuaW1wb3J0IHsgVGltZUhvbGRlciB9IGZyb20gJy4vdGltZS1ob2xkZXInO1xyXG5cclxuZnVuY3Rpb24gbWFrZVJhbmdlKGxlbmd0aDogbnVtYmVyLCBzdGVwOiBudW1iZXIgPSAxLCBzdGFydDogbnVtYmVyID0gMCk6IG51bWJlcltdIHtcclxuICByZXR1cm4gbmV3IEFycmF5KE1hdGguY2VpbChsZW5ndGggLyBzdGVwKSkuZmlsbCgwKS5tYXAoKF8sIGkpID0+IChpICsgc3RhcnQpICogc3RlcCk7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFREU1RpbWVQaWNrZXJVbml0ID0gJ2hvdXInIHwgJ21pbnV0ZScgfCAnc2Vjb25kJyB8ICcxMi1ob3VyJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgc2VsZWN0b3I6ICd0ZHMtdGltZS1waWNrZXItcGFuZWwnLFxyXG4gIGV4cG9ydEFzOiAndGRzVGltZVBpY2tlclBhbmVsJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vdGltZS1waWNrZXItcGFuZWwuY29tcG9uZW50Lmh0bWwnLFxyXG4gIGhvc3Q6IHtcclxuICAgIGNsYXNzOiBcImZsZXggZmxleC1jb2wgcHItMCBib3JkZXItYm94IFwiLFxyXG4gICAgJ1tjbGFzcy50ZHMtcGlja2VyLXRpbWUtcGFuZWwtY29sdW1uLTBdJzogYGVuYWJsZWRDb2x1bW5zID09PSAwICYmICFpbkRhdGVQaWNrZXJgLFxyXG4gICAgJ1tjbGFzcy50ZHMtcGlja2VyLXRpbWUtcGFuZWwtY29sdW1uLTFdJzogYGVuYWJsZWRDb2x1bW5zID09PSAxICYmICFpbkRhdGVQaWNrZXJgLFxyXG4gICAgJ1tjbGFzcy50ZHMtcGlja2VyLXRpbWUtcGFuZWwtY29sdW1uLTJdJzogYGVuYWJsZWRDb2x1bW5zID09PSAyICYmICFpbkRhdGVQaWNrZXJgLFxyXG4gICAgJ1tjbGFzcy50ZHMtcGlja2VyLXRpbWUtcGFuZWwtY29sdW1uLTNdJzogYGVuYWJsZWRDb2x1bW5zID09PSAzICYmICFpbkRhdGVQaWNrZXJgLFxyXG4gICAgJ1tjbGFzcy50ZHMtcGlja2VyLXRpbWUtcGFuZWwtbmFycm93XSc6IGBlbmFibGVkQ29sdW1ucyA8IDNgLFxyXG4gICAgJ1tjbGFzcy50ZHMtcGlja2VyLXRpbWUtcGFuZWwtcGxhY2VtZW50LWJvdHRvbUxlZnRdJzogYCFpbkRhdGVQaWNrZXJgLFxyXG4gICAgJyhtb3VzZWRvd24pJzogJ29uTW91c2Vkb3duKCRldmVudCknXHJcbiAgfSxcclxuICBwcm92aWRlcnM6IFt7IHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLCB1c2VFeGlzdGluZzogVERTVGltZVBpY2tlclBhbmVsQ29tcG9uZW50LCBtdWx0aTogdHJ1ZSB9XVxyXG59KVxyXG5leHBvcnQgY2xhc3MgVERTVGltZVBpY2tlclBhbmVsQ29tcG9uZW50IGltcGxlbWVudHMgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE9uSW5pdCwgT25EZXN0cm95LCBPbkNoYW5nZXMge1xyXG4gIHN0YXRpYyBuZ0FjY2VwdElucHV0VHlwZV91c2UxMkhvdXJzOiBCb29sZWFuSW5wdXQ7XHJcblxyXG4gIHByaXZhdGUgX2hvdXJTdGVwID0gMTtcclxuICBwcml2YXRlIF9taW51dGVTdGVwID0gMTtcclxuICBwcml2YXRlIF9zZWNvbmRTdGVwID0gMTtcclxuICBwcml2YXRlIHVuc3Vic2NyaWJlJCA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XHJcbiAgcHJpdmF0ZSBvbkNoYW5nZT86ICh2YWx1ZTogRGF0ZSkgPT4gdm9pZDtcclxuICBwcml2YXRlIG9uVG91Y2g/OiAoKSA9PiB2b2lkO1xyXG4gIHByaXZhdGUgX2Zvcm1hdCA9ICdoaDptbTpzcyBhJztcclxuICBwcml2YXRlIF9kaXNhYmxlZEhvdXJzPzogKCkgPT4gbnVtYmVyW10gPSAoKSA9PiBbXTtcclxuICBwcml2YXRlIF9kaXNhYmxlZE1pbnV0ZXM/OiAoaG91cjogbnVtYmVyKSA9PiBudW1iZXJbXSA9ICgpID0+IFtdO1xyXG4gIHByaXZhdGUgX2Rpc2FibGVkU2Vjb25kcz86IChob3VyOiBudW1iZXIsIG1pbnV0ZTogbnVtYmVyKSA9PiBudW1iZXJbXSA9ICgpID0+IFtdO1xyXG4gIHByaXZhdGUgX2FsbG93RW1wdHkgPSB0cnVlO1xyXG4gIHByaXZhdGUgX3N0ckFNOiBzdHJpbmcgPSAnQU0nO1xyXG4gIHByaXZhdGUgX3N0clBNOiBzdHJpbmcgPSAnUE0nO1xyXG4gIHRpbWUgPSBuZXcgVGltZUhvbGRlcigpO1xyXG4gIGhvdXJFbmFibGVkID0gdHJ1ZTtcclxuICBtaW51dGVFbmFibGVkID0gdHJ1ZTtcclxuICBzZWNvbmRFbmFibGVkID0gdHJ1ZTtcclxuICBmaXJzdFNjcm9sbGVkID0gZmFsc2U7XHJcbiAgZW5hYmxlZENvbHVtbnMgPSAzO1xyXG4gIGhvdXJSYW5nZSE6IFJlYWRvbmx5QXJyYXk8eyBpbmRleDogbnVtYmVyOyBkaXNhYmxlZDogYm9vbGVhbiB9PjtcclxuICBtaW51dGVSYW5nZSE6IFJlYWRvbmx5QXJyYXk8eyBpbmRleDogbnVtYmVyOyBkaXNhYmxlZDogYm9vbGVhbiB9PjtcclxuICBzZWNvbmRSYW5nZSE6IFJlYWRvbmx5QXJyYXk8eyBpbmRleDogbnVtYmVyOyBkaXNhYmxlZDogYm9vbGVhbiB9PjtcclxuICB1c2UxMkhvdXJzUmFuZ2UhOiBSZWFkb25seUFycmF5PHsgaW5kZXg6IG51bWJlcjsgdmFsdWU6IHN0cmluZyB9PjtcclxuICBzZWxlY3QxMkhvdXJzUmFuZ2U6IEFycmF5PHsgaG91cjogbnVtYmVyOyBtaW51dGU6IG51bWJlcjsgc2Vjb25kOiBudW1iZXI7IGxhYmVsOiBzdHJpbmc7IGRpc2FibGVkOiBib29sZWFuIH0+ID0gW107XHJcbiAgc2VsZWN0MTJIb3Vyc1JhbmdlRGVmYXVsdDogQXJyYXk8eyBpbmRleDogbnVtYmVyOyB2YWx1ZTogc3RyaW5nIH0+ID0gW1xyXG4gICAge1xyXG4gICAgICBpbmRleDogMCxcclxuICAgICAgdmFsdWU6IHRoaXMuX3N0ckFNXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpbmRleDogMSxcclxuICAgICAgdmFsdWU6IHRoaXMuX3N0clBNXHJcbiAgICB9XHJcbiAgXTtcclxuICBpMThuVGltZSQ6IE9ic2VydmFibGU8c3RyaW5nIHwgdW5kZWZpbmVkPiA9IG9mKHVuZGVmaW5lZCk7XHJcbiAgQFZpZXdDaGlsZCgnaG91ckxpc3RFbGVtZW50JywgeyBzdGF0aWM6IGZhbHNlIH0pXHJcbiAgaG91ckxpc3RFbGVtZW50PzogRGVidWdFbGVtZW50O1xyXG4gIEBWaWV3Q2hpbGQoJ21pbnV0ZUxpc3RFbGVtZW50JywgeyBzdGF0aWM6IGZhbHNlIH0pIG1pbnV0ZUxpc3RFbGVtZW50PzogRGVidWdFbGVtZW50O1xyXG4gIEBWaWV3Q2hpbGQoJ3NlY29uZExpc3RFbGVtZW50JywgeyBzdGF0aWM6IGZhbHNlIH0pIHNlY29uZExpc3RFbGVtZW50PzogRGVidWdFbGVtZW50O1xyXG4gIEBWaWV3Q2hpbGQoJ3VzZTEySG91cnNMaXN0RWxlbWVudCcsIHsgc3RhdGljOiBmYWxzZSB9KSB1c2UxMkhvdXJzTGlzdEVsZW1lbnQ/OiBEZWJ1Z0VsZW1lbnQ7XHJcblxyXG4gIEBJbnB1dCgpIGluRGF0ZVBpY2tlcjogYm9vbGVhbiA9IGZhbHNlOyAvLyBJZiBpbnNpZGUgYSBkYXRlLXBpY2tlciwgbW9yZSBkaWZmIHdvcmtzIG5lZWQgdG8gYmUgZG9uZVxyXG4gIEBJbnB1dCgpIGFkZE9uPzogVGVtcGxhdGVSZWY8dm9pZD47XHJcbiAgQElucHV0KCkgaGlkZURpc2FibGVkT3B0aW9ucyA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIGNsZWFyVGV4dD86IHN0cmluZztcclxuICBASW5wdXQoKSBub3dUZXh0Pzogc3RyaW5nO1xyXG4gIEBJbnB1dCgpIG9rVGV4dD86IHN0cmluZztcclxuICBASW5wdXQoKSBwbGFjZUhvbGRlcj86IHN0cmluZyB8IG51bGw7XHJcbiAgQElucHV0KCkgQElucHV0Qm9vbGVhbigpIHVzZTEySG91cnMgPSB0cnVlO1xyXG4gIEBJbnB1dCgpIGRlZmF1bHRPcGVuVmFsdWU/OiBEYXRlO1xyXG5cclxuICBAT3V0cHV0KCkgcmVhZG9ubHkgY2xvc2VQYW5lbCA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcclxuXHJcbiAgQElucHV0KClcclxuICBzZXQgYWxsb3dFbXB0eSh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgaWYgKGlzTm90TmlsKHZhbHVlKSkge1xyXG4gICAgICB0aGlzLl9hbGxvd0VtcHR5ID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgYWxsb3dFbXB0eSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9hbGxvd0VtcHR5O1xyXG4gIH1cclxuXHJcbiAgQElucHV0KClcclxuICBzZXQgZGlzYWJsZWRIb3Vycyh2YWx1ZTogdW5kZWZpbmVkIHwgKCgpID0+IG51bWJlcltdKSkge1xyXG4gICAgdGhpcy5fZGlzYWJsZWRIb3VycyA9IHZhbHVlO1xyXG4gICAgaWYgKCEhdGhpcy5fZGlzYWJsZWRIb3Vycykge1xyXG4gICAgICB0aGlzLmJ1aWxkSG91cnMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCBkaXNhYmxlZEhvdXJzKCk6IHVuZGVmaW5lZCB8ICgoKSA9PiBudW1iZXJbXSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkSG91cnM7XHJcbiAgfVxyXG5cclxuICBASW5wdXQoKVxyXG4gIHNldCBkaXNhYmxlZE1pbnV0ZXModmFsdWU6IHVuZGVmaW5lZCB8ICgoaG91cjogbnVtYmVyKSA9PiBudW1iZXJbXSkpIHtcclxuICAgIGlmIChpc05vdE5pbCh2YWx1ZSkpIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZWRNaW51dGVzID0gdmFsdWU7XHJcbiAgICAgIHRoaXMuYnVpbGRNaW51dGVzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgZGlzYWJsZWRNaW51dGVzKCk6IHVuZGVmaW5lZCB8ICgoaG91cjogbnVtYmVyKSA9PiBudW1iZXJbXSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkTWludXRlcztcclxuICB9XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IGRpc2FibGVkU2Vjb25kcyh2YWx1ZTogdW5kZWZpbmVkIHwgKChob3VyOiBudW1iZXIsIG1pbnV0ZTogbnVtYmVyKSA9PiBudW1iZXJbXSkpIHtcclxuICAgIGlmIChpc05vdE5pbCh2YWx1ZSkpIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZWRTZWNvbmRzID0gdmFsdWU7XHJcbiAgICAgIHRoaXMuYnVpbGRTZWNvbmRzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgZGlzYWJsZWRTZWNvbmRzKCk6IHVuZGVmaW5lZCB8ICgoaG91cjogbnVtYmVyLCBtaW51dGU6IG51bWJlcikgPT4gbnVtYmVyW10pIHtcclxuICAgIHJldHVybiB0aGlzLl9kaXNhYmxlZFNlY29uZHM7XHJcbiAgfVxyXG5cclxuICBASW5wdXQoKVxyXG4gIHNldCBmb3JtYXQodmFsdWU6IHN0cmluZykge1xyXG4gICAgaWYgKGlzTm90TmlsKHZhbHVlKSkge1xyXG4gICAgICB0aGlzLl9mb3JtYXQgPSB2YWx1ZTtcclxuICAgICAgdGhpcy5lbmFibGVkQ29sdW1ucyA9IDA7XHJcbiAgICAgIGNvbnN0IGNoYXJTZXQgPSBuZXcgU2V0KHZhbHVlKTtcclxuICAgICAgdGhpcy5ob3VyRW5hYmxlZCA9IGNoYXJTZXQuaGFzKCdIJykgfHwgY2hhclNldC5oYXMoJ2gnKTtcclxuICAgICAgdGhpcy5taW51dGVFbmFibGVkID0gY2hhclNldC5oYXMoJ20nKTtcclxuICAgICAgdGhpcy5zZWNvbmRFbmFibGVkID0gY2hhclNldC5oYXMoJ3MnKTtcclxuICAgICAgaWYgKHRoaXMuaG91ckVuYWJsZWQpIHtcclxuICAgICAgICB0aGlzLmVuYWJsZWRDb2x1bW5zKys7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMubWludXRlRW5hYmxlZCkge1xyXG4gICAgICAgIHRoaXMuZW5hYmxlZENvbHVtbnMrKztcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5zZWNvbmRFbmFibGVkKSB7XHJcbiAgICAgICAgdGhpcy5lbmFibGVkQ29sdW1ucysrO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnVzZTEySG91cnMpIHtcclxuICAgICAgICB0aGlzLmJ1aWxkMTJIb3VycygpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgZm9ybWF0KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybWF0O1xyXG4gIH1cclxuXHJcbiAgQElucHV0KClcclxuICBzZXQgaG91clN0ZXAodmFsdWU6IG51bWJlcikge1xyXG4gICAgaWYgKGlzTm90TmlsKHZhbHVlKSkge1xyXG4gICAgICB0aGlzLl9ob3VyU3RlcCA9IHZhbHVlO1xyXG4gICAgICB0aGlzLmJ1aWxkSG91cnMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCBob3VyU3RlcCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX2hvdXJTdGVwO1xyXG4gIH1cclxuXHJcbiAgQElucHV0KClcclxuICBzZXQgbWludXRlU3RlcCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICBpZiAoaXNOb3ROaWwodmFsdWUpKSB7XHJcbiAgICAgIHRoaXMuX21pbnV0ZVN0ZXAgPSB2YWx1ZTtcclxuICAgICAgdGhpcy5idWlsZE1pbnV0ZXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCBtaW51dGVTdGVwKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fbWludXRlU3RlcDtcclxuICB9XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IHNlY29uZFN0ZXAodmFsdWU6IG51bWJlcikge1xyXG4gICAgaWYgKGlzTm90TmlsKHZhbHVlKSkge1xyXG4gICAgICB0aGlzLl9zZWNvbmRTdGVwID0gdmFsdWU7XHJcbiAgICAgIHRoaXMuYnVpbGRTZWNvbmRzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgc2Vjb25kU3RlcCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlY29uZFN0ZXA7XHJcbiAgfVxyXG5cclxuICB0cmFja0J5Rm4oaW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gaW5kZXg7XHJcbiAgfVxyXG5cclxuICBidWlsZEhvdXJzKCk6IHZvaWQge1xyXG4gICAgbGV0IGhvdXJSYW5nZXMgPSAyNDtcclxuICAgIGxldCBkaXNhYmxlZEhvdXJzID0gdGhpcy5kaXNhYmxlZEhvdXJzPy4oKTtcclxuICAgIGxldCBzdGFydEluZGV4ID0gMDtcclxuICAgIGlmICh0aGlzLnVzZTEySG91cnMpIHtcclxuICAgICAgaG91clJhbmdlcyA9IDEyO1xyXG4gICAgICBpZiAoZGlzYWJsZWRIb3Vycykge1xyXG4gICAgICAgIGlmICh0aGlzLnRpbWUuc2VsZWN0ZWQxMkhvdXJzID09PSB0aGlzLl9zdHJQTSkge1xyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBGaWx0ZXIgYW5kIHRyYW5zZm9ybSBob3VycyB3aGljaCBncmVhdGVyIG9yIGVxdWFsIHRvIDEyXHJcbiAgICAgICAgICAgKiBbMCwgMSwgMiwgLi4uLCAxMiwgMTMsIDE0LCAxNSwgLi4uLCAyM10gPT4gWzEyLCAxLCAyLCAzLCAuLi4sIDExXVxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBkaXNhYmxlZEhvdXJzID0gZGlzYWJsZWRIb3Vycy5maWx0ZXIoaSA9PiBpID49IDEyKS5tYXAoaSA9PiAoaSA+IDEyID8gaSAtIDEyIDogaSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEZpbHRlciBhbmQgdHJhbnNmb3JtIGhvdXJzIHdoaWNoIGxlc3MgdGhhbiAxMlxyXG4gICAgICAgICAgICogWzAsIDEsIDIsLi4uLCAxMiwgMTMsIDE0LCAxNSwgLi4uMjNdID0+IFsxMiwgMSwgMiwgMywgLi4uLCAxMV1cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgZGlzYWJsZWRIb3VycyA9IGRpc2FibGVkSG91cnMuZmlsdGVyKGkgPT4gaSA8IDEyIHx8IGkgPT09IDI0KS5tYXAoaSA9PiAoaSA9PT0gMjQgfHwgaSA9PT0gMCA/IDEyIDogaSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBzdGFydEluZGV4ID0gMTtcclxuICAgIH1cclxuICAgIHRoaXMuaG91clJhbmdlID0gbWFrZVJhbmdlKGhvdXJSYW5nZXMsIHRoaXMuaG91clN0ZXAsIHN0YXJ0SW5kZXgpLm1hcChyID0+IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpbmRleDogcixcclxuICAgICAgICBkaXNhYmxlZDogISFkaXNhYmxlZEhvdXJzICYmIGRpc2FibGVkSG91cnMuaW5kZXhPZihyKSAhPT0gLTFcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgaWYgKHRoaXMudXNlMTJIb3VycyAmJiB0aGlzLmhvdXJSYW5nZVt0aGlzLmhvdXJSYW5nZS5sZW5ndGggLSAxXS5pbmRleCA9PT0gMTIpIHtcclxuICAgICAgY29uc3QgdGVtcCA9IFsuLi50aGlzLmhvdXJSYW5nZV07XHJcbiAgICAgIHRlbXAudW5zaGlmdCh0ZW1wW3RlbXAubGVuZ3RoIC0gMV0pO1xyXG4gICAgICB0ZW1wLnNwbGljZSh0ZW1wLmxlbmd0aCAtIDEsIDEpO1xyXG4gICAgICB0aGlzLmhvdXJSYW5nZSA9IHRlbXA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBidWlsZE1pbnV0ZXMoKTogdm9pZCB7XHJcbiAgICB0aGlzLm1pbnV0ZVJhbmdlID0gbWFrZVJhbmdlKDYwLCB0aGlzLm1pbnV0ZVN0ZXApLm1hcChyID0+IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpbmRleDogcixcclxuICAgICAgICBkaXNhYmxlZDogISF0aGlzLmRpc2FibGVkTWludXRlcyAmJiB0aGlzLmRpc2FibGVkTWludXRlcyh0aGlzLnRpbWUuaG91cnMhKS5pbmRleE9mKHIpICE9PSAtMVxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBidWlsZFNlY29uZHMoKTogdm9pZCB7XHJcbiAgICB0aGlzLnNlY29uZFJhbmdlID0gbWFrZVJhbmdlKDYwLCB0aGlzLnNlY29uZFN0ZXApLm1hcChyID0+IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpbmRleDogcixcclxuICAgICAgICBkaXNhYmxlZDogISF0aGlzLmRpc2FibGVkU2Vjb25kcyAmJiB0aGlzLmRpc2FibGVkU2Vjb25kcyh0aGlzLnRpbWUuaG91cnMhLCB0aGlzLnRpbWUubWludXRlcyEpLmluZGV4T2YocikgIT09IC0xXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGJ1aWxkMTJIb3VycygpOiB2b2lkIHtcclxuICAgIGNvbnN0IGxvY2FsID0gdGhpcy5pMThuLmdldExvY2FsZSgpO1xyXG5cclxuICAgIGNvbnN0IGlzVXBwZXJGb3JtYXQgPSB0aGlzLl9mb3JtYXQuaW5jbHVkZXMoJ0EnKTtcclxuICAgIGlmIChsb2NhbC5sb2NhbGUgPT09ICd2aScpIHtcclxuICAgICAgdGhpcy5fc3RyQU0gPSAnU0EnO1xyXG4gICAgICB0aGlzLl9zdHJQTSA9ICdDSCc7XHJcbiAgICAgIHRoaXMudGltZS5zZXRTdHJBTSgnU0EnKTtcclxuICAgICAgdGhpcy50aW1lLnNldFN0clBNKCdDSCcpO1xyXG4gICAgfVxyXG4gICAgdGhpcy51c2UxMkhvdXJzUmFuZ2UgPSBbXHJcbiAgICAgIHtcclxuICAgICAgICBpbmRleDogMCxcclxuICAgICAgICB2YWx1ZTogdGhpcy5fc3RyQU1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGluZGV4OiAxLFxyXG4gICAgICAgIHZhbHVlOiB0aGlzLl9zdHJQTVxyXG4gICAgICB9XHJcbiAgICBdO1xyXG4gICAgdGhpcy5zZWxlY3QxMkhvdXJzUmFuZ2VEZWZhdWx0ID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgaW5kZXg6IDAsXHJcbiAgICAgICAgdmFsdWU6IHRoaXMuX3N0ckFNXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpbmRleDogMSxcclxuICAgICAgICB2YWx1ZTogdGhpcy5fc3RyUE1cclxuICAgICAgfVxyXG4gICAgXTtcclxuICB9XHJcbiAgYnVpbGRTZWxlY3QxMkhvdXJzKCk6IHZvaWQge1xyXG4gICAgdGhpcy5zZWxlY3QxMkhvdXJzUmFuZ2UgPSBbXTtcclxuICAgIGxldCBhcnJheTogQXJyYXk8VERTU2FmZUFueT4gPSBbXTtcclxuXHJcbiAgICBpZiAodGhpcy51c2UxMkhvdXJzICYmIFREU0hlbHBlck9iamVjdC5oYXNWYWx1ZSh0aGlzLmhvdXJSYW5nZSkpIHtcclxuICAgICAgdGhpcy5ob3VyUmFuZ2UuZm9yRWFjaChoID0+IHtcclxuICAgICAgICBhcnJheS5wdXNoKHtcclxuICAgICAgICAgIGhvdXI6IGguaW5kZXgsXHJcbiAgICAgICAgICBtaW51dGU6IDAsXHJcbiAgICAgICAgICBzZWNvbmQ6IDAsXHJcbiAgICAgICAgICBkaXNhYmxlZDogaC5kaXNhYmxlZCxcclxuICAgICAgICAgIGxhYmVsOiBgJHtoLmluZGV4fTowMGBcclxuICAgICAgICB9KTtcclxuICAgICAgICBhcnJheS5wdXNoKHtcclxuICAgICAgICAgIGhvdXI6IGguaW5kZXgsXHJcbiAgICAgICAgICBtaW51dGU6IDMwLFxyXG4gICAgICAgICAgc2Vjb25kOiAwLFxyXG4gICAgICAgICAgZGlzYWJsZWQ6IGguZGlzYWJsZWQsXHJcbiAgICAgICAgICBsYWJlbDogYCR7aC5pbmRleH06MzBgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnNlbGVjdDEySG91cnNSYW5nZSA9IGFycmF5LnNvcnQoKGEsIGIpID0+IGEuaG91ciAtIGIuaG91cilcclxuICAgIH1cclxuICB9XHJcbiAgYnVpbGRUaW1lcygpOiB2b2lkIHtcclxuICAgIHRoaXMuYnVpbGRIb3VycygpO1xyXG4gICAgdGhpcy5idWlsZE1pbnV0ZXMoKTtcclxuICAgIHRoaXMuYnVpbGRTZWNvbmRzKCk7XHJcbiAgICB0aGlzLmJ1aWxkMTJIb3VycygpO1xyXG4gICAgdGhpcy5idWlsZFNlbGVjdDEySG91cnMoKTtcclxuICB9XHJcblxyXG4gIHNjcm9sbFRvVGltZShkZWxheTogbnVtYmVyID0gMCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaG91ckVuYWJsZWQgJiYgdGhpcy5ob3VyTGlzdEVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5zY3JvbGxUb1NlbGVjdGVkKHRoaXMuaG91ckxpc3RFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIHRoaXMudGltZS52aWV3SG91cnMhLCBkZWxheSwgJ2hvdXInKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm1pbnV0ZUVuYWJsZWQgJiYgdGhpcy5taW51dGVMaXN0RWxlbWVudCkge1xyXG4gICAgICB0aGlzLnNjcm9sbFRvU2VsZWN0ZWQodGhpcy5taW51dGVMaXN0RWxlbWVudC5uYXRpdmVFbGVtZW50LCB0aGlzLnRpbWUubWludXRlcyEsIGRlbGF5LCAnbWludXRlJyk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5zZWNvbmRFbmFibGVkICYmIHRoaXMuc2Vjb25kTGlzdEVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5zY3JvbGxUb1NlbGVjdGVkKHRoaXMuc2Vjb25kTGlzdEVsZW1lbnQubmF0aXZlRWxlbWVudCwgdGhpcy50aW1lLnNlY29uZHMhLCBkZWxheSwgJ3NlY29uZCcpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMudXNlMTJIb3VycyAmJiB0aGlzLnVzZTEySG91cnNMaXN0RWxlbWVudCkge1xyXG4gICAgICBjb25zdCBzZWxlY3RlZEhvdXJzID0gdGhpcy50aW1lLnNlbGVjdGVkMTJIb3VycztcclxuICAgICAgY29uc3QgaW5kZXggPSBzZWxlY3RlZEhvdXJzID09PSB0aGlzLl9zdHJBTSA/IDAgOiAxO1xyXG4gICAgICB0aGlzLnNjcm9sbFRvU2VsZWN0ZWQodGhpcy51c2UxMkhvdXJzTGlzdEVsZW1lbnQubmF0aXZlRWxlbWVudCwgaW5kZXgsIGRlbGF5LCAnMTItaG91cicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2VsZWN0SG91cihob3VyOiB7IGluZGV4OiBudW1iZXI7IGRpc2FibGVkOiBib29sZWFuIH0pOiB2b2lkIHtcclxuICAgIHRoaXMudGltZS5zZXRIb3Vycyhob3VyLmluZGV4LCBob3VyLmRpc2FibGVkKTtcclxuICAgIGlmICghIXRoaXMuX2Rpc2FibGVkTWludXRlcykge1xyXG4gICAgICB0aGlzLmJ1aWxkTWludXRlcygpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuX2Rpc2FibGVkU2Vjb25kcyB8fCB0aGlzLl9kaXNhYmxlZE1pbnV0ZXMpIHtcclxuICAgICAgdGhpcy5idWlsZFNlY29uZHMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNlbGVjdE1pbnV0ZShtaW51dGU6IHsgaW5kZXg6IG51bWJlcjsgZGlzYWJsZWQ6IGJvb2xlYW4gfSk6IHZvaWQge1xyXG4gICAgdGhpcy50aW1lLnNldE1pbnV0ZXMobWludXRlLmluZGV4LCBtaW51dGUuZGlzYWJsZWQpO1xyXG4gICAgaWYgKCEhdGhpcy5fZGlzYWJsZWRTZWNvbmRzKSB7XHJcbiAgICAgIHRoaXMuYnVpbGRTZWNvbmRzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZWxlY3RTZWNvbmQoc2Vjb25kOiB7IGluZGV4OiBudW1iZXI7IGRpc2FibGVkOiBib29sZWFuIH0pOiB2b2lkIHtcclxuICAgIHRoaXMudGltZS5zZXRTZWNvbmRzKHNlY29uZC5pbmRleCwgc2Vjb25kLmRpc2FibGVkKTtcclxuICB9XHJcblxyXG4gIHNlbGVjdDEySG91cnModmFsdWU6IHsgaW5kZXg6IG51bWJlcjsgdmFsdWU6IHN0cmluZyB9KTogdm9pZCB7XHJcbiAgICBjb25zdCBzZWxlY3QxMmggPSB0aGlzLnNlbGVjdDEySG91cnNSYW5nZURlZmF1bHQuZmluZChmID0+IGYuaW5kZXggPT0gdmFsdWUuaW5kZXgpPy52YWx1ZTtcclxuICAgIHRoaXMudGltZS5zZXRTZWxlY3RlZDEySG91cnMoc2VsZWN0MTJoKTtcclxuICAgIGlmICghIXRoaXMuX2Rpc2FibGVkSG91cnMpIHtcclxuICAgICAgdGhpcy5idWlsZEhvdXJzKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoISF0aGlzLl9kaXNhYmxlZE1pbnV0ZXMpIHtcclxuICAgICAgdGhpcy5idWlsZE1pbnV0ZXMoKTtcclxuICAgIH1cclxuICAgIGlmICghIXRoaXMuX2Rpc2FibGVkU2Vjb25kcykge1xyXG4gICAgICB0aGlzLmJ1aWxkU2Vjb25kcygpO1xyXG4gICAgfVxyXG4gIH1cclxuICBzZWxlY3RDdXRvbTEySG91cnMoZGF0YTogeyBob3VyOiBudW1iZXI7IG1pbnV0ZTogbnVtYmVyOyBzZWNvbmQ6IG51bWJlcjsgbGFiZWw6IHN0cmluZzsgZGlzYWJsZWQ6IGJvb2xlYW4gfSwgc3RyOiB7IGluZGV4OiBudW1iZXI7IHZhbHVlOiBzdHJpbmcgfSkge1xyXG5cclxuICAgIGNvbnN0IHNlbGVjdDEyaCA9IHRoaXMuc2VsZWN0MTJIb3Vyc1JhbmdlRGVmYXVsdC5maW5kKGYgPT4gZi5pbmRleCA9PSBzdHIuaW5kZXgpPy52YWx1ZTtcclxuICAgIHRoaXMudGltZS5zZXRIb3VycyhkYXRhLmhvdXIsIGRhdGEuZGlzYWJsZWQpO1xyXG4gICAgdGhpcy50aW1lLnNldE1pbnV0ZXMoZGF0YS5taW51dGUsIGRhdGEuZGlzYWJsZWQpO1xyXG4gICAgdGhpcy50aW1lLnNldFNlY29uZHMoZGF0YS5zZWNvbmQsIGRhdGEuZGlzYWJsZWQpO1xyXG4gICAgdGhpcy50aW1lLnNldFNlbGVjdGVkMTJIb3VycyhzZWxlY3QxMmgpO1xyXG4gICAgaWYgKCEhdGhpcy5fZGlzYWJsZWRIb3Vycykge1xyXG4gICAgICB0aGlzLmJ1aWxkSG91cnMoKTtcclxuICAgIH1cclxuICAgIGlmICghIXRoaXMuX2Rpc2FibGVkTWludXRlcykge1xyXG4gICAgICB0aGlzLmJ1aWxkTWludXRlcygpO1xyXG4gICAgfVxyXG4gICAgaWYgKCEhdGhpcy5fZGlzYWJsZWRTZWNvbmRzKSB7XHJcbiAgICAgIHRoaXMuYnVpbGRTZWNvbmRzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHNjcm9sbFRvU2VsZWN0ZWQoaW5zdGFuY2U6IEhUTUxFbGVtZW50LCBpbmRleDogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyID0gMCwgdW5pdDogVERTVGltZVBpY2tlclVuaXQpOiB2b2lkIHtcclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdHJhbnNJbmRleCA9IHRoaXMudHJhbnNsYXRlSW5kZXgoaW5kZXgsIHVuaXQpO1xyXG4gICAgY29uc3QgY3VycmVudE9wdGlvbiA9IChpbnN0YW5jZS5jaGlsZHJlblt0cmFuc0luZGV4XSB8fCBpbnN0YW5jZS5jaGlsZHJlblswXSkgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICB0aGlzLnNjcm9sbFRvKGluc3RhbmNlLCBjdXJyZW50T3B0aW9uLm9mZnNldFRvcCwgZHVyYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgdHJhbnNsYXRlSW5kZXgoaW5kZXg6IG51bWJlciwgdW5pdDogVERTVGltZVBpY2tlclVuaXQpOiBudW1iZXIge1xyXG4gICAgaWYgKHVuaXQgPT09ICdob3VyJykge1xyXG4gICAgICByZXR1cm4gdGhpcy5jYWxjSW5kZXgodGhpcy5kaXNhYmxlZEhvdXJzPy4oKSwgdGhpcy5ob3VyUmFuZ2UubWFwKGl0ZW0gPT4gaXRlbS5pbmRleCkuaW5kZXhPZihpbmRleCkpO1xyXG4gICAgfSBlbHNlIGlmICh1bml0ID09PSAnbWludXRlJykge1xyXG4gICAgICByZXR1cm4gdGhpcy5jYWxjSW5kZXgodGhpcy5kaXNhYmxlZE1pbnV0ZXM/Lih0aGlzLnRpbWUuaG91cnMhKSwgdGhpcy5taW51dGVSYW5nZS5tYXAoaXRlbSA9PiBpdGVtLmluZGV4KS5pbmRleE9mKGluZGV4KSk7XHJcbiAgICB9IGVsc2UgaWYgKHVuaXQgPT09ICdzZWNvbmQnKSB7XHJcbiAgICAgIC8vIHNlY29uZFxyXG4gICAgICByZXR1cm4gdGhpcy5jYWxjSW5kZXgoXHJcbiAgICAgICAgdGhpcy5kaXNhYmxlZFNlY29uZHM/Lih0aGlzLnRpbWUuaG91cnMhLCB0aGlzLnRpbWUubWludXRlcyEpLFxyXG4gICAgICAgIHRoaXMuc2Vjb25kUmFuZ2UubWFwKGl0ZW0gPT4gaXRlbS5pbmRleCkuaW5kZXhPZihpbmRleClcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIDEyLWhvdXJcclxuICAgICAgcmV0dXJuIHRoaXMuY2FsY0luZGV4KFtdLCB0aGlzLnVzZTEySG91cnNSYW5nZS5tYXAoaXRlbSA9PiBpdGVtLmluZGV4KS5pbmRleE9mKGluZGV4KSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzY3JvbGxUbyhlbGVtZW50OiBIVE1MRWxlbWVudCwgdG86IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKGR1cmF0aW9uIDw9IDApIHtcclxuICAgICAgZWxlbWVudC5zY3JvbGxUb3AgPSB0bztcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGlmZmVyZW5jZSA9IHRvIC0gZWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICBjb25zdCBwZXJUaWNrID0gKGRpZmZlcmVuY2UgLyBkdXJhdGlvbikgKiAxMDtcclxuXHJcbiAgICByZXFBbmltRnJhbWUoKCkgPT4ge1xyXG4gICAgICBlbGVtZW50LnNjcm9sbFRvcCA9IGVsZW1lbnQuc2Nyb2xsVG9wICsgcGVyVGljaztcclxuICAgICAgaWYgKGVsZW1lbnQuc2Nyb2xsVG9wID09PSB0bykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNjcm9sbFRvKGVsZW1lbnQsIHRvLCBkdXJhdGlvbiAtIDEwKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2FsY0luZGV4KGFycmF5OiBudW1iZXJbXSB8IHVuZGVmaW5lZCwgaW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBpZiAoYXJyYXk/Lmxlbmd0aCAmJiB0aGlzLmhpZGVEaXNhYmxlZE9wdGlvbnMpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICBpbmRleCAtXHJcbiAgICAgICAgYXJyYXkucmVkdWNlKChwcmUsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gcHJlICsgKHZhbHVlIDwgaW5kZXggPyAxIDogMCk7XHJcbiAgICAgICAgfSwgMClcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBjaGFuZ2VkKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMub25DaGFuZ2UpIHtcclxuICAgICAgdGhpcy5vbkNoYW5nZSh0aGlzLnRpbWUudmFsdWUhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCB0b3VjaGVkKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMub25Ub3VjaCkge1xyXG4gICAgICB0aGlzLm9uVG91Y2goKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRpbWVEaXNhYmxlZCh2YWx1ZTogRGF0ZSk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3QgaG91ciA9IHZhbHVlLmdldEhvdXJzKCk7XHJcbiAgICBjb25zdCBtaW51dGUgPSB2YWx1ZS5nZXRNaW51dGVzKCk7XHJcbiAgICBjb25zdCBzZWNvbmQgPSB2YWx1ZS5nZXRTZWNvbmRzKCk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAodGhpcy5kaXNhYmxlZEhvdXJzPy4oKS5pbmRleE9mKGhvdXIpID8/IC0xKSA+IC0xIHx8XHJcbiAgICAgICh0aGlzLmRpc2FibGVkTWludXRlcz8uKGhvdXIpLmluZGV4T2YobWludXRlKSA/PyAtMSkgPiAtMSB8fFxyXG4gICAgICAodGhpcy5kaXNhYmxlZFNlY29uZHM/Lihob3VyLCBtaW51dGUpLmluZGV4T2Yoc2Vjb25kKSA/PyAtMSkgPiAtMVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9uQ2xpY2tOb3coKTogdm9pZCB7XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgaWYgKHRoaXMudGltZURpc2FibGVkKG5vdykpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy50aW1lLnNldFZhbHVlKG5vdyk7XHJcbiAgICB0aGlzLmNoYW5nZWQoKTtcclxuICAgIHRoaXMuY2xvc2VQYW5lbC5lbWl0KCk7XHJcbiAgfVxyXG5cclxuICBvbkNsaWNrT2soKTogdm9pZCB7XHJcbiAgICB0aGlzLmNsb3NlUGFuZWwuZW1pdCgpO1xyXG4gIH1cclxuXHJcbiAgaXNTZWxlY3RlZEhvdXIoaG91cjogeyBpbmRleDogbnVtYmVyOyBkaXNhYmxlZDogYm9vbGVhbiB9KTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gaG91ci5pbmRleCA9PT0gdGhpcy50aW1lLnZpZXdIb3VycztcclxuICB9XHJcblxyXG4gIGlzU2VsZWN0ZWRNaW51dGUobWludXRlOiB7IGluZGV4OiBudW1iZXI7IGRpc2FibGVkOiBib29sZWFuIH0pOiBib29sZWFuIHtcclxuICAgIHJldHVybiBtaW51dGUuaW5kZXggPT09IHRoaXMudGltZS5taW51dGVzO1xyXG4gIH1cclxuXHJcbiAgaXNTZWxlY3RlZFNlY29uZChzZWNvbmQ6IHsgaW5kZXg6IG51bWJlcjsgZGlzYWJsZWQ6IGJvb2xlYW4gfSk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHNlY29uZC5pbmRleCA9PT0gdGhpcy50aW1lLnNlY29uZHM7XHJcbiAgfVxyXG5cclxuICAvLyBpc1NlbGVjdGVkMTJIb3Vycyh2YWx1ZTogeyBob3VyOiBudW1iZXI7IG1pbnV0ZTogbnVtYmVyOyBzZWNvbmQ6IG51bWJlcjsgbGFiZWw6IHN0cmluZzsgZGlzYWJsZWQ6IGJvb2xlYW4gfSwgcmFuZ2U6IHsgaW5kZXg6IG51bWJlcjsgdmFsdWU6IHN0cmluZyB9KTogYm9vbGVhbiB7XHJcbiAgLy8gICBjb25zdCBzZWxlY3QxMmggPSB0aGlzLnNlbGVjdDEySG91cnNSYW5nZURlZmF1bHQuZmluZChmID0+IGYuaW5kZXggPT0gcmFuZ2UuaW5kZXgpPy52YWx1ZT8udG9VcHBlckNhc2UoKTtcclxuICAvLyAgIHJldHVybiB2YWx1ZS5ob3VyID09PSB0aGlzLnRpbWUudmlld0hvdXJzXHJcbiAgLy8gICAgICYmIHZhbHVlLm1pbnV0ZSA9PT0gdGhpcy50aW1lLm1pbnV0ZXNcclxuICAvLyAgICAgJiYgdmFsdWUuc2Vjb25kID09PSB0aGlzLnRpbWUuc2Vjb25kc1xyXG4gIC8vICAgICAmJiBzZWxlY3QxMmggPT09IHRoaXMudGltZS5zZWxlY3RlZDEySG91cnM/LnRvVXBwZXJDYXNlKCk7XHJcbiAgLy8gfVxyXG4gIGlzU2VsZWN0ZWQxMkhvdXJzKHZhbHVlOiB7IGluZGV4OiBudW1iZXI7IHZhbHVlOiBzdHJpbmcgfSk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3Qgc2VsZWN0MTJoID0gdGhpcy5zZWxlY3QxMkhvdXJzUmFuZ2VEZWZhdWx0LmZpbmQoZiA9PiBmLmluZGV4ID09IHZhbHVlLmluZGV4KT8udmFsdWU/LnRvVXBwZXJDYXNlKCk7XHJcbiAgICByZXR1cm4gc2VsZWN0MTJoID09PSB0aGlzLnRpbWUuc2VsZWN0ZWQxMkhvdXJzPy50b1VwcGVyQ2FzZSgpO1xyXG4gIH1cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgY2RyOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgIHB1YmxpYyBkYXRlSGVscGVyOiBEYXRlSGVscGVyU2VydmljZSxcclxuICAgIHByaXZhdGUgZWxlbWVudFJlZjogRWxlbWVudFJlZixcclxuICAgIHByb3RlY3RlZCBpMThuOiBURFNJMThuU2VydmljZSwpIHtcclxuICAgIC8vIFRPRE86IG1vdmUgdG8gaG9zdCBhZnRlciBWaWV3IEVuZ2luZSBkZXByZWNhdGlvblxyXG4gICAgdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndGRzLXBpY2tlci10aW1lLXBhbmVsJyk7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMudGltZS5jaGFuZ2VzLnBpcGUodGFrZVVudGlsKHRoaXMudW5zdWJzY3JpYmUkKSkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgdGhpcy5jaGFuZ2VkKCk7XHJcbiAgICAgIHRoaXMudG91Y2hlZCgpO1xyXG4gICAgICB0aGlzLnNjcm9sbFRvVGltZSgxMjApO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmJ1aWxkVGltZXMoKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLnNjcm9sbFRvVGltZSgpO1xyXG4gICAgICB0aGlzLmZpcnN0U2Nyb2xsZWQgPSB0cnVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5pMThuVGltZSQgPSB0aGlzLmkxOG4ubG9jYWxlQ2hhbmdlLnBpcGUobWFwKChsb2NhbGU6IFREU0kxOG5JbnRlcmZhY2UpID0+IGxvY2FsZS5UaW1lUGlja2VyLnRpbWUpKTtcclxuICB9XHJcblxyXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgdGhpcy51bnN1YnNjcmliZSQubmV4dCgpO1xyXG4gICAgdGhpcy51bnN1YnNjcmliZSQuY29tcGxldGUoKTtcclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcclxuICAgIGNvbnN0IHsgdXNlMTJIb3VycywgZGVmYXVsdE9wZW5WYWx1ZSB9ID0gY2hhbmdlcztcclxuICAgIGlmICghdXNlMTJIb3Vycz8ucHJldmlvdXNWYWx1ZSAmJiB1c2UxMkhvdXJzPy5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgdGhpcy5idWlsZDEySG91cnMoKTtcclxuICAgICAgdGhpcy5lbmFibGVkQ29sdW1ucysrO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlZmF1bHRPcGVuVmFsdWU/LmN1cnJlbnRWYWx1ZSkge1xyXG4gICAgICB0aGlzLnRpbWUuc2V0RGVmYXVsdE9wZW5WYWx1ZSh0aGlzLmRlZmF1bHRPcGVuVmFsdWUgfHwgbmV3IERhdGUoKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB3cml0ZVZhbHVlKHZhbHVlOiBEYXRlKTogdm9pZCB7XHJcbiAgICB0aGlzLnRpbWUuc2V0VmFsdWUodmFsdWUsIHRoaXMudXNlMTJIb3Vycyk7XHJcbiAgICB0aGlzLmJ1aWxkVGltZXMoKTtcclxuXHJcbiAgICBpZiAodmFsdWUgJiYgdGhpcy5maXJzdFNjcm9sbGVkKSB7XHJcbiAgICAgIHRoaXMuc2Nyb2xsVG9UaW1lKDEyMCk7XHJcbiAgICB9XHJcbiAgICAvLyBNYXJrIHRoaXMgY29tcG9uZW50IHRvIGJlIGNoZWNrZWQgbWFudWFsbHkgd2l0aCBpbnRlcm5hbCBwcm9wZXJ0aWVzIGNoYW5naW5nIChzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwODE2KVxyXG4gICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgfVxyXG5cclxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiAodmFsdWU6IERhdGUpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIHRoaXMub25DaGFuZ2UgPSBmbjtcclxuICB9XHJcblxyXG4gIHJlZ2lzdGVyT25Ub3VjaGVkKGZuOiAoKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICB0aGlzLm9uVG91Y2ggPSBmbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFByZXZlbnQgaW5wdXQgbG9zaW5nIGZvY3VzIHdoZW4gY2xpY2sgcGFuZWxcclxuICAgKiBAcGFyYW0gZXZlbnRcclxuICAgKi9cclxuICBvbk1vdXNlZG93bihldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcbn1cclxuIiwiPG5nLWNvbnRhaW5lciAqbmdJZj1cIiFpbkRhdGVQaWNrZXI7ZWxzZSBkYXRlUGlja2VyVHBsXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwidy1mdWxsIHB5LTFcIj5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzPVwidGV4dC1ib2R5LTIgYmctd2hpdGUgZGFyazpiZy1kLW5ldXRyYWwtMy0yMDAgc2hhZG93LTEteGwgdGV4dC1uZXV0cmFsLTEtOTAwIGRhcms6dGV4dC1kLW5ldXRyYWwtMS05MDAgcm91bmRlZFwiPlxyXG4gICAgICAgICAgICA8IS0tIDxkaXYgKm5nSWY9XCJpbkRhdGVQaWNrZXJcIiBjbGFzcz1cInRkcy1waWNrZXItaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGRzLXBpY2tlci1oZWFkZXItdmlld1wiPnt7IGRhdGVIZWxwZXIuZm9ybWF0KCRhbnkodGltZT8udmFsdWUpLCBmb3JtYXQpIHx8ICcmbmJzcDsnIH19PC9kaXY+XHJcbiAgICAgICAgIDwvZGl2PiAtLT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRkcy1waWNrZXItY29udGVudCBmbGV4IGp1c3RpZnktYmV0d2VlbiAgaC01NiBvdmVyZmxvdy15LWhpZGRlIFwiPlxyXG4gICAgICAgICAgICAgICAgPHVsICpuZ0lmPVwiaG91ckVuYWJsZWRcIiAjaG91ckxpc3RFbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZHMtcGlja2VyLXRpbWUtcGFuZWwtY29sdW1uIGgtZnVsbCByZWxhdGl2ZSBvdmVyZmxvdy15LWhpZGRlbiBob3ZlcjpvdmVyZmxvdy15LWF1dG8gdGRzLXBhbmVsLXNjcm9sbCBib3JkZXItciBib3JkZXItbmV1dHJhbC0yLTEwMCBkYXJrOmJvcmRlci1kLW5ldXRyYWwtMi0xMDAgZmxleCBmbGV4LWNvbCB3LTE0IHB5LTIuNVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGhvdXIgb2YgaG91clJhbmdlOyB0cmFja0J5OiB0cmFja0J5Rm5cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpICpuZ0lmPVwiIShoaWRlRGlzYWJsZWRPcHRpb25zICYmIGhvdXIuZGlzYWJsZWQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGRzLXBpY2tlci10aW1lLXBhbmVsLWNlbGwgIGZsZXgtYXV0byAgcHgtMyBweS0yIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwic2VsZWN0SG91cihob3VyKVwiIFtuZ0NsYXNzXT1cInsnZGFyazp0ZXh0LWQtcHJpbWFyeS0xIHRleHQtcHJpbWFyeS0xIHRkcy1waWNrZXItdGltZS1wYW5lbC1jZWxsLXNlbGVjdGVkIGZvbnQtc2VtaWJvbGQnOmlzU2VsZWN0ZWRIb3VyKGhvdXIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3Rkcy1waWNrZXItdGltZS1wYW5lbC1jZWxsLWRpc2FibGVkIGN1cnNvci1ub3QtYWxsb3dlZCc6aG91ci5kaXNhYmxlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICdjdXJzb3ItcG9pbnRlciBob3Zlcjp0ZXh0LXByaW1hcnktMSBkYXJrOmhvdmVyOnRleHQtZC1wcmltYXJ5LTEnOiFob3VyLmRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZHMtcGlja2VyLXRpbWUtcGFuZWwtY2VsbC1pbm5lclwiPnt7IGhvdXIuaW5kZXggfCBudW1iZXI6ICcyLjAtMCcgfX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICA8dWwgKm5nSWY9XCJtaW51dGVFbmFibGVkXCIgI21pbnV0ZUxpc3RFbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZHMtcGlja2VyLXRpbWUtcGFuZWwtY29sdW1uICBoLWZ1bGwgcmVsYXRpdmUgb3ZlcmZsb3cteS1oaWRkZW4gaG92ZXI6b3ZlcmZsb3cteS1hdXRvIHRkcy1wYW5lbC1zY3JvbGwgYm9yZGVyLXIgYm9yZGVyLW5ldXRyYWwtMi0xMDAgZGFyazpib3JkZXItZC1uZXV0cmFsLTItMTAwIGZsZXggZmxleC1jb2wgdy0xNCBweS0yLjVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBtaW51dGUgb2YgbWludXRlUmFuZ2U7IHRyYWNrQnk6IHRyYWNrQnlGblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgKm5nSWY9XCIhKGhpZGVEaXNhYmxlZE9wdGlvbnMgJiYgbWludXRlLmRpc2FibGVkKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRkcy1waWNrZXItdGltZS1wYW5lbC1jZWxsIGN1cnNvci1wb2ludGVyIGhvdmVyOnRleHQtcHJpbWFyeS0xIHB4LTMgcHktMiBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdE1pbnV0ZShtaW51dGUpXCIgW2NsYXNzLnRleHQtcHJpbWFyeS0xXT1cImlzU2VsZWN0ZWRNaW51dGUobWludXRlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MudGRzLXBpY2tlci10aW1lLXBhbmVsLWNlbGwtc2VsZWN0ZWRdPVwiaXNTZWxlY3RlZE1pbnV0ZShtaW51dGUpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjbGFzcy50ZHMtcGlja2VyLXRpbWUtcGFuZWwtY2VsbC1kaXNhYmxlZF09XCJtaW51dGUuZGlzYWJsZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZHMtcGlja2VyLXRpbWUtcGFuZWwtY2VsbC1pbm5lclwiPnt7IG1pbnV0ZS5pbmRleCB8IG51bWJlcjogJzIuMC0wJyB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgIDx1bCAqbmdJZj1cInNlY29uZEVuYWJsZWRcIiAjc2Vjb25kTGlzdEVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRkcy1waWNrZXItdGltZS1wYW5lbC1jb2x1bW4gIGgtZnVsbCByZWxhdGl2ZSBvdmVyZmxvdy15LWhpZGRlbiBob3ZlcjpvdmVyZmxvdy15LWF1dG8gdGRzLXBhbmVsLXNjcm9sbCBib3JkZXItciBib3JkZXItbmV1dHJhbC0yLTEwMCBkYXJrOmJvcmRlci1kLW5ldXRyYWwtMi0xMDAgZmxleCBmbGV4LWNvbCB3LTE0IHB5LTIuNVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IHNlY29uZCBvZiBzZWNvbmRSYW5nZTsgdHJhY2tCeTogdHJhY2tCeUZuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSAqbmdJZj1cIiEoaGlkZURpc2FibGVkT3B0aW9ucyAmJiBzZWNvbmQuZGlzYWJsZWQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGRzLXBpY2tlci10aW1lLXBhbmVsLWNlbGwgY3Vyc29yLXBvaW50ZXIgaG92ZXI6dGV4dC1wcmltYXJ5LTEgcHgtMyBweS0yIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwic2VsZWN0U2Vjb25kKHNlY29uZClcIiBbY2xhc3MudGV4dC1wcmltYXJ5LTFdPVwiaXNTZWxlY3RlZFNlY29uZChzZWNvbmQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjbGFzcy50ZHMtcGlja2VyLXRpbWUtcGFuZWwtY2VsbC1zZWxlY3RlZF09XCJpc1NlbGVjdGVkU2Vjb25kKHNlY29uZClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NsYXNzLnRkcy1waWNrZXItdGltZS1wYW5lbC1jZWxsLWRpc2FibGVkXT1cInNlY29uZC5kaXNhYmxlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRkcy1waWNrZXItdGltZS1wYW5lbC1jZWxsLWlubmVyXCI+e3sgc2Vjb25kLmluZGV4IHwgbnVtYmVyOiAnMi4wLTAnIH19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgPHVsICpuZ0lmPVwidXNlMTJIb3Vyc1wiICN1c2UxMkhvdXJzTGlzdEVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRkcy1waWNrZXItdGltZS1wYW5lbC1jb2x1bW4gaC1mdWxsIHJlbGF0aXZlIG92ZXJmbG93LXktaGlkZGVuIGZsZXggZmxleC1jb2wgcHgtMyBweS0yLjUgbWluLXctWzcwcHhdIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IHJhbmdlIG9mIHVzZTEySG91cnNSYW5nZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgKm5nSWY9XCIhaGlkZURpc2FibGVkT3B0aW9uc1wiIChjbGljayk9XCJzZWxlY3QxMkhvdXJzKHJhbmdlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRkcy1waWNrZXItdGltZS1wYW5lbC1jZWxsIGZsZXggcGItMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MudGRzLXBpY2tlci10aW1lLXBhbmVsLWNlbGwtc2VsZWN0ZWRdPVwiaXNTZWxlY3RlZDEySG91cnMocmFuZ2UpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGRzLXBpY2tlci10aW1lLXBhbmVsLWNlbGwtaW5uZXIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0ZHMtYnV0dG9uIHR5cGU9XCJidXR0b25cIiBzaXplPVwic21cIiAqbmdJZj1cImlzU2VsZWN0ZWQxMkhvdXJzKHJhbmdlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjb2xvcl09XCIncHJpbWFyeSdcIj57eyByYW5nZS52YWx1ZSB9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdGRzLWJ1dHRvbi1mbGF0IHR5cGU9XCJidXR0b25cIiBzaXplPVwic21cIiAqbmdJZj1cIiFpc1NlbGVjdGVkMTJIb3VycyhyYW5nZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdPVwiJ3NlY29uZGFyeSdcIj57eyByYW5nZS52YWx1ZSB9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRkcy1waWNrZXItZm9vdGVyIHAtMiBib3JkZXItdCAgYm9yZGVyLW5ldXRyYWwtMi0xMDAgZGFyazpib3JkZXItZC1uZXV0cmFsLTItMTAwXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiYWRkT25cIiBjbGFzcz1cInRkcy1waWNrZXItZm9vdGVyLWV4dHJhXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImFkZE9uXCI+PC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwidGRzLXBpY2tlci1yYW5nZXMgZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJ0ZHMtcGlja2VyLW5vd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHRkcy1idXR0b24tZmxhdCB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ1cHBlcmNhc2VcIiBjb2xvcj1cInByaW1hcnlcIiAoY2xpY2spPVwib25DbGlja05vdygpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwibWluLXdpZHRoOjBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IG5vd1RleHQgfHwgKCdDYWxlbmRhci5sYW5nLm5vdycgfCB0ZHNJMThuKSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tIDxsaSBjbGFzcz1cInRkcy1waWNrZXItb2tcIj5cclxuICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0ZHMtYnV0dG9uIHR5cGU9XCJidXR0b25cIiBzaXplPVwic21cIiBjb2xvcj1cInByaW1hcnlcIiAgKGNsaWNrKT1cIm9uQ2xpY2tPaygpXCIgc3R5bGU9XCJtaW4td2lkdGg6MFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAge3sgb2tUZXh0IHx8ICgnQ2FsZW5kYXIubGFuZy5vaycgfCB0ZHNJMThuKSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICA8L2xpPiAtLT5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvbmctY29udGFpbmVyPlxyXG5cclxuPG5nLXRlbXBsYXRlICNkYXRlUGlja2VyVHBsPlxyXG4gICAgPGRpdiBjbGFzcz1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LW5ldXRyYWwtMS05MDAgZGFyazp0ZXh0LWQtbmV1dHJhbC0xLTkwMFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWJvZHktMiBmb250LXNlbWlib2xkIFwiPlxyXG4gICAgICAgICAgICB7eyhpMThuVGltZSQgfCBhc3luYyl9fVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LTE0IG14LTJcIj5cclxuICAgICAgICAgICAgPHRkcy1zZWxlY3QgW2RhdGFdPVwiaG91clJhbmdlXCIgW25nTW9kZWxdPVwidGltZS52aWV3SG91cnNcIiAoc2VsZWN0Q2hhbmdlKT1cInNlbGVjdEhvdXIoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICBbdmFsdWVQcmltaXRpdmVdPVwiZmFsc2VcIiB2YWx1ZUZpZWxkPVwiaW5kZXhcIiB0ZXh0RmllbGQ9XCJpbmRleFwiIFtjbGFzc0ljb25dPVwibnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIHRkcy1sYWJlbC10bXAgbGV0LWl0ZW09XCJpdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3tpdGVtLmRhdGEuaW5kZXggfCBudW1iZXI6ICcyLjAtMCd9fVxyXG4gICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSB0ZHMtb3B0aW9uLXRtcCBsZXQtbGFiZWw9J2xhYmVsJyBsZXQtaXRlbT1cIml0ZW1cIiBsZXQtdmFsdWU9J3ZhbHVlJyBsZXQtc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIFtuZ0NsYXNzXT1cInsndGV4dC1wcmltYXJ5LTEgZGFyazp0ZXh0LWQtcHJpbWFyeS0xJzpzZWxlY3RlZH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3sgaXRlbS5pbmRleCB8IG51bWJlcjogJzIuMC0wJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgIDwvdGRzLXNlbGVjdD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInctMTQgbXgtMlwiPlxyXG4gICAgICAgICAgICA8dGRzLXNlbGVjdCBbZGF0YV09XCJtaW51dGVSYW5nZVwiIFtuZ01vZGVsXT1cInRpbWUubWludXRlc1wiIChzZWxlY3RDaGFuZ2UpPVwic2VsZWN0TWludXRlKCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgW3ZhbHVlUHJpbWl0aXZlXT1cImZhbHNlXCIgdmFsdWVGaWVsZD1cImluZGV4XCIgdGV4dEZpZWxkPVwiaW5kZXhcIiBbY2xhc3NJY29uXT1cIm51bGxcIj5cclxuICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSB0ZHMtbGFiZWwtdG1wIGxldC1pdGVtPVwiaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt7aXRlbS5kYXRhLmluZGV4IHwgbnVtYmVyOiAnMi4wLTAnfX1cclxuICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgdGRzLW9wdGlvbi10bXAgbGV0LWxhYmVsPSdsYWJlbCcgbGV0LWl0ZW09XCJpdGVtXCIgbGV0LXZhbHVlPSd2YWx1ZScgbGV0LXNlbGVjdGVkPVwic2VsZWN0ZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBbbmdDbGFzc109XCJ7J3RleHQtcHJpbWFyeS0xIGRhcms6dGV4dC1kLXByaW1hcnktMSc6c2VsZWN0ZWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7IGl0ZW0uaW5kZXggfCBudW1iZXI6ICcyLjAtMCcgfX1cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L3Rkcy1zZWxlY3Q+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInctMTRcIj5cclxuICAgICAgICAgICAgPHRkcy1zZWxlY3QgW2RhdGFdPVwidXNlMTJIb3Vyc1JhbmdlXCIgW25nTW9kZWxdPVwidGltZS5zZWxlY3RlZDEySG91cnNcIiAoc2VsZWN0Q2hhbmdlKT1cInNlbGVjdDEySG91cnMoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICBbdmFsdWVQcmltaXRpdmVdPVwiZmFsc2VcIiB2YWx1ZUZpZWxkPVwiaW5kZXhcIiB0ZXh0RmllbGQ9XCJ2YWx1ZVwiIFtjbGFzc0ljb25dPVwibnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIHRkcy1vcHRpb24tdG1wIGxldC1sYWJlbD0nbGFiZWwnIGxldC1pdGVtPVwiaXRlbVwiIGxldC12YWx1ZT0ndmFsdWUnIGxldC1zZWxlY3RlZD1cInNlbGVjdGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gW25nQ2xhc3NdPVwieyd0ZXh0LXByaW1hcnktMSBkYXJrOnRleHQtZC1wcmltYXJ5LTEnOnRpbWUuc2VsZWN0ZWQxMkhvdXJzID09IGl0ZW0udmFsdWV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7IGl0ZW0udmFsdWUgfX1cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L3Rkcy1zZWxlY3Q+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgPC9kaXY+XHJcbjwvbmctdGVtcGxhdGU+Il19