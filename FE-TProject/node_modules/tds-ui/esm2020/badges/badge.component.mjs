import { __decorate } from "tslib";
import { ChangeDetectionStrategy, Component, Host, Input, Optional, ViewEncapsulation } from '@angular/core';
import { Subject } from 'rxjs';
import { takeUntil } from 'rxjs/operators';
import { InputBoolean } from 'tds-ui/shared/utility';
import { WithConfig } from "tds-ui/core/config";
import { badgePresetColors } from './preset-colors';
import { zoomBadgeMotion } from 'tds-ui/core/animation';
import * as i0 from "@angular/core";
import * as i1 from "tds-ui/core/config";
import * as i2 from "@angular/cdk/bidi";
import * as i3 from "tds-ui/core/no-animation";
import * as i4 from "@angular/common";
import * as i5 from "tds-ui/core/outlet";
import * as i6 from "./badge-sup.component";
function TDSBadgeComponent_ng_container_1_span_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtext(1);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r3 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r3.text);
} }
function TDSBadgeComponent_ng_container_1_span_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "span", 5);
    i0.ɵɵtemplate(1, TDSBadgeComponent_ng_container_1_span_2_ng_container_1_Template, 2, 1, "ng-container", 2);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("tdsStringTemplateOutlet", ctx_r2.text);
} }
const _c0 = function (a0, a1, a2) { return { "w-2 h-2": a0, "w-1.5 h-1.5": a1, "w-2.5 h-2.5": a2 }; };
function TDSBadgeComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelement(1, "span", 3);
    i0.ɵɵtemplate(2, TDSBadgeComponent_ng_container_1_span_2_Template, 2, 1, "span", 4);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵadvance(1);
    i0.ɵɵclassMapInterpolate1("tds-badge-status-dot ", ctx_r0.colorStatus || ctx_r0.presetColor, " relative -top-px inline-block  align-middle rounded-full");
    i0.ɵɵstyleProp("background", !ctx_r0.presetColor && ctx_r0.color);
    i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction3(8, _c0, ctx_r0.size == "md", ctx_r0.size == "sm", ctx_r0.size == "lg"))("ngStyle", ctx_r0.tdsStyle);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r0.text);
} }
function TDSBadgeComponent_ng_container_3_tds_badge_sup_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "tds-badge-sup", 7);
} if (rf & 2) {
    const ctx_r4 = i0.ɵɵnextContext(2);
    i0.ɵɵclassMap(ctx_r4.tdsClass);
    i0.ɵɵproperty("offset", ctx_r4.offset)("title", ctx_r4.title)("tdsStyle", ctx_r4.tdsStyle)("dot", ctx_r4.dot)("size", ctx_r4.size)("overflowCount", ctx_r4.overflowCount)("disableAnimation", !!(ctx_r4.standalone || ctx_r4.status || ctx_r4.color || (ctx_r4.noAnimation == null ? null : ctx_r4.noAnimation.noAnimation)))("count", ctx_r4.count)("noAnimation", !!(ctx_r4.noAnimation == null ? null : ctx_r4.noAnimation.noAnimation))("standalone", ctx_r4.standalone)("placement", ctx_r4.placement);
} }
function TDSBadgeComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, TDSBadgeComponent_ng_container_3_tds_badge_sup_1_Template, 1, 13, "tds-badge-sup", 6);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r1 = i0.ɵɵnextContext();
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r1.showSup);
} }
const _c1 = ["*"];
const TDS_CONFIG_MODULE_NAME = 'badge';
export class TDSBadgeComponent {
    constructor(tdsConfigService, renderer, cdr, elementRef, directionality, noAnimation) {
        this.tdsConfigService = tdsConfigService;
        this.renderer = renderer;
        this.cdr = cdr;
        this.elementRef = elementRef;
        this.directionality = directionality;
        this.noAnimation = noAnimation;
        this._tdsModuleName = TDS_CONFIG_MODULE_NAME;
        this.showSup = false;
        this.presetColor = null;
        this.dir = 'ltr';
        this.destroy$ = new Subject();
        this.showZero = false;
        this.showDot = true;
        this.standalone = false;
        this.dot = false;
        this.overflowCount = 99;
        this.color = undefined;
        this.tdsStyle = null;
        this.text = null;
        this.tdsClass = "bg-primary-1 dark:bg-d-primary-1 text-white";
        /**
         * dùng cho status
         */
        this.size = 'md';
        this.placement = 'topRight';
        // TODO: move to host after View Engine deprecation
        this.elementRef.nativeElement.classList.add('tds-badge');
    }
    ngOnInit() {
        this.directionality.change?.pipe(takeUntil(this.destroy$)).subscribe((direction) => {
            this.dir = direction;
            this.prepareBadgeForRtl();
            this.cdr.detectChanges();
        });
        this.dir = this.directionality.value;
        this.prepareBadgeForRtl();
    }
    ngOnChanges(changes) {
        const { color, showDot, dot, count, showZero } = changes;
        if (color) {
            this.presetColor = this.color && badgePresetColors.indexOf(this.color) !== -1 ? this.color : null;
        }
        if (showDot || dot || count || showZero) {
            this.showSup = (this.showDot && this.dot) || this.count > 0 || (this.count <= 0 && this.showZero);
        }
    }
    prepareBadgeForRtl() {
        if (this.isRtlLayout) {
            this.renderer.addClass(this.elementRef.nativeElement, 'tds-badge-rtl');
        }
        else {
            this.renderer.removeClass(this.elementRef.nativeElement, 'tds-badge-rtl');
        }
    }
    get isRtlLayout() {
        return this.dir === 'rtl';
    }
    get colorStatus() {
        if (!!this.status) {
            return this.convertClass();
        }
        return null;
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
    convertClass() {
        let result = null;
        switch (this.status) {
            case 'primary':
                result = 'bg-primary-1 dark:bg-d-primary-1';
                break;
            case 'secondary':
                result = 'bg-neutral-1-400 dark:bg-d-neutral-1-400';
                break;
            case 'success':
                result = 'bg-success-400 dark:bg-d-success-400';
                break;
            case 'info':
                result = 'bg-info-400 dark:bg-d-info-400';
                break;
            case 'warning':
                result = 'bg-warning-400 dark:bg-d-warning-400';
                break;
            case 'error':
                result = 'bg-error-400 dark:bg-d-error-400';
                break;
            default:
                result = this.status;
                break;
        }
        return result;
    }
}
TDSBadgeComponent.ɵfac = function TDSBadgeComponent_Factory(t) { return new (t || TDSBadgeComponent)(i0.ɵɵdirectiveInject(i1.TDSConfigService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i2.Directionality, 8), i0.ɵɵdirectiveInject(i3.TDSNoAnimationDirective, 9)); };
TDSBadgeComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TDSBadgeComponent, selectors: [["tds-badge"]], hostAttrs: [1, "box-border", "m-0", "p-0", "relative", "inline-block", "leading-none"], hostVars: 8, hostBindings: function TDSBadgeComponent_HostBindings(rf, ctx) { if (rf & 2) {
        i0.ɵɵclassProp("tds-badge-status", ctx.status)("tds-badge-not-a-wrapper", !!(ctx.standalone || ctx.status || ctx.color))("align-middle", !!(ctx.standalone || ctx.status || ctx.color) && !ctx.status)("align-baseline", ctx.status);
    } }, inputs: { showZero: "showZero", showDot: "showDot", standalone: "standalone", dot: "dot", overflowCount: "overflowCount", color: "color", tdsStyle: "tdsStyle", text: "text", title: "title", status: "status", count: "count", offset: "offset", tdsClass: "tdsClass", size: "size", placement: "placement" }, exportAs: ["tdsBadge"], features: [i0.ɵɵNgOnChangesFeature], ngContentSelectors: _c1, decls: 4, vars: 2, consts: [[1, "box-border", "m-0", "p-0", "relative", "inline-block", "leading-none"], [4, "ngIf"], [4, "tdsStringTemplateOutlet"], [3, "ngClass", "ngStyle"], ["class", "tds-badge-status-text ml-2", 4, "ngIf"], [1, "tds-badge-status-text", "ml-2"], [3, "offset", "title", "tdsStyle", "dot", "size", "overflowCount", "disableAnimation", "count", "noAnimation", "standalone", "class", "placement", 4, "ngIf"], [3, "offset", "title", "tdsStyle", "dot", "size", "overflowCount", "disableAnimation", "count", "noAnimation", "standalone", "placement"]], template: function TDSBadgeComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵprojectionDef();
        i0.ɵɵelementStart(0, "div", 0);
        i0.ɵɵtemplate(1, TDSBadgeComponent_ng_container_1_Template, 3, 12, "ng-container", 1);
        i0.ɵɵprojection(2);
        i0.ɵɵtemplate(3, TDSBadgeComponent_ng_container_3_Template, 2, 1, "ng-container", 2);
        i0.ɵɵelementEnd();
    } if (rf & 2) {
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", (ctx.status || ctx.color && !ctx.standalone) && !ctx.dot);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("tdsStringTemplateOutlet", ctx.count);
    } }, directives: [i4.NgIf, i4.NgClass, i4.NgStyle, i5.TDSStringTemplateOutletDirective, i6.TDSBadgeSupComponent, i3.TDSNoAnimationDirective], encapsulation: 2, data: { animation: [zoomBadgeMotion] }, changeDetection: 0 });
__decorate([
    InputBoolean()
], TDSBadgeComponent.prototype, "showZero", void 0);
__decorate([
    InputBoolean()
], TDSBadgeComponent.prototype, "showDot", void 0);
__decorate([
    InputBoolean()
], TDSBadgeComponent.prototype, "standalone", void 0);
__decorate([
    InputBoolean()
], TDSBadgeComponent.prototype, "dot", void 0);
__decorate([
    WithConfig()
], TDSBadgeComponent.prototype, "overflowCount", void 0);
__decorate([
    WithConfig()
], TDSBadgeComponent.prototype, "color", void 0);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(TDSBadgeComponent, [{
        type: Component,
        args: [{
                selector: 'tds-badge',
                exportAs: 'tdsBadge',
                preserveWhitespaces: false,
                encapsulation: ViewEncapsulation.None,
                changeDetection: ChangeDetectionStrategy.OnPush,
                animations: [zoomBadgeMotion],
                template: `
  <div class="box-border m-0 p-0 relative inline-block leading-none">
  <ng-container *ngIf="(status || (color && !standalone)) && !dot">
      <span
        class="tds-badge-status-dot {{ colorStatus || presetColor }} relative -top-px inline-block  align-middle rounded-full"
        [style.background]="!presetColor && color"
        [ngClass]="{'w-2 h-2':size =='md','w-1.5 h-1.5':size == 'sm','w-2.5 h-2.5':size =='lg'}"
        [ngStyle]="tdsStyle"
      ></span>
      <span class="tds-badge-status-text ml-2" *ngIf='text'>
        <ng-container *tdsStringTemplateOutlet="text">{{ text }}</ng-container>
      </span>
    </ng-container>
    <ng-content></ng-content>
    <ng-container *tdsStringTemplateOutlet="count">
      <tds-badge-sup
        *ngIf="showSup"
        [offset]="offset"
        [title]="title"
        [tdsStyle]="tdsStyle"
        [dot]="dot"
        [size]="size"
        [overflowCount]="overflowCount"
        [disableAnimation]="!!(standalone || status || color || noAnimation?.noAnimation)"
        [count]="count"
        [noAnimation]="!!noAnimation?.noAnimation"
        [standalone]="standalone"
        [class]="tdsClass"
        [placement]="placement"
      ></tds-badge-sup>
    </ng-container>
  </div>

    
    
  `,
                host: {
                    '[class.tds-badge-status]': 'status',
                    '[class.tds-badge-not-a-wrapper]': '!!(standalone || status || color)',
                    '[class.align-middle]': '!!(standalone || status || color) && !status',
                    '[class.align-baseline]': 'status',
                    'class': "box-border m-0 p-0 relative inline-block leading-none"
                }
            }]
    }], function () { return [{ type: i1.TDSConfigService }, { type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: i0.ElementRef }, { type: i2.Directionality, decorators: [{
                type: Optional
            }] }, { type: i3.TDSNoAnimationDirective, decorators: [{
                type: Host
            }, {
                type: Optional
            }] }]; }, { showZero: [{
            type: Input
        }], showDot: [{
            type: Input
        }], standalone: [{
            type: Input
        }], dot: [{
            type: Input
        }], overflowCount: [{
            type: Input
        }], color: [{
            type: Input
        }], tdsStyle: [{
            type: Input
        }], text: [{
            type: Input
        }], title: [{
            type: Input
        }], status: [{
            type: Input
        }], count: [{
            type: Input
        }], offset: [{
            type: Input
        }], tdsClass: [{
            type: Input
        }], size: [{
            type: Input
        }], placement: [{
            type: Input
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFkZ2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvdGRzLXVpL2JhZGdlcy9iYWRnZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUlBLE9BQU8sRUFDTCx1QkFBdUIsRUFFdkIsU0FBUyxFQUVULElBQUksRUFDSixLQUFLLEVBSUwsUUFBUSxFQUlSLGlCQUFpQixFQUNsQixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMzQyxPQUFPLEVBQUUsWUFBWSxFQUFjLE1BQU0sdUJBQXVCLENBQUM7QUFDakUsT0FBTyxFQUE4QyxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUk1RixPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUVwRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7Ozs7Ozs7OztJQXNCaEQsNkJBQThDO0lBQUEsWUFBVTtJQUFBLDBCQUFlOzs7SUFBekIsZUFBVTtJQUFWLGlDQUFVOzs7SUFEMUQsK0JBQXNEO0lBQ3BELDBHQUF1RTtJQUN6RSxpQkFBTzs7O0lBRFUsZUFBNkI7SUFBN0IscURBQTZCOzs7O0lBUmxELDZCQUFpRTtJQUM3RCwwQkFLUTtJQUNSLG1GQUVPO0lBQ1QsMEJBQWU7OztJQVJYLGVBQXNIO0lBQXRILHlKQUFzSDtJQUN0SCxpRUFBMEM7SUFDMUMsbUhBQXdGLDRCQUFBO0lBR2hELGVBQVU7SUFBVixrQ0FBVTs7O0lBTXBELG1DQWNpQjs7O0lBRmYsOEJBQWtCO0lBVmxCLHNDQUFpQix1QkFBQSw2QkFBQSxtQkFBQSxxQkFBQSx1Q0FBQSxvSkFBQSx1QkFBQSx1RkFBQSxpQ0FBQSwrQkFBQTs7O0lBSHJCLDZCQUErQztJQUM3QyxzR0FjaUI7SUFD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VUFBVTtrQkFBbEMsS0FBSztZQUNtQixHQUFHO2tCQUEzQixLQUFLO1lBQ2lCLGFBQWE7a0JBQW5DLEtBQUs7WUFDaUIsS0FBSztrQkFBM0IsS0FBSztZQUNHLFFBQVE7a0JBQWhCLEtBQUs7WUFDRyxJQUFJO2tCQUFaLEtBQUs7WUFDRyxLQUFLO2tCQUFiLEtBQUs7WUFDRyxNQUFNO2tCQUFkLEtBQUs7WUFDRyxLQUFLO2tCQUFiLEtBQUs7WUFDRyxNQUFNO2tCQUFkLEtBQUs7WUFDRyxRQUFRO2tCQUFoQixLQUFLO1lBSUcsSUFBSTtrQkFBWixLQUFLO1lBQ0csU0FBUztrQkFBakIsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5cclxuaW1wb3J0IHsgRGlyZWN0aW9uLCBEaXJlY3Rpb25hbGl0eSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9iaWRpJztcclxuaW1wb3J0IHsgQm9vbGVhbklucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2NvZXJjaW9uJztcclxuaW1wb3J0IHtcclxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcclxuICBDaGFuZ2VEZXRlY3RvclJlZixcclxuICBDb21wb25lbnQsXHJcbiAgRWxlbWVudFJlZixcclxuICBIb3N0LFxyXG4gIElucHV0LFxyXG4gIE9uQ2hhbmdlcyxcclxuICBPbkRlc3Ryb3ksXHJcbiAgT25Jbml0LFxyXG4gIE9wdGlvbmFsLFxyXG4gIFJlbmRlcmVyMixcclxuICBTaW1wbGVDaGFuZ2VzLFxyXG4gIFRlbXBsYXRlUmVmLFxyXG4gIFZpZXdFbmNhcHN1bGF0aW9uXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgdGFrZVVudGlsIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5pbXBvcnQgeyBJbnB1dEJvb2xlYW4sIFREU1NhZmVBbnkgfSBmcm9tICd0ZHMtdWkvc2hhcmVkL3V0aWxpdHknO1xyXG5pbXBvcnQgeyBCdXR0b25TaXplLCBURFNDb25maWdLZXksIFREU0NvbmZpZ1NlcnZpY2UsIFdpdGhDb25maWcgfSBmcm9tIFwidGRzLXVpL2NvcmUvY29uZmlnXCI7XHJcblxyXG5cclxuXHJcbmltcG9ydCB7IGJhZGdlUHJlc2V0Q29sb3JzIH0gZnJvbSAnLi9wcmVzZXQtY29sb3JzJztcclxuaW1wb3J0IHsgVERTQmFkZ2VTdGF0dXNUeXBlIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7IHpvb21CYWRnZU1vdGlvbiB9IGZyb20gJ3Rkcy11aS9jb3JlL2FuaW1hdGlvbic7XHJcbmltcG9ydCB7IFREU05vQW5pbWF0aW9uRGlyZWN0aXZlIH0gZnJvbSAndGRzLXVpL2NvcmUvbm8tYW5pbWF0aW9uJztcclxuXHJcbmNvbnN0IFREU19DT05GSUdfTU9EVUxFX05BTUU6IFREU0NvbmZpZ0tleSA9ICdiYWRnZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3Rkcy1iYWRnZScsXHJcbiAgZXhwb3J0QXM6ICd0ZHNCYWRnZScsXHJcbiAgcHJlc2VydmVXaGl0ZXNwYWNlczogZmFsc2UsXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICBhbmltYXRpb25zOiBbem9vbUJhZGdlTW90aW9uXSxcclxuICB0ZW1wbGF0ZTogYFxyXG4gIDxkaXYgY2xhc3M9XCJib3gtYm9yZGVyIG0tMCBwLTAgcmVsYXRpdmUgaW5saW5lLWJsb2NrIGxlYWRpbmctbm9uZVwiPlxyXG4gIDxuZy1jb250YWluZXIgKm5nSWY9XCIoc3RhdHVzIHx8IChjb2xvciAmJiAhc3RhbmRhbG9uZSkpICYmICFkb3RcIj5cclxuICAgICAgPHNwYW5cclxuICAgICAgICBjbGFzcz1cInRkcy1iYWRnZS1zdGF0dXMtZG90IHt7IGNvbG9yU3RhdHVzIHx8IHByZXNldENvbG9yIH19IHJlbGF0aXZlIC10b3AtcHggaW5saW5lLWJsb2NrICBhbGlnbi1taWRkbGUgcm91bmRlZC1mdWxsXCJcclxuICAgICAgICBbc3R5bGUuYmFja2dyb3VuZF09XCIhcHJlc2V0Q29sb3IgJiYgY29sb3JcIlxyXG4gICAgICAgIFtuZ0NsYXNzXT1cInsndy0yIGgtMic6c2l6ZSA9PSdtZCcsJ3ctMS41IGgtMS41JzpzaXplID09ICdzbScsJ3ctMi41IGgtMi41JzpzaXplID09J2xnJ31cIlxyXG4gICAgICAgIFtuZ1N0eWxlXT1cInRkc1N0eWxlXCJcclxuICAgICAgPjwvc3Bhbj5cclxuICAgICAgPHNwYW4gY2xhc3M9XCJ0ZHMtYmFkZ2Utc3RhdHVzLXRleHQgbWwtMlwiICpuZ0lmPSd0ZXh0Jz5cclxuICAgICAgICA8bmctY29udGFpbmVyICp0ZHNTdHJpbmdUZW1wbGF0ZU91dGxldD1cInRleHRcIj57eyB0ZXh0IH19PC9uZy1jb250YWluZXI+XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxyXG4gICAgPG5nLWNvbnRhaW5lciAqdGRzU3RyaW5nVGVtcGxhdGVPdXRsZXQ9XCJjb3VudFwiPlxyXG4gICAgICA8dGRzLWJhZGdlLXN1cFxyXG4gICAgICAgICpuZ0lmPVwic2hvd1N1cFwiXHJcbiAgICAgICAgW29mZnNldF09XCJvZmZzZXRcIlxyXG4gICAgICAgIFt0aXRsZV09XCJ0aXRsZVwiXHJcbiAgICAgICAgW3Rkc1N0eWxlXT1cInRkc1N0eWxlXCJcclxuICAgICAgICBbZG90XT1cImRvdFwiXHJcbiAgICAgICAgW3NpemVdPVwic2l6ZVwiXHJcbiAgICAgICAgW292ZXJmbG93Q291bnRdPVwib3ZlcmZsb3dDb3VudFwiXHJcbiAgICAgICAgW2Rpc2FibGVBbmltYXRpb25dPVwiISEoc3RhbmRhbG9uZSB8fCBzdGF0dXMgfHwgY29sb3IgfHwgbm9BbmltYXRpb24/Lm5vQW5pbWF0aW9uKVwiXHJcbiAgICAgICAgW2NvdW50XT1cImNvdW50XCJcclxuICAgICAgICBbbm9BbmltYXRpb25dPVwiISFub0FuaW1hdGlvbj8ubm9BbmltYXRpb25cIlxyXG4gICAgICAgIFtzdGFuZGFsb25lXT1cInN0YW5kYWxvbmVcIlxyXG4gICAgICAgIFtjbGFzc109XCJ0ZHNDbGFzc1wiXHJcbiAgICAgICAgW3BsYWNlbWVudF09XCJwbGFjZW1lbnRcIlxyXG4gICAgICA+PC90ZHMtYmFkZ2Utc3VwPlxyXG4gICAgPC9uZy1jb250YWluZXI+XHJcbiAgPC9kaXY+XHJcblxyXG4gICAgXHJcbiAgICBcclxuICBgLFxyXG4gIGhvc3Q6IHtcclxuICAgICdbY2xhc3MudGRzLWJhZGdlLXN0YXR1c10nOiAnc3RhdHVzJyxcclxuICAgICdbY2xhc3MudGRzLWJhZGdlLW5vdC1hLXdyYXBwZXJdJzogJyEhKHN0YW5kYWxvbmUgfHwgc3RhdHVzIHx8IGNvbG9yKScsXHJcbiAgICAnW2NsYXNzLmFsaWduLW1pZGRsZV0nOiAnISEoc3RhbmRhbG9uZSB8fCBzdGF0dXMgfHwgY29sb3IpICYmICFzdGF0dXMnLFxyXG4gICAgJ1tjbGFzcy5hbGlnbi1iYXNlbGluZV0nOiAnc3RhdHVzJyxcclxuICAgICdjbGFzcyc6IFwiYm94LWJvcmRlciBtLTAgcC0wIHJlbGF0aXZlIGlubGluZS1ibG9jayBsZWFkaW5nLW5vbmVcIlxyXG4gIH1cclxufSlcclxuZXhwb3J0IGNsYXNzIFREU0JhZGdlQ29tcG9uZW50IGltcGxlbWVudHMgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksIE9uSW5pdCB7XHJcbiAgcmVhZG9ubHkgX3Rkc01vZHVsZU5hbWU6IFREU0NvbmZpZ0tleSA9IFREU19DT05GSUdfTU9EVUxFX05BTUU7XHJcbiAgc3RhdGljIG5nQWNjZXB0SW5wdXRUeXBlX3Nob3daZXJvOiBCb29sZWFuSW5wdXQ7XHJcbiAgc3RhdGljIG5nQWNjZXB0SW5wdXRUeXBlX3Nob3dEb3Q6IEJvb2xlYW5JbnB1dDtcclxuICBzdGF0aWMgbmdBY2NlcHRJbnB1dFR5cGVfZG90OiBCb29sZWFuSW5wdXQ7XHJcbiAgc3RhdGljIG5nQWNjZXB0SW5wdXRUeXBlX3N0YW5kYWxvbmU6IEJvb2xlYW5JbnB1dDtcclxuICBzaG93U3VwID0gZmFsc2U7XHJcbiAgcHJlc2V0Q29sb3I6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gIGRpcjogRGlyZWN0aW9uID0gJ2x0cic7XHJcbiAgcHJpdmF0ZSBkZXN0cm95JCA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XHJcbiAgQElucHV0KCkgQElucHV0Qm9vbGVhbigpIHNob3daZXJvOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQElucHV0KCkgQElucHV0Qm9vbGVhbigpIHNob3dEb3QgPSB0cnVlO1xyXG4gIEBJbnB1dCgpIEBJbnB1dEJvb2xlYW4oKSBzdGFuZGFsb25lID0gZmFsc2U7XHJcbiAgQElucHV0KCkgQElucHV0Qm9vbGVhbigpIGRvdCA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIEBXaXRoQ29uZmlnKCkgb3ZlcmZsb3dDb3VudDogbnVtYmVyID0gOTk7XHJcbiAgQElucHV0KCkgQFdpdGhDb25maWcoKSBjb2xvcj86IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuICBASW5wdXQoKSB0ZHNTdHlsZTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSAgfCBudWxsID0gbnVsbDtcclxuICBASW5wdXQoKSB0ZXh0Pzogc3RyaW5nIHwgVGVtcGxhdGVSZWY8dm9pZD4gfCBudWxsID0gbnVsbDtcclxuICBASW5wdXQoKSB0aXRsZT86IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XHJcbiAgQElucHV0KCkgc3RhdHVzPzogVERTQmFkZ2VTdGF0dXNUeXBlIHwgc3RyaW5nO1xyXG4gIEBJbnB1dCgpIGNvdW50PzogbnVtYmVyIHwgVGVtcGxhdGVSZWY8VERTU2FmZUFueT47XHJcbiAgQElucHV0KCkgb2Zmc2V0PzogW251bWJlciwgbnVtYmVyXTtcclxuICBASW5wdXQoKSB0ZHNDbGFzcz86IHN0cmluZyA9IFwiYmctcHJpbWFyeS0xIGRhcms6YmctZC1wcmltYXJ5LTEgdGV4dC13aGl0ZVwiO1xyXG4gIC8qKlxyXG4gICAqIGTDuW5nIGNobyBzdGF0dXNcclxuICAgKi9cclxuICBASW5wdXQoKSBzaXplOiBCdXR0b25TaXplID0gJ21kJztcclxuICBASW5wdXQoKSBwbGFjZW1lbnQ6ICd0b3BMZWZ0JyB8ICd0b3BSaWdodCcgfCAnYm90dG9tTGVmdCcgfCAnYm90dG9tUmlnaHQnID0gJ3RvcFJpZ2h0JztcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHB1YmxpYyB0ZHNDb25maWdTZXJ2aWNlOiBURFNDb25maWdTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyLFxyXG4gICAgcHJpdmF0ZSBjZHI6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxyXG4gICAgQE9wdGlvbmFsKCkgcHJpdmF0ZSBkaXJlY3Rpb25hbGl0eTogRGlyZWN0aW9uYWxpdHksXHJcbiAgICBASG9zdCgpIEBPcHRpb25hbCgpIHB1YmxpYyBub0FuaW1hdGlvbj86IFREU05vQW5pbWF0aW9uRGlyZWN0aXZlXHJcbiAgKSB7XHJcbiAgICAvLyBUT0RPOiBtb3ZlIHRvIGhvc3QgYWZ0ZXIgVmlldyBFbmdpbmUgZGVwcmVjYXRpb25cclxuICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Rkcy1iYWRnZScpO1xyXG4gIH1cclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGlyZWN0aW9uYWxpdHkuY2hhbmdlPy5waXBlKHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSkuc3Vic2NyaWJlKChkaXJlY3Rpb246IERpcmVjdGlvbikgPT4ge1xyXG4gICAgICB0aGlzLmRpciA9IGRpcmVjdGlvbjtcclxuICAgICAgdGhpcy5wcmVwYXJlQmFkZ2VGb3JSdGwoKTtcclxuICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmRpciA9IHRoaXMuZGlyZWN0aW9uYWxpdHkudmFsdWU7XHJcbiAgICB0aGlzLnByZXBhcmVCYWRnZUZvclJ0bCgpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xyXG4gICAgY29uc3QgeyBjb2xvciwgc2hvd0RvdCwgZG90LCBjb3VudCwgc2hvd1plcm8gfSA9IGNoYW5nZXM7XHJcbiAgICBpZiAoY29sb3IpIHtcclxuICAgICAgdGhpcy5wcmVzZXRDb2xvciA9IHRoaXMuY29sb3IgJiYgYmFkZ2VQcmVzZXRDb2xvcnMuaW5kZXhPZih0aGlzLmNvbG9yKSAhPT0gLTEgPyB0aGlzLmNvbG9yIDogbnVsbDtcclxuICAgIH1cclxuICAgIGlmIChzaG93RG90IHx8IGRvdCB8fCBjb3VudCB8fCBzaG93WmVybykge1xyXG4gICAgICB0aGlzLnNob3dTdXAgPSAodGhpcy5zaG93RG90ICYmIHRoaXMuZG90KSB8fCB0aGlzLmNvdW50ISA+IDAgfHwgKHRoaXMuY291bnQhIDw9IDAgJiYgdGhpcy5zaG93WmVybyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByZXBhcmVCYWRnZUZvclJ0bCgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmlzUnRsTGF5b3V0KSB7XHJcbiAgICAgIHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsICd0ZHMtYmFkZ2UtcnRsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCAndGRzLWJhZGdlLXJ0bCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGlzUnRsTGF5b3V0KCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZGlyID09PSAncnRsJztcclxuICB9XHJcblxyXG4gIGdldCBjb2xvclN0YXR1cygpIHtcclxuICAgIGlmICghIXRoaXMuc3RhdHVzKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRDbGFzcygpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGVzdHJveSQubmV4dCgpO1xyXG4gICAgdGhpcy5kZXN0cm95JC5jb21wbGV0ZSgpO1xyXG4gIH1cclxuICBwcml2YXRlIGNvbnZlcnRDbGFzcygpIHtcclxuICAgIGxldCByZXN1bHQgPSBudWxsO1xyXG5cclxuICAgIHN3aXRjaCAodGhpcy5zdGF0dXMpIHtcclxuICAgICAgY2FzZSAncHJpbWFyeSc6XHJcbiAgICAgICAgcmVzdWx0ID0gJ2JnLXByaW1hcnktMSBkYXJrOmJnLWQtcHJpbWFyeS0xJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnc2Vjb25kYXJ5JzpcclxuICAgICAgICByZXN1bHQgPSAnYmctbmV1dHJhbC0xLTQwMCBkYXJrOmJnLWQtbmV1dHJhbC0xLTQwMCc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3N1Y2Nlc3MnOlxyXG4gICAgICAgIHJlc3VsdCA9ICdiZy1zdWNjZXNzLTQwMCBkYXJrOmJnLWQtc3VjY2Vzcy00MDAnO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdpbmZvJzpcclxuICAgICAgICByZXN1bHQgPSAnYmctaW5mby00MDAgZGFyazpiZy1kLWluZm8tNDAwJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnd2FybmluZyc6XHJcbiAgICAgICAgcmVzdWx0ID0gJ2JnLXdhcm5pbmctNDAwIGRhcms6YmctZC13YXJuaW5nLTQwMCc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2Vycm9yJzpcclxuICAgICAgICByZXN1bHQgPSAnYmctZXJyb3ItNDAwIGRhcms6YmctZC1lcnJvci00MDAnO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJlc3VsdCA9IHRoaXMuc3RhdHVzO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG59XHJcbiJdfQ==