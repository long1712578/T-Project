// @dynamic
export class TDSHelperArray {
    static joinNumber(arr) {
        if (this.hasListValue(arr)) {
            return arr.join(",");
        }
        return "";
    }
    static joinString(arr) {
        if (this.hasListValue(arr)) {
            return arr.join("],[");
        }
        return "";
    }
    static hasListValue(value) {
        return !(value === undefined || value === null || value.length == 0);
    }
    static isArray(a) {
        a = Object.prototype.toString.call(a);
        return "[object Array]" === a || "[object Array Iterator]" === a;
    }
    static arrayMin(a) {
        for (var c = a.length, k = a[0]; c--;)
            a[c] < k && (k = a[c]);
        return k;
    }
    static arrayMax(a) {
        for (var c = a.length, k = a[0]; c--;)
            a[c] > k && (k = a[c]);
        return k;
    }
    /**
     * gộp mảng 2 vào mảng 1
     * @param array1
     * @param array2
     */
    static concat(array1, array2) {
        array1.push.apply(array1, array2);
    }
    //   var exampleData = [
    //     { position: 1, name: 'Hydrogen', weight: 1.0079, symbol: 'H' },
    //     { position: 1, name: 'Helium', weight: 4.0026, symbol: 'H' },
    //     { position: 2, name: 'Lithium', weight: 6.941, symbol: 'L' },    //    
    //   ]
    //   // expect 
    //   // key = ['symbol']
    //   var TREE1 = [
    //     {
    //       symbol: 'H',
    //       children: [
    //         { position: 1, name: 'Hydrogen', weight: 1.0079, symbol: 'H' },
    //         { position: 1, name: 'Helium', weight: 4.0026, symbol: 'H' },
    //       ]
    //     },
    //     {
    //       symbol: 'L',
    //       children: [
    //         { position: 2, name: 'Lithium', weight: 6.941, symbol: 'L' },
    //       ]
    //     },
    //   ]
    //   // OR -------------------------------------------------------------------------
    //   // key = ['symbol', 'position']
    //   var TREE2 = [ 
    //     {
    //       symbol: 'H',
    //       children: [
    //         {
    //           position: 1,
    //           children: [
    //             { position: 1, name: 'Hydrogen', weight: 1.0079, symbol: 'H' },
    //             { position: 1, name: 'Helium', weight: 4.0026, symbol: 'H' },
    //           ]
    //         }
    //       ]
    //     },
    //     {
    //       symbol: 'N',
    //       children: [
    //         {
    //           position: 5,
    //           children: [{ position: 5, name: 'Nitrogen', weight: 14.0067, symbol: 'N' }]
    //         },
    //         {
    //           position: 8,
    //           children: [{ position: 8, name: 'Neon', weight: 20.1797, symbol: 'N' }]
    //         }
    //       ]
    //     },
    //   ]
    /**
     *
     * @param items mảng đối tượng
     * @param keys các  fields cần groupby
     * @returns [[field groupby]:'',children:[]]
     */
    static groupByKey(items, ...keys) {
        if (!this.hasListValue(keys)) {
            return items;
        }
        const result = [];
        const keySet = new Set();
        const groupByKey = keys.shift();
        items.forEach(item => {
            if (!keySet.has(item[groupByKey])) {
                keySet.add(item[groupByKey]);
                result.push({ [groupByKey]: item[groupByKey], children: [item] });
            }
            else {
                result.find((res) => res[groupByKey] === item[groupByKey]).children.push(item);
            }
        });
        if (keys.length) {
            result.forEach((res) => {
                res.children = this.groupByKey(res.children, ...keys);
            });
        }
        return result;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscGVyLWFycmF5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGRzLXVpL3NoYXJlZC91dGlsaXR5L2hlbHBlci1hcnJheS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxXQUFXO0FBQ1gsTUFBTSxPQUFPLGNBQWM7SUFDaEIsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFrQjtRQUN2QyxJQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDdkIsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3hCO1FBQ0QsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBQ00sTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFrQjtRQUN2QyxJQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDdkIsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzFCO1FBQ0QsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBQ00sTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFVO1FBQ2pDLE9BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxTQUFTLElBQUksS0FBSyxLQUFLLElBQUksSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3pFLENBQUM7SUFDTSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQVk7UUFDOUIsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxPQUFPLGdCQUFnQixLQUFLLENBQUMsSUFBSSx5QkFBeUIsS0FBSyxDQUFDLENBQUE7SUFDcEUsQ0FBQztJQUNNLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBWTtRQUMvQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FB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SCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNkLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFRLEVBQUUsRUFBRTtnQkFDMUIsR0FBRyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztZQUN4RCxDQUFDLENBQUMsQ0FBQTtTQUNIO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztDQUNOIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVERTU2FmZUFueSB9IGZyb20gXCIuL2FueVwiO1xyXG5cclxuLy8gQGR5bmFtaWNcclxuZXhwb3J0IGNsYXNzIFREU0hlbHBlckFycmF5IHtcclxuICAgIHB1YmxpYyBzdGF0aWMgam9pbk51bWJlcihhcnI6IEFycmF5PG51bWJlcj4pOiBzdHJpbmcge1xyXG4gICAgICAgIGlmKHRoaXMuaGFzTGlzdFZhbHVlKGFycikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFyci5qb2luKFwiLFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGpvaW5TdHJpbmcoYXJyOiBBcnJheTxzdHJpbmc+KTogc3RyaW5nIHtcclxuICAgICAgICBpZih0aGlzLmhhc0xpc3RWYWx1ZShhcnIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnIuam9pbihcIl0sW1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGhhc0xpc3RWYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICEodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZS5sZW5ndGggPT0gMCk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGlzQXJyYXkoYTpURFNTYWZlQW55KSB7XHJcbiAgICAgICAgYSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKTtcclxuICAgICAgICByZXR1cm4gXCJbb2JqZWN0IEFycmF5XVwiID09PSBhIHx8IFwiW29iamVjdCBBcnJheSBJdGVyYXRvcl1cIiA9PT0gYVxyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBhcnJheU1pbihhOlREU1NhZmVBbnkpIHtcclxuICAgICAgICBmb3IgKHZhciBjID0gYS5sZW5ndGgsIGsgPSBhWzBdOyBjLS07KSBhW2NdIDwgayAmJiAoayA9IGFbY10pO1xyXG4gICAgICAgIHJldHVybiBrO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBhcnJheU1heChhOlREU1NhZmVBbnkpIHtcclxuICAgICAgICBmb3IgKHZhciBjID0gYS5sZW5ndGgsIGsgPSBhWzBdOyBjLS07KSBhW2NdID4gayAmJiAoayA9IGFbY10pO1xyXG4gICAgICAgIHJldHVybiBrO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBn4buZcCBt4bqjbmcgMiB2w6BvIG3huqNuZyAxXHJcbiAgICAgKiBAcGFyYW0gYXJyYXkxIFxyXG4gICAgICogQHBhcmFtIGFycmF5MiBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjb25jYXQoYXJyYXkxOkFycmF5PFREU1NhZmVBbnk+LCBhcnJheTI6QXJyYXk8VERTU2FmZUFueT4pIHtcclxuICAgICAgICBhcnJheTEucHVzaC5hcHBseShhcnJheTEsIGFycmF5MilcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gICB2YXIgZXhhbXBsZURhdGEgPSBbXHJcbiAgICAvLyAgICAgeyBwb3NpdGlvbjogMSwgbmFtZTogJ0h5ZHJvZ2VuJywgd2VpZ2h0OiAxLjAwNzksIHN5bWJvbDogJ0gnIH0sXHJcbiAgICAvLyAgICAgeyBwb3NpdGlvbjogMSwgbmFtZTogJ0hlbGl1bScsIHdlaWdodDogNC4wMDI2LCBzeW1ib2w6ICdIJyB9LFxyXG4gICAgLy8gICAgIHsgcG9zaXRpb246IDIsIG5hbWU6ICdMaXRoaXVtJywgd2VpZ2h0OiA2Ljk0MSwgc3ltYm9sOiAnTCcgfSwgICAgLy8gICAgXHJcbiAgICAvLyAgIF1cclxuICAgIC8vICAgLy8gZXhwZWN0IFxyXG4gICAgLy8gICAvLyBrZXkgPSBbJ3N5bWJvbCddXHJcbiAgICAvLyAgIHZhciBUUkVFMSA9IFtcclxuICAgIC8vICAgICB7XHJcbiAgICAvLyAgICAgICBzeW1ib2w6ICdIJyxcclxuICAgIC8vICAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAvLyAgICAgICAgIHsgcG9zaXRpb246IDEsIG5hbWU6ICdIeWRyb2dlbicsIHdlaWdodDogMS4wMDc5LCBzeW1ib2w6ICdIJyB9LFxyXG4gICAgLy8gICAgICAgICB7IHBvc2l0aW9uOiAxLCBuYW1lOiAnSGVsaXVtJywgd2VpZ2h0OiA0LjAwMjYsIHN5bWJvbDogJ0gnIH0sXHJcbiAgICAvLyAgICAgICBdXHJcbiAgICAvLyAgICAgfSxcclxuICAgIC8vICAgICB7XHJcbiAgICAvLyAgICAgICBzeW1ib2w6ICdMJyxcclxuICAgIC8vICAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAvLyAgICAgICAgIHsgcG9zaXRpb246IDIsIG5hbWU6ICdMaXRoaXVtJywgd2VpZ2h0OiA2Ljk0MSwgc3ltYm9sOiAnTCcgfSxcclxuICAgIC8vICAgICAgIF1cclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICBdXHJcbiAgICAvLyAgIC8vIE9SIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIC8vICAgLy8ga2V5ID0gWydzeW1ib2wnLCAncG9zaXRpb24nXVxyXG4gICAgLy8gICB2YXIgVFJFRTIgPSBbIFxyXG4gICAgLy8gICAgIHtcclxuICAgIC8vICAgICAgIHN5bWJvbDogJ0gnLFxyXG4gICAgLy8gICAgICAgY2hpbGRyZW46IFtcclxuICAgIC8vICAgICAgICAge1xyXG4gICAgLy8gICAgICAgICAgIHBvc2l0aW9uOiAxLFxyXG4gICAgLy8gICAgICAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAvLyAgICAgICAgICAgICB7IHBvc2l0aW9uOiAxLCBuYW1lOiAnSHlkcm9nZW4nLCB3ZWlnaHQ6IDEuMDA3OSwgc3ltYm9sOiAnSCcgfSxcclxuICAgIC8vICAgICAgICAgICAgIHsgcG9zaXRpb246IDEsIG5hbWU6ICdIZWxpdW0nLCB3ZWlnaHQ6IDQuMDAyNiwgc3ltYm9sOiAnSCcgfSxcclxuICAgIC8vICAgICAgICAgICBdXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgIF1cclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICAgIHtcclxuICAgIC8vICAgICAgIHN5bWJvbDogJ04nLFxyXG4gICAgLy8gICAgICAgY2hpbGRyZW46IFtcclxuICAgIC8vICAgICAgICAge1xyXG4gICAgLy8gICAgICAgICAgIHBvc2l0aW9uOiA1LFxyXG4gICAgLy8gICAgICAgICAgIGNoaWxkcmVuOiBbeyBwb3NpdGlvbjogNSwgbmFtZTogJ05pdHJvZ2VuJywgd2VpZ2h0OiAxNC4wMDY3LCBzeW1ib2w6ICdOJyB9XVxyXG4gICAgLy8gICAgICAgICB9LFxyXG4gICAgLy8gICAgICAgICB7XHJcbiAgICAvLyAgICAgICAgICAgcG9zaXRpb246IDgsXHJcbiAgICAvLyAgICAgICAgICAgY2hpbGRyZW46IFt7IHBvc2l0aW9uOiA4LCBuYW1lOiAnTmVvbicsIHdlaWdodDogMjAuMTc5Nywgc3ltYm9sOiAnTicgfV1cclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgXVxyXG4gICAgLy8gICAgIH0sXHJcbiAgICAvLyAgIF1cclxuICAgICAgXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGl0ZW1zIG3huqNuZyDEkeG7kWkgdMaw4bujbmdcclxuICAgICAqIEBwYXJhbSBrZXlzIGPDoWMgIGZpZWxkcyBj4bqnbiBncm91cGJ5XHJcbiAgICAgKiBAcmV0dXJucyBbW2ZpZWxkIGdyb3VwYnldOicnLGNoaWxkcmVuOltdXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdyb3VwQnlLZXkoaXRlbXM6IFREU1NhZmVBbnkgW10sIC4uLmtleXM6IFREU1NhZmVBbnlbXSkge1xyXG4gICAgICAgIGlmKCF0aGlzLmhhc0xpc3RWYWx1ZShrZXlzKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzdWx0OiBURFNTYWZlQW55ID0gW107XHJcbiAgICAgICAgY29uc3Qga2V5U2V0ID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGNvbnN0IGdyb3VwQnlLZXkgPSBrZXlzLnNoaWZ0KCk7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgIGlmICgha2V5U2V0LmhhcyhpdGVtW2dyb3VwQnlLZXldKSkge1xyXG4gICAgICAgICAgICBrZXlTZXQuYWRkKGl0ZW1bZ3JvdXBCeUtleV0pO1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaCh7W2dyb3VwQnlLZXldOiBpdGVtW2dyb3VwQnlLZXldLCBjaGlsZHJlbjogW2l0ZW1dfSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5maW5kKChyZXM6IGFueSkgPT4gcmVzW2dyb3VwQnlLZXldID09PSBpdGVtW2dyb3VwQnlLZXldKS5jaGlsZHJlbi5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmKGtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICByZXN1bHQuZm9yRWFjaCgocmVzOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgcmVzLmNoaWxkcmVuID0gdGhpcy5ncm91cEJ5S2V5KHJlcy5jaGlsZHJlbiwgLi4ua2V5cyk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICB9XHJcbn0iXX0=